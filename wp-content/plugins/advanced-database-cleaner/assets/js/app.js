/*! For license information please see app.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r={6177:(e,t,n)=>{var r=n(6540),a=n(7665),o=n(7832),i=n(6668);const l=wp.i18n;var c=n(6710),s=n(33),u=n(5178),d=n(9666),m=n(1468),f=n(5307),p=["id","type","name","min","max","Icon","className","placeholder"];function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(null,arguments)}const v=function(e){var t=e.id,n=e.type,a=e.name,o=e.min,i=e.max,l=e.Icon,c=e.className,s=e.placeholder,u=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,p);return r.createElement("div",{className:"relative rounded-md"},l&&r.createElement("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2"},r.createElement(l,{className:"h-4 w-4 text-gray-400","aria-hidden":"true"})),r.createElement("input",h({id:t,name:a,type:n,min:o,max:i,className:"h-[2.3rem] !rounded-lg !border !border-gray-400/60 px-3 ".concat(l&&"pl-8","  !text-[.85rem] !text-gray-900 placeholder:!text-[.82rem] placeholder:!text-gray-400 focus:!border-black focus:!outline-none focus:!ring-0 ").concat(c),placeholder:s},u)))};var y=["Icon","spinIcon","text","className"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(null,arguments)}const b=function(e){var t=e.Icon,n=void 0===t?null:t,a=e.spinIcon,o=void 0!==a&&a,i=e.text,l=e.className,c=void 0===l?"":l,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,y);return r.createElement("button",g({type:"submit",className:"inline-flex h-[2.3rem] w-full items-center justify-center gap-x-2 whitespace-nowrap rounded-md bg-primary px-3 text-sm text-white shadow-sm hover:opacity-90 hover:shadow-sm hover:shadow-gray-400 sm:w-auto ".concat(c)},s),n&&r.createElement(n,{className:"text-[1.2rem] text-white ".concat(o?"animate-spin":"")}),i)};var x=["Icon","shouldAnimate","text","className"];function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(null,arguments)}const w=function(e){var t=e.Icon,n=void 0===t?null:t,a=e.shouldAnimate,o=void 0!==a&&a,i=e.text,l=e.className,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,x);return r.createElement("button",_({type:"submit",className:"inline-flex h-[2rem] items-center justify-center gap-x-2 whitespace-nowrap rounded-md border border-primary bg-gray-50 px-2 text-[.85rem] text-primary shadow-sm hover:opacity-90 hover:shadow-md sm:w-auto ".concat(l," ")},c),n&&r.createElement(n,{className:"text-[1rem] text-primary ".concat(o?"animate-spin":"")}),i)};var E=n(9828),N=n(4738);function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const S=function(e){var t=e.text,n=e.textStyle,a=void 0===n?"font-medium":n,o=e.toggleSize,i=void 0===o?"normal":o,l=e.isActive,c=void 0!==l&&l,s=e.toggleChangeCallback,u=e.bgColor,d=void 0===u?"bg-[#2271b1]":u,m="small"===i?"h-5 w-10":"h-6 w-11",f="small"===i?"h-4 w-4":"h-5 w-5";return r.createElement(E.D,{as:"div",className:"flex items-center"},r.createElement(N.dO,{checked:c,onChange:function(e){s&&s(e)},className:k(c?d:"bg-gray-300","relative inline-flex flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",m)},r.createElement("span",{"aria-hidden":"true",className:k(c?"translate-x-5":"translate-x-0","pointer-events-none inline-block transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",f)})),t&&r.createElement("span",{className:"ml-3 flex items-center gap-2 text-sm"},r.createElement("span",{className:"text-gray-900 ".concat(a)},t)))};function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const j=function(e){var t=e.children,n=e.content,a=e.iconSize,o=void 0===a?"text-[1rem]":a,i=e.iconColor,l=void 0===i?"text-gray-500":i,c=e.className,u=void 0===c?"":c,d=e.position,m=void 0===d?"top":d,f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(!1),2),p=f[0],h=f[1],v=(0,r.useRef)(null);(0,r.useEffect)((function(){return function(){clearTimeout(v.current)}}),[]);var y=function(){clearTimeout(v.current),v.current=setTimeout((function(){h(!0)}),300)},g=function(){clearTimeout(v.current),v.current=setTimeout((function(){h(!1)}),100)},b="top"===m?"bottom-full mb-2":"top-full mt-2",x="top"===m?"top-full":"bottom-full";return r.createElement("div",{className:"relative flex justify-center ".concat(u)},r.createElement("div",{onMouseEnter:y,onMouseLeave:g},t||r.createElement(s.Y4n,{className:"mt-[3px] ".concat(o," ").concat(l)})),p&&r.createElement("div",{onMouseEnter:y,onMouseLeave:g,className:"absolute ".concat(b," !z-50 w-[100px] transform rounded-xl bg-gray-800 p-4 !text-left text-[.82rem] !font-normal text-white shadow-lg hover:!cursor-default sxs:w-[200px] sm:w-[250px]")},n&&r.createElement("div",null,n),r.createElement("div",{className:"absolute left-1/2 ".concat(x," h-0 w-0 -translate-x-1/2 transform border-l-[6px] border-r-[6px] ").concat("top"===m?"border-t-[6px] border-t-gray-800":"border-b-[6px] border-b-gray-800"," border-transparent content-['']")})))},O=function(e){var t=e.children,n=e.content,a=e.line2,o=void 0===a?"":a,i=e.align,l=function(e){switch(e){case"left":return{position:"bottom-[calc(100%+0.5rem)] left-0",animation:"translate-y-2 group-hover:translate-y-0"};case"right":default:return{position:"bottom-[calc(100%+0.5rem)] right-0",animation:"translate-y-2 group-hover:translate-y-0"};case"bottom-left":return{position:"top-[calc(100%+0.5rem)] left-0",animation:"-translate-y-2 group-hover:translate-y-0"};case"bottom-right":return{position:"top-[calc(100%+0.5rem)] right-0",animation:"-translate-y-2 group-hover:translate-y-0"}}}(void 0===i?"right":i),c=l.position,s=l.animation;return r.createElement("span",{className:"group relative inline-flex"},r.createElement("div",{className:"".concat("pointer-events-none absolute z-50 opacity-0 scale-95 whitespace-nowrap transition-all duration-200 ease-out group-hover:opacity-100 group-hover:scale-100"," ").concat(c," ").concat(s)},r.createElement("div",{className:"rounded-lg bg-zinc-700 px-2 py-1 text-[.82rem] font-semibold text-white shadow-md"},n,o&&r.createElement("div",{className:"text-[.75rem] font-normal text-gray-300"},o))),t)};var T=["Icon","href","target","className","children"];function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(null,arguments)}const I=function(e){var t=e.Icon,n=e.href,a=e.target,o=void 0===a?"_self":a,i=e.className,l=e.children,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,T);return r.createElement("a",P({href:n,target:"_blank"===o?"_blank":"_self",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-x-2 font-semibold text-gray-800 underline hover:text-blue-500 hover:underline focus:ring-0 sm:w-auto ".concat(i," ")},c),t&&r.createElement(t,{className:"text-[1.2rem] text-black"}),l)};var C=(0,l.__)("Loading data...","advanced-database-cleaner");const A=function(e){var t=e.text,n=void 0===t?C:t,a=e.size,o=void 0===a?"text-[1.5rem]":a,i=e.spinnerColor,l=void 0===i?"text-primary":i;return r.createElement("div",{className:"flex items-center gap-1"},r.createElement(u.JbZ,{className:"animate-spin ".concat(o," ").concat(l)}),""!==n&&r.createElement("span",{className:"ml-2"},n))};var F=n(2682),M=adbc_app_settings.settings||[],D=adbc_app_settings.license_data||{},G=adbc_app_settings.nonce||"",z=adbc_app_settings.version||"",R=adbc_app_settings.version_type||"",B=adbc_app_settings.warnings||[],U=adbc_app_settings.notifications||[],W=adbc_app_settings.is_multisite||"0",Y=adbc_app_settings.sites_list||[],q=adbc_app_settings.rest_url||"",K=adbc_app_settings.actionscheduler_actions_exists||"0",H=adbc_app_settings.actionscheduler_logs_exists||"0",$=Number(adbc_app_settings.php_max_execution_time)||120,V="FREE"===R?"adbc-free":"adbc-premium",Q=n(1083);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function Z(){Z=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==J(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(J(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function X(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var ee=function(e){var t,n=arguments;return(t=Z().mark((function t(){var r,a,o,i,l,c,s,u,d,m,f,p,h;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(r=n.length>1&&void 0!==n[1]?n[1]:{}).method,o=void 0===a?"GET":a,i=r.params,l=void 0===i?{}:i,c=r.data,s=void 0===c?{}:c,u=r.signal,t.prev=1,t.next=4,(0,Q.A)({url:e,method:o,params:l,data:s,headers:{"X-WP-Nonce":G,"Content-Type":"application/json"},signal:u,timeout:1e3*$});case 4:return d=t.sent,t.abrupt("return",d.data);case 8:if(t.prev=8,t.t0=t.catch(1),!Q.A.isCancel(t.t0)){t.next=12;break}throw{isCanceled:!0,originalError:t.t0};case 12:throw{status:null!==(m=null===(f=t.t0.response)||void 0===f?void 0:f.status)&&void 0!==m?m:0,message:null!==(p=null===(h=t.t0.response)||void 0===h||null===(h=h.data)||void 0===h?void 0:h.message)&&void 0!==p?p:t.t0.message,code:t.t0.code,isCanceled:!1};case 14:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){X(o,r,a,i,l,"next",e)}function l(e){X(o,r,a,i,l,"throw",e)}i(void 0)}))})()};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(){ne=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==te(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(te(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function re(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){re(o,r,a,i,l,"next",e)}function l(e){re(o,r,a,i,l,"throw",e)}i(void 0)}))}}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=ae(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-column-value-from-table",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return ce.apply(this,arguments)}function ce(){return(ce=ae(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/dismiss-notification",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return ue.apply(this,arguments)}function ue(){return(ue=ae(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-all-schedule-frequencies",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return me.apply(this,arguments)}function me(){return(me=ae(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/migration/get-available-migration-data",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return pe.apply(this,arguments)}function pe(){return(pe=ae(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/migration/migrate-data",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=n(5504),ve=n(1612),ye=n(7008),ge=n(9826),be=n(9644),xe=n(9584),_e=n(819),we=n(5414),Ee={processFilter:1,search:"",searchIn:"name",size:0,sizeUnit:"KB",site:"all",belongsTo:"all",belongsToPluginSlug:"",belongsToThemeSlug:"",showManualCorrectionsOnly:!1,currentPage:1,itemsPerPage:50,sortBy:"",sortOrder:"ASC",tableStatus:"all",prefixStatus:"all",autoload:"all",expired:"all",duplicated:"all",unused:"all",frequency:"all",interval:"all",hasAction:"all"},Ne=(0,f.Z0)({name:"filter",initialState:Ee,reducers:{setFilters:function(e,t){var n=t.payload;for(var r in n)e[r]=n[r];e.currentPage=1,e.processFilter+=1},setToOptimizePresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.tableStatus="to_optimize",e.sortBy="overhead",e.sortOrder="DESC"},setToRepairPresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.tableStatus="to_repair"},setInvalidPrefixPresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.prefixStatus="invalid_prefix"},setNotScannedPresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.belongsTo="not_scanned"},setBigItemsPresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.size=150,e.sortBy="size",e.sortOrder="DESC"},setAutoloadPresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.autoload="yes",e.sortBy="size",e.sortOrder="DESC"},setExpiredTransientsPresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.expired="yes"},setUnusedMetaPresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.unused="yes"},setDuplicatedMetaPresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.duplicated="yes"},setCronNoActionPresetFilter:function(e){Ne.caseReducers.resetSearchFilters(e),e.hasAction="no"},setBelongsTo:function(e,t){e.belongsTo=t.payload,e.belongsToPluginSlug="",e.belongsToThemeSlug="",e.currentPage=1},setBelongsToPluginSlug:function(e,t){e.belongsToPluginSlug=t.payload,e.belongsTo="",e.belongsToThemeSlug="",e.currentPage=1},setBelongsToThemeSlug:function(e,t){e.belongsToThemeSlug=t.payload,e.belongsTo="",e.belongsToPluginSlug="",e.currentPage=1},setSorting:function(e,t){var n=t.payload.newSortBy;e.sortBy===n?e.sortOrder="ASC"===e.sortOrder?"DESC":"ASC":(e.sortBy=n,e.sortOrder="ASC"),e.currentPage=1},setCurrentPage:function(e,t){e.currentPage=t.payload},resetSearchFilters:function(e){var t=e.itemsPerPage,n=e.sortBy,r=e.sortOrder,a=e.processFilter;Object.assign(e,Ee),e.itemsPerPage=t,e.sortBy=n,e.sortOrder=r,e.processFilter=a+1},resetAllFilters:function(e){var t=e.itemsPerPage;Object.assign(e,Ee),e.itemsPerPage=t},forceRefreshData:function(e){e.processFilter+=1}}}),ke=Ne.actions,Se=ke.setFilters,Le=ke.setToOptimizePresetFilter,je=ke.setToRepairPresetFilter,Oe=ke.setInvalidPrefixPresetFilter,Te=ke.setNotScannedPresetFilter,Pe=ke.setBigItemsPresetFilter,Ie=ke.setAutoloadPresetFilter,Ce=ke.setExpiredTransientsPresetFilter,Ae=ke.setUnusedMetaPresetFilter,Fe=ke.setDuplicatedMetaPresetFilter,Me=ke.setCronNoActionPresetFilter,De=ke.setBelongsTo,Ge=ke.setBelongsToPluginSlug,ze=ke.setBelongsToThemeSlug,Re=ke.setSorting,Be=ke.setCurrentPage,Ue=ke.resetSearchFilters,We=ke.resetAllFilters,Ye=ke.forceRefreshData;const qe=Ne.reducer;var Ke=function(e){return""!==e.filter.search||"name"!==e.filter.searchIn||"all"!==e.filter.tableStatus||"all"!==e.filter.prefixStatus||e.filter.size>0||"KB"!==e.filter.sizeUnit||"all"!==e.filter.site||"all"!==e.filter.belongsTo||""!==e.filter.belongsToPluginSlug||""!==e.filter.belongsToThemeSlug||!0===e.filter.showManualCorrectionsOnly||"all"!==e.filter.autoload||"all"!==e.filter.expired||"all"!==e.filter.duplicated||"all"!==e.filter.unused||"all"!==e.filter.frequency||"all"!==e.filter.interval||"all"!==e.filter.hasAction},He=function(e){return""!==e.filter.search||"name"!==e.filter.searchIn||"all"!==e.filter.tableStatus||"all"!==e.filter.prefixStatus||e.filter.size>0||"all"!==e.filter.site||"all"!==e.filter.autoload||"all"!==e.filter.expired||"all"!==e.filter.duplicated||"all"!==e.filter.unused||"all"!==e.filter.frequency||"all"!==e.filter.interval||"all"!==e.filter.hasAction},$e=[[{key:25,label:"25"},{key:50,label:"50"},{key:100,label:"100"},{key:200,label:"200"},{key:500,label:"500"},{key:1e3,label:"1000"}]],Ve=$e.flat();const Qe=function(){var e,t=(0,m.d4)((function(e){return e.filter.itemsPerPage})),n=(0,m.wA)(),a=null!==(e=Ve.find((function(e){return e.key===t})))&&void 0!==e?e:Ve[0];return r.createElement("div",{className:"flex flex-col items-center gap-x-2 gap-y-2 sxs:flex-row"},r.createElement("span",null,(0,l.__)("Items per page","advanced-database-cleaner")),r.createElement(fm,{selectItems:$e,selectedItem:a,onSelectionChange:function(e){n(Se({itemsPerPage:e}))},minWidthButton:"min-w-[60px]",minWidthContent:"min-w-[80px]",borderColor:"border-gray-400",extraBtnClasses:"!h-[1.6rem]",openUpward:!0}))};function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ze=function(e){var t=e.totalItems,n=void 0===t?0:t,a=e.onRefresh,o=e.loading,i=e.filterApplied,c=void 0!==i&&i,s=e.additionalStyle,d=void 0===s?"":s,f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(1),2),p=f[0],h=f[1],y=(0,m.d4)((function(e){return e.filter.itemsPerPage})),g=(0,m.d4)((function(e){return e.filter.currentPage})),b=(0,m.wA)(),x=Math.ceil(n/y);(0,r.useEffect)((function(){h(g)}),[g]);var _=function(e){e>=1&&e<=x&&b(Be(e))};return r.createElement("div",{className:"flex items-center gap-x-3"},r.createElement(O,{content:(0,l.__)("Refresh data","advanced-database-cleaner")},r.createElement(I,{href:"#",onClick:a},r.createElement(u.JbZ,{className:"text-[1.1rem] ".concat(o?"animate-spin":"")}))),r.createElement("div",{className:"sxs:item-center items-left flex flex-col gap-x-1 gap-y-2 sxs:flex-row ".concat(d)},r.createElement("div",{className:"flex items-center justify-center gap-x-1"},r.createElement("span",{className:"font-medium"},n)," ",(0,l._n)("item","items",n,"advanced-database-cleaner"),c&&r.createElement("span",{className:"italic text-red-700"},(0,l.__)("[Filter applied]","advanced-database-cleaner"))),n>0&&r.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Number(p);!isNaN(t)&&t>=1&&t<=x?b(Be(t)):h(g)}},r.createElement("div",{className:"ml-3 flex items-center gap-x-1"},r.createElement("button",{type:"button",className:"flex w-auto rounded-md border bg-gray-100/80 px-1 py-[5px] hover:bg-gray-100 sxs:px-2 ".concat(1===g?"border-gray-200":"border-gray-400"),disabled:1===g,onClick:function(){return _(1)}},r.createElement(be.U6K,null)),r.createElement("button",{type:"button",className:"flex w-auto rounded-md border bg-gray-100/80 px-1 py-[5px] hover:bg-gray-100 sxs:px-2 ".concat(1===g?"border-gray-200":"border-gray-400"),disabled:1===g,onClick:function(){return _(g-1)}},r.createElement(be.Wup,null)),r.createElement(v,{className:"!h-[1.6rem] w-[4rem] !border-gray-400 px-0 py-[5px] text-center text-[.85rem]",value:p,onChange:function(e){return h(e.target.value)},disabled:1===x}),r.createElement("span",{className:"mx-2 whitespace-nowrap"},(0,l.__)("of","advanced-database-cleaner")," ",x),r.createElement("button",{type:"button",className:"flex w-auto rounded-md border bg-gray-100/80 px-1 py-[5px] hover:bg-gray-100 sxs:px-2 ".concat(g===x?"border-gray-200":"border-gray-400"),disabled:g===x,onClick:function(){return _(g+1)}},r.createElement(be.mny,null)),r.createElement("button",{type:"button",className:"flex w-auto rounded-md border bg-gray-100/80 px-1 py-[5px] hover:bg-gray-100 sxs:px-2 ".concat(g===x?"border-gray-200":"border-gray-400"),disabled:g===x,onClick:function(){return _(x)}},r.createElement(be.b0J,null))),r.createElement("button",{type:"submit",className:"hidden"},"Submit"))))};var Xe=n(5781);function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(){tt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==et(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(et(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function nt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){nt(o,r,a,i,l,"next",e)}function l(e){nt(o,r,a,i,l,"throw",e)}i(void 0)}))}}function at(){return ot.apply(this,arguments)}function ot(){return(ot=rt(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-addons-list",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return lt.apply(this,arguments)}function lt(){return(lt=rt(tt().mark((function e(t){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-addons-activity-timeline",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ut(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function dt(){dt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==ct(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ct(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function mt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var ft=function(e){var t=Math.abs(e),n=e,r="B";return t>=Math.pow(1024,3)?(n=e/Math.pow(1024,3),r="GB"):t>=Math.pow(1024,2)?(n=e/Math.pow(1024,2),r="MB"):t>=1024&&(n=e/1024,r="KB"),n=Math.trunc(100*n)/100,"".concat(n," ").concat(r)},pt=function(e){return isNaN(e)?"??":function(e){for(var t=Math.floor(e),n=[],r=0,a=[{singular:(0,l.__)("year","advanced-database-cleaner"),plural:(0,l.__)("years","advanced-database-cleaner"),seconds:31536e3},{singular:(0,l.__)("month","advanced-database-cleaner"),plural:(0,l.__)("months","advanced-database-cleaner"),seconds:2592e3},{singular:(0,l.__)("week","advanced-database-cleaner"),plural:(0,l.__)("weeks","advanced-database-cleaner"),seconds:604800},{singular:(0,l.__)("day","advanced-database-cleaner"),plural:(0,l.__)("days","advanced-database-cleaner"),seconds:86400},{singular:(0,l.__)("hour","advanced-database-cleaner"),plural:(0,l.__)("hours","advanced-database-cleaner"),seconds:3600},{singular:(0,l.__)("min","advanced-database-cleaner"),plural:(0,l.__)("mins","advanced-database-cleaner"),seconds:60},{singular:(0,l.__)("sec","advanced-database-cleaner"),plural:(0,l.__)("secs","advanced-database-cleaner"),seconds:1}];r<a.length;r++){var o=a[r];if(t>=o.seconds){var i=Math.floor(t/o.seconds);t-=i*o.seconds,n.push("".concat(i," ").concat(1===i?o.singular:o.plural))}}return 0===n.length&&n.push("0 ".concat((0,l.__)("secs","advanced-database-cleaner"))),n.join(", ")}(e)},ht=function(e){if(!e&&0!==e)return"??";var t=Number(e);if(Number.isNaN(t))return"??";var n=String(t).length>=13?t:1e3*t,r=new Date(n),a=new Date,o=Math.floor((a-r)/1e3);if(o<0&&(o=0),0===o)return(0,l.__)("just now","advanced-database-cleaner");var i=o,c=Math.floor(i/86400);i-=86400*c;var s=Math.floor(i/3600);i-=3600*s;var u=Math.floor(i/60),d=i-=60*u,m=[],f=function(e,t){switch(t){case"day":return(0,l.sprintf)((0,l._n)("%1$d day","%1$d days",e,"advanced-database-cleaner"),e);case"hour":return(0,l.sprintf)((0,l._n)("%1$d hour","%1$d hours",e,"advanced-database-cleaner"),e);case"minute":return(0,l.sprintf)((0,l._n)("%1$d minute","%1$d minutes",e,"advanced-database-cleaner"),e);default:return(0,l.sprintf)((0,l._n)("%1$d second","%1$d seconds",e,"advanced-database-cleaner"),e)}};c>0?(m.push(f(c,"day")),s>0&&m.push(f(s,"hour")),u>0&&m.push(f(u,"minute"))):s>0?(m.push(f(s,"hour")),u>0&&m.push(f(u,"minute"))):u>0?(m.push(f(u,"minute")),d>0&&m.push(f(d,"second"))):m.push(f(d,"second"));var p=m.join(" ");return(0,l.sprintf)((0,l.__)("%s ago","advanced-database-cleaner"),p)},vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=new Date,r=new Date(1e3*e);if(isNaN(r.getTime())||r<=n)return"";for(var a=Math.floor((r-n)/1e3),o=function(e,t){switch(e){case"year":return(0,l.sprintf)((0,l._n)("%d year","%d years",t,"advanced-database-cleaner"),t);case"month":return(0,l.sprintf)((0,l._n)("%d month","%d months",t,"advanced-database-cleaner"),t);case"day":return(0,l.sprintf)((0,l._n)("%d day","%d days",t,"advanced-database-cleaner"),t);case"hour":return(0,l.sprintf)((0,l._n)("%d hour","%d hours",t,"advanced-database-cleaner"),t);case"minute":return(0,l.sprintf)((0,l._n)("%d min","%d mins",t,"advanced-database-cleaner"),t);default:return(0,l.sprintf)((0,l._n)("%d sec","%d secs",t,"advanced-database-cleaner"),t)}},i=[],c=0,s=[{id:"year",seconds:31536e3},{id:"month",seconds:2592e3},{id:"day",seconds:86400},{id:"hour",seconds:3600},{id:"minute",seconds:60},{id:"second",seconds:1}];c<s.length;c++){var u=s[c],d=u.id,m=u.seconds,f=Math.floor(a/m);if(f>0&&(i.push(o(d,f)),a-=f*m,i.length===t))break}return i.length?i.join(", "):(0,l.sprintf)((0,l._n)("%d second","%d seconds",0,"advanced-database-cleaner"),0)},yt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=13===String(e).length?Number(e):1e3*Number(e),o=new Date(a),i=function(e){return e.toString().padStart(2,"0")},l=r?o.getUTCFullYear():o.getFullYear(),c=i((r?o.getUTCMonth():o.getMonth())+1),s=i(r?o.getUTCDate():o.getDate());if(!t)return"".concat(l,"-").concat(c,"-").concat(s);var u=i(r?o.getUTCHours():o.getHours()),d=i(r?o.getUTCMinutes():o.getMinutes()),m=i(r?o.getUTCSeconds():o.getSeconds());return n?"".concat(l,"-").concat(c,"-").concat(s," ").concat(u,":").concat(d,":").concat(m):"".concat(l,"-").concat(c,"-").concat(s," ").concat(u,":").concat(d)},gt=function(){var e,t=(e=dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.clipboard){e.next=2;break}return e.abrupt("return",!1);case 2:return n=document.getElementById(t).innerText,e.next=5,navigator.clipboard.writeText(n);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mt(o,r,a,i,l,"next",e)}function l(e){mt(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),bt=n(2072);function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function wt(e,t,n){return(t=function(e){var t=function(e){if("object"!=xt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=function(){for(var e=[],t=0;t<=9;t++){var n=new Date;n.setDate(n.getDate()-t),n.setHours(10,15,0,0);var r=Math.floor(n.getTime()/1e3),a={revisions:Math.floor(1*Math.random())+1,auto_drafts:Math.floor(2*Math.random())+1,trashed_posts:Math.floor(1*Math.random())+1,unapproved_comments:Math.floor(2*Math.random())+1,spam_comments:Math.floor(1*Math.random())+1,expired_transients:Math.floor(2*Math.random())+1,unused_postmeta:Math.floor(1*Math.random())+1,duplicated_postmeta:Math.floor(2*Math.random())+1,unused_usermeta:Math.floor(1*Math.random())+1,duplicated_usermeta:Math.floor(2*Math.random())+1};e.push(wt({},r,a))}return{success:!0,message:"Success",data:{events:e,total_items:e.length,real_current_page:1}}},Nt=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),n=["activation","deactivation","uninstall"],r=[2,5,8,11,13,17,21,24,27,31,36,41,45,52,58],a=[];return[["Advanced Database Cleaner Premium","advanced-database-cleaner-premium"],["Advanced Database Cleaner","advanced-database-cleaner"],["WooCommerce","woocommerce"],["Yoast SEO","wordpress-seo"],["Jetpack","jetpack"],["Contact Form 7","contact-form-7"],["Elementor","elementor"],["WPForms","wpforms-lite"],["MailPoet","mailpoet"],["Rank Math SEO","seo-by-rank-math"],["Polylang","polylang"],["Twenty Twenty-Four","twentytwentyfour"],["Astra","astra"],["GeneratePress","generatepress"],["Classic Editor","classic-editor"]].forEach((function(e,o){var i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _t(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),l=i[0],c=i[1],s=r[o%r.length],u=new Date(t.getTime());u.setDate(u.getDate()-s);var d=37*o%600+540;u.setMinutes(u.getMinutes()+d);var m=n[o%n.length];a.push({timestamp:Math.floor(u.getTime()/1e3),addon_name:l,slug:c,activity_type:m})})),{success:!0,message:"",data:{total:a.length,activity_timeline:a}}},kt=function(){var e=Lt(20),t=60,n=28,r={};return e.forEach((function(e,a){var o=2.8*Math.sin(a/2.8)+.6*Math.cos(a/4.1)+(a%5==0?.4:a%3==0?-.3:.15);t=Math.max(40,t+o);var i=[],l=[];4===a?i=["wp_yoast_indexable"]:9===a?i=["wp_wc_orders","wp_wc_order_stats"]:14===a&&(l=["wp_woocommerce_sessions"]),n+=i.length-l.length,r[e]={s:Math.round(1024*t*1024).toString(),t:n,a:i,d:l}})),{success:!0,message:"",data:r}},St=function(){var e=Lt(20),t={wp_options:{size_mb:2.5,rows:900,cols:4},wp_posts:{size_mb:6,rows:120,cols:23},wp_users:{size_mb:.35,rows:7,cols:13}},n={};return["wp_options","wp_posts","wp_users"].forEach((function(r){var a=t[r],o=Math.round(1024*a.size_mb*1024),i=a.rows,l=a.cols,c={};e.forEach((function(e,t){var n,a,s;"wp_options"===r?(n=Math.round(50*Math.sin(t/2.8)+25*Math.cos(t/3.5)),a=Math.round(1.8*Math.sin(t/2.3)+.5*Math.cos(t/3.1)),s=7===t?1:14===t?-1:0):"wp_posts"===r?(n=Math.round(100*Math.sin(t/2.5)+40*Math.cos(t/4)),a=Math.round(3.2*Math.sin(t/2)+.8*Math.cos(t/3.4)),s=6===t?1:0):(n=Math.round(18*Math.sin(t/2.2)+9*Math.cos(t/3.6)),a=Math.round(.9*Math.sin(t/2.1)+.4*Math.cos(t/2.9)),s=0);var u=Math.max(51200,o+1024*n),d=Math.max(0,i+a),m=Math.max(1,l+s);c[e]={s:Math.round(u),r:Math.round(d),c:Math.round(m),z:Math.round(u-o),w:Math.round(d-i),m:Math.round(m-l)},o=u,i=d,l=m})),n[r]=c})),{success:!0,message:"",data:n}},Lt=function(e){for(var t=[],n=new Date,r=e-1;r>=0;r--){var a=new Date(n);a.setDate(n.getDate()-r),t.push(a.toISOString().split("T")[0])}return t},jt=(0,f.Z0)({name:"notification",initialState:{forceRender:0,show:!1,type:"success",title:(0,l.__)("Success!","advanced-database-cleaner"),message:"",autoHide:!0,hideAfter:5},reducers:{showNotification:function(e,t){e.forceRender+=1,e.show=!0,e.type=t.payload.type||e.type,e.title=t.payload.title||e.title,e.message=t.payload.message||e.message,e.autoHide=!1!==t.payload.autoHide,e.hideAfter=t.payload.hideAfter||e.hideAfter},hideNotification:function(e){e.forceRender=0,e.show=!1,e.type="success",e.title=(0,l.__)("Success!","advanced-database-cleaner"),e.message="",e.autoHide=!0,e.hideAfter=5}}}),Ot=jt.actions,Tt=Ot.showNotification,Pt=Ot.hideNotification;const It=jt.reducer;var Ct=function(e,t){e(Tt({type:"success",title:(0,l.__)("Success!","advanced-database-cleaner"),message:t||(0,l.__)("Done!","advanced-database-cleaner"),hideAfter:5}))},At=function(e){e(Tt({type:"success",title:(0,l.__)("Done!","advanced-database-cleaner"),message:(0,l.__)("Successfully saved!","advanced-database-cleaner"),autoHide:!0,hideAfter:2}))},Ft=function(e,t){e(Tt({type:"error",title:(0,l.__)("Error!","advanced-database-cleaner"),message:t||(0,l.__)("Unknown error occurred!","advanced-database-cleaner"),autoHide:!1}))},Mt=function(e,t,n){e(Tt({type:"info",title:t||(0,l.__)("Info!","advanced-database-cleaner"),message:n||(0,l.__)("Done!","advanced-database-cleaner"),autoHide:!0,hideAfter:5}))},Dt=function(e,t){e(Tt(t))};function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function zt(){zt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Gt(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Gt(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Rt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ut(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Wt=[[{key:"",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"activation",label:(0,l.__)("Activation","advanced-database-cleaner")},{key:"deactivation",label:(0,l.__)("Deactivation","advanced-database-cleaner")},{key:"uninstall",label:(0,l.__)("Uninstall","advanced-database-cleaner")}]],Yt=Wt.flat();function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Kt(){Kt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==qt(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(qt(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Ht(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function $t(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ht(o,r,a,i,l,"next",e)}function l(e){Ht(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Vt(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=$t(Kt().mark((function e(t){return Kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-database-chart-data-by-day",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=$t(Kt().mark((function e(t){return Kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-database-chart-data-by-month",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){return en.apply(this,arguments)}function en(){return(en=$t(Kt().mark((function e(t){return Kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-tables-chart-data-by-day",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e){return nn.apply(this,arguments)}function nn(){return(nn=$t(Kt().mark((function e(t){return Kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-tables-chart-data-by-month",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(){return an.apply(this,arguments)}function an(){return(an=$t(Kt().mark((function e(){return Kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-last-week-database-size",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(){return ln.apply(this,arguments)}function ln(){return(ln=$t(Kt().mark((function e(){return Kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-last-week-database-size-for-free-version",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function sn(){sn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==cn(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(cn(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function un(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const fn=function(){var e=dn((0,r.useState)(!0),2),t=e[0],n=e[1],a=dn((0,r.useState)(null),2),o=a[0],i=a[1],s=dn((0,r.useState)(0),2),d=s[0],f=s[1],p=dn((0,r.useState)("--"),2),h=p[0],v=p[1],y=(0,m.wA)(),g=function(){var e,t=(e=sn().mark((function e(){var t,r,a,o,l,c;return sn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(!0),e.prev=1,"PREMIUM"!==R){e.next=8;break}return e.next=5,rn();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,on();case 10:e.t0=e.sent;case 11:t=e.t0,r=t.data,(a=Object.entries(null!=r?r:{})).length>=2&&(o=Number(a.at(-1)[1]),l=Number(a.at(-2)[1]),i(o),0!==l?(f(c=o-l),v("".concat(c>0?"+":"-").concat(ft(Math.abs(c))))):v("--")),e.next=19;break;case 17:e.prev=17,e.t1=e.catch(1);case 19:return e.prev=19,n(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,17,19,22]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){un(o,r,a,i,l,"next",e)}function l(e){un(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,r.useEffect)((function(){g()}),[]);var b=d<0?"text-green-600":d>0?"text-red-500":"text-gray-400";return r.createElement("div",{className:"flex items-center gap-2"},null!==o&&r.createElement("div",{className:"hidden items-center gap-2 rounded-full border border-blue-100 bg-blue-50 px-3 py-1 text-sm text-blue-700 sm:!flex ".concat(t?"opacity-50":"")},r.createElement("button",{onClick:function(e){e.preventDefault(),y(Rd({tabId:"analytics"}))},className:"flex items-center gap-2 rounded-xl px-2 py-0.5 transition-colors hover:bg-blue-200"},r.createElement(c.JJQ,{className:"h-4 w-4"}),r.createElement("span",{className:"font-medium"},ft(o)),"PREMIUM"===R&&"--"!==h&&r.createElement("span",{className:"text-xs ".concat(b)},"(",h,")")),r.createElement("button",{onClick:g,className:"rounded-full transition-colors hover:bg-blue-200",disabled:t},r.createElement(u.JbZ,{className:"h-[14px] w-[14px] ".concat(t?"animate-spin":"")}))),r.createElement(I,{href:"#",onClick:function(e){e.preventDefault(),y(Yd())},className:"flex items-center gap-1 rounded-full border bg-gray-100 px-3 py-[6px] text-sm text-gray-700 !no-underline transition-colors hover:bg-gray-200"},r.createElement("div",{className:"h-4 w-4"},r.createElement(xe.Kt4,{className:"text-[1.1rem]"})),(0,l.__)("Support","advanced-database-cleaner")))},pn=function(e){var t=e.tabsItems,n=(0,m.d4)((function(e){return e.shared.currentSubTabId}))||t[0].id,a=(0,m.wA)();return r.createElement("div",null,r.createElement("div",{className:"mb-8 flex gap-8 border-b border-gray-100 bg-gray-100 px-4"},t.map((function(e){return r.createElement("button",{key:e.id+"-tab",className:(t=n===e.id,k("flex items-center text-[.9rem] py-[14px] font-semibold",t?"text-black border-b-[2px] border-gray-900":"text-gray-500 border-b-[2px] border-transparent hover:text-black")),onClick:function(){a(Rd({subTabId:e.id})),a(Dm())}},e.Icon&&r.createElement(e.Icon,{className:"mr-2 text-[1rem]"}),e.name);var t}))),r.createElement("div",null,t.map((function(e){return n===e.id&&r.createElement("div",{key:e.id+"-panel"},e.component)}))))};var hn=n(4653),vn=n(8207),yn=n(9107),gn=n(7984),bn=n(5869),xn=n(5298),_n=n(6810);function wn(e){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(e)}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return(t=function(e){var t=function(e){if("object"!=wn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(){Sn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==wn(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(wn(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Ln(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||On(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){if(e){if("string"==typeof e)return Tn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(e,t):void 0}}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pn={DAY:"day",MONTH:"month"},In={databaseSize:{label:(0,l.__)("Database size","advanced-database-cleaner"),color:"#3b82f6"},totalTables:{label:(0,l.__)("Total tables","advanced-database-cleaner"),color:"#8b5cf6"},tablesAdded:{label:(0,l.__)("Tables added","advanced-database-cleaner"),color:"#22c55e"},tablesDeleted:{label:(0,l.__)("Tables deleted","advanced-database-cleaner"),color:"#ef4444"}},Cn=function(e){return null==e?void 0:e.toISOString().split("T")[0]},An=function(e){return e?e.toISOString().slice(0,7):null},Fn=function(e,t){return t===Pn.DAY?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):new Date("".concat(e,"-01")).toLocaleDateString("en-US",{month:"short",year:"numeric"})},Mn=function(e){var t=e.label,n=e.value,a=e.onChange;return r.createElement("div",{className:"flex flex-col gap-1"},r.createElement("label",{className:"text-xs text-gray-600"},t),r.createElement("input",{type:"date",value:n?Cn(n):"",onChange:function(e){return a(e.target.value?new Date(e.target.value):null)},className:"!h-[2.1rem] !max-h-[2.1rem] !min-h-[2.1rem] !rounded-lg border !border-gray-400 px-2 text-[.83rem]"}))},Dn=function(e){var t=e.view,n=e.onChange;return r.createElement("div",{className:"order-1 flex rounded-xl bg-gray-200 p-1 lg:order-2"},[{key:Pn.DAY,label:(0,l.__)("Daily","advanced-database-cleaner")},{key:Pn.MONTH,label:(0,l.__)("Monthly","advanced-database-cleaner")}].map((function(e){var a=e.key,o=e.label;return r.createElement("button",{key:a,onClick:function(){return n(a)},className:"rounded-lg px-4 py-1 text-[.85rem] font-semibold transition-all ".concat(t===a?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900")},o)})))},Gn=function(e){var t=e.ranges,n=e.value,a=e.onChange,o=[t.map((function(e){var t=e.label;return{key:e.days,label:t}}))],i=o.flat().find((function(e){return e.key===n}))||{key:"",label:""},l=!!n,c=l?"bg-blue-50":"bg-white",s=l?"border-blue-600":"border-gray-300",u=l?"text-blue-700":"";return r.createElement(fm,{selectItems:o,selectedItem:i,onSelectionChange:function(e){""!==e&&a(+e)},minWidthButton:"min-w-[150px]",minWidthContent:"min-w-[150px]",ButtonBgColor:c,borderColor:s,extraBtnClasses:u})};const zn=function(){var e=jn((0,r.useState)(Pn.DAY),2),t=e[0],n=e[1],a=jn((0,r.useState)([]),2),d=a[0],f=a[1],p=jn((0,r.useState)(!0),2),h=p[0],v=p[1],y=jn((0,r.useState)({open:!1,type:"",title:"",names:[]}),2),g=y[0],b=y[1],x=(0,r.useMemo)((function(){return function(e){return function(e){if(Array.isArray(e))return Tn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||On(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d).sort((function(e,t){return new Date(t.date)-new Date(e.date)}))}),[d]),_=new Date,E=new Date;E.setDate(E.getDate()-30);var N=jn((0,r.useState)({startDate:E,endDate:_}),2),k=N[0],S=N[1],L=jn((0,r.useState)({startDate:E,endDate:_}),2),j=L[0],T=L[1],P=jn((0,r.useState)(30),2),C=P[0],M=P[1],D=(0,m.wA)(),G=function(){var e,t=(e=Sn().mark((function e(t,n,r){var a,o,i;return Sn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:if(v(!0),e.prev=3,a=r===Pn.DAY?{start_date:Cn(t),end_date:Cn(n)}:{start_date:An(t),end_date:An(n)},"FREE"!==R){e.next=11;break}return e.next=8,kt();case 8:e.t0=e.sent,e.next=21;break;case 11:if(r!==Pn.DAY){e.next=17;break}return e.next=14,Vt(a);case 14:e.t1=e.sent,e.next=20;break;case 17:return e.next=19,Jt(a);case 19:e.t1=e.sent;case 20:e.t0=e.t1;case 21:o=e.t0,i=Object.entries(o.data).map((function(e){var t=jn(e,2),n=t[0],a=t[1];return{date:n,displayDate:Fn(n,r),databaseSize:+(a.s/1024/1024).toFixed(2),totalTables:a.t,tablesAdded:a.a.length,tablesAddedNames:a.a,tablesDeleted:a.d.length,tablesDeletedNames:a.d}})).sort((function(e,t){return new Date(e.date)-new Date(t.date)})),f(i),e.next=29;break;case 26:e.prev=26,e.t2=e.catch(3),Ft(D,e.t2.message);case 29:return e.prev=29,v(!1),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[3,26,29,32]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ln(o,r,a,i,l,"next",e)}function l(e){Ln(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();(0,r.useEffect)((function(){G(k.startDate,k.endDate,t)}),[k.startDate,k.endDate,t]);var z=[{label:(0,l.__)("Last 7 days","advanced-database-cleaner"),days:7},{label:(0,l.__)("Last 30 days","advanced-database-cleaner"),days:30},{label:(0,l.__)("Last 90 days","advanced-database-cleaner"),days:90}],B=function(e){var t=e.active,n=e.payload,a=e.label;return t&&null!=n&&n.length?r.createElement("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-xl"},r.createElement("p",{className:"mb-2 font-semibold text-gray-800"},a),r.createElement("div",{className:"flex justify-between gap-x-4 text-[.85rem]"},r.createElement("span",{className:"flex items-center gap-2"},r.createElement("span",{className:"inline-block h-3 w-3 rounded-full",style:{background:In.databaseSize.color}}),In.databaseSize.label),r.createElement("span",{className:"font-semibold"},n[0].value," MB"))):null},U=function(e){var t=e.active,n=e.payload,a=e.label;return t&&null!=n&&n.length?r.createElement("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-xl"},r.createElement("p",{className:"mb-2 font-semibold text-gray-800"},a),n.map((function(e){return r.createElement("div",{key:e.dataKey,className:"mb-1 flex justify-between gap-x-10 text-[.85rem]"},r.createElement("span",{className:"flex items-center gap-2"},r.createElement("span",{className:"inline-block h-3 w-3 rounded-full",style:{background:e.color}}),In[e.dataKey].label),r.createElement("span",{className:"font-semibold"},"tablesDeleted"===e.dataKey?Math.abs(e.value):e.value))}))):null},W=function(e,t,n){return b({type:e,open:!0,title:t,names:n})},Y=function(){return b({open:!1,title:"",names:[]})};return r.createElement("div",{className:"relative"},r.createElement("div",{className:"".concat("FREE"===R?"pointer-events-none blur-[1px]":"")},r.createElement("div",{className:"mb-6 flex flex-col gap-4 rounded-xl border border-gray-200 bg-gray-50 p-6 lg:flex-row lg:items-end lg:justify-between"},r.createElement("div",{className:"flex flex-wrap items-center gap-4"},r.createElement("div",{className:"flex flex-col gap-1"},r.createElement("label",{className:"text-xs text-gray-600"},(0,l.__)("Quick ranges","advanced-database-cleaner")),r.createElement(Gn,{ranges:z,value:C,onChange:function(e){var t=new Date,n=new Date;n.setDate(n.getDate()-e),M(e),T({startDate:n,endDate:t}),S({startDate:n,endDate:t})}})),r.createElement("div",{className:"mt-6 h-[2rem] text-gray-400"},"|"),r.createElement("div",{className:"flex flex-wrap items-end gap-4"},r.createElement(Mn,{label:(0,l.__)("From","advanced-database-cleaner"),value:j.startDate,onChange:function(e){return T((function(t){return Nn(Nn({},t),{},{startDate:e})}))}}),r.createElement(Mn,{label:(0,l.__)("To","advanced-database-cleaner"),value:j.endDate,onChange:function(e){return T((function(t){return Nn(Nn({},t),{},{endDate:e})}))}}),r.createElement(w,{text:(0,l.__)("Apply","advanced-database-cleaner"),className:"!h-[2rem]",onClick:function(){var e=j.startDate,t=j.endDate;e&&t?e>t?Ft(D,(0,l.__)("Start date cannot be after end date.","advanced-database-cleaner")):(S(Nn({},j)),M(null)):Ft(D,(0,l.__)("Please select valid start and end dates.","advanced-database-cleaner"))}}))),r.createElement("span",{className:"flex items-center gap-4"},r.createElement(Dn,{view:t,onChange:n}))),r.createElement("section",{className:"mb-8 rounded-xl bg-gray-100/80 py-6 pr-4 shadow-sm"},r.createElement("div",{className:"mb-4 flex items-center justify-between pl-6"},r.createElement("div",{className:"flex items-center gap-1"},r.createElement(c.JJQ,{className:"text-[1.1rem] text-blue-400"}),r.createElement("h3",{className:"ml-1 text-[1rem] font-semibold text-blue-900"},(0,l.__)("Database size","advanced-database-cleaner"))),r.createElement(O,{content:(0,l.__)("Refresh analytics","advanced-database-cleaner")},r.createElement(I,{href:"#",onClick:function(e){e.preventDefault(),h||G(k.startDate,k.endDate,t)}},r.createElement(u.JbZ,{className:"text-[.95rem] text-gray-700 ".concat(h?"animate-spin":"")})))),h?r.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},r.createElement(A,{spinnerColor:"text-blue-600"})):r.createElement(hn.u,{width:"100%",height:240},r.createElement(vn.X,{data:d,syncId:"analyticsSync"},r.createElement(yn.d,{strokeDasharray:"3 3",stroke:"#e1e1e1"}),r.createElement(gn.W,{dataKey:"displayDate",tick:{fontSize:12,fill:"#4b5563"}}),r.createElement(bn.h,{width:60,tick:{fontSize:12,fill:"#4b5563"},tickFormatter:function(e){return"".concat(e," MB")}}),r.createElement(xn.m,{content:r.createElement(B,null)}),r.createElement(_n.y,{dataKey:"databaseSize",fill:In.databaseSize.color,fillOpacity:.9,barSize:16,radius:[4,4,0,0]}))),r.createElement("div",{className:"mb-4 mt-4 flex items-center gap-2 pl-6"},r.createElement(u.XaU,{className:"text-[1.1rem] text-purple-400"}),r.createElement("h3",{className:"text-[1rem] font-semibold text-purple-900"},(0,l.__)("Tables count","advanced-database-cleaner"))),h?r.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},r.createElement(A,{spinnerColor:"text-blue-600"})):r.createElement(hn.u,{width:"100%",height:240},r.createElement(vn.X,{data:d,syncId:"analyticsSync"},r.createElement(yn.d,{strokeDasharray:"3 3",stroke:"#e1e1e1"}),r.createElement(gn.W,{dataKey:"displayDate",tick:{fontSize:12,fill:"#4b5563"}}),r.createElement(bn.h,{width:60,tick:{fontSize:12,fill:"#4b5563"}}),r.createElement(xn.m,{content:r.createElement(U,null)}),r.createElement(_n.y,{dataKey:"totalTables",stackId:"tables",fill:In.totalTables.color,fillOpacity:.5,barSize:14,radius:[0,0,0,0]}),r.createElement(_n.y,{dataKey:"tablesDeleted",stackId:"tables",fill:In.tablesDeleted.color,barSize:14,radius:[0,0,0,0]}),r.createElement(_n.y,{dataKey:"tablesAdded",stackId:"tables",fill:In.tablesAdded.color,barSize:14,radius:[0,0,0,0]})))),r.createElement("section",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-md"},r.createElement("div",{className:"border-b border-gray-100 p-4"},r.createElement("h2",{className:"text-lg font-semibold text-gray-800"},(0,l.__)("Raw data","advanced-database-cleaner"))),h?r.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},r.createElement(A,{spinnerColor:"text-blue-600"})):r.createElement("div",{className:"overflow-x-auto px-3"},r.createElement("table",{className:"w-full min-w-[600px]"},r.createElement("thead",{className:"bg-gray-200 text-[.89rem] uppercase text-black"},r.createElement("tr",null,r.createElement("th",{className:"rounded-l-xl px-4 py-1 py-3 text-left font-normal"},(0,l.__)("Date","advanced-database-cleaner")),r.createElement("th",{className:"px-4 py-3 text-left font-normal"},(0,l.__)("DB size (MB)","advanced-database-cleaner")),r.createElement("th",{className:"px-4 py-3 text-left font-normal"},(0,l.__)("Total tables","advanced-database-cleaner")),r.createElement("th",{className:"px-4 py-3 text-left font-normal"},(0,l.__)("Tables added","advanced-database-cleaner")),r.createElement("th",{className:"rounded-r-xl px-4 py-3 text-left font-normal"},(0,l.__)("Tables deleted","advanced-database-cleaner")))),r.createElement("tbody",{className:"divide-y divide-gray-200 text-[1.01rem]"},x.map((function(e){return r.createElement("tr",{key:e.date,className:"rounded-lg hover:bg-gray-100"},r.createElement("td",{className:"px-4 py-3 text-gray-800"},e.date),r.createElement("td",{className:"px-4 font-semibold text-blue-600"},e.databaseSize),r.createElement("td",{className:"px-4 font-semibold text-purple-500"},e.totalTables),r.createElement("td",{className:"px-4 font-semibold text-green-600"},e.tablesAdded,e.tablesAddedNames.length>0&&r.createElement(I,{href:"#",onClick:function(t){t.preventDefault(),W("added",(0,l.__)("Tables added on:","advanced-database-cleaner")+" "+e.date,e.tablesAddedNames)},className:"ml-2 text-[.8rem] !text-blue-600 underline hover:!text-blue-900"},(0,l.__)("view","advanced-database-cleaner"))),r.createElement("td",{className:"px-4 font-semibold text-red-500"},e.tablesDeleted,e.tablesDeletedNames.length>0&&r.createElement(I,{href:"#",onClick:function(t){t.preventDefault(),W("deleted",(0,l.__)("Tables deleted on:","advanced-database-cleaner")+" "+e.date,e.tablesDeletedNames)},className:"ml-2 text-[.8rem] !text-blue-600 underline hover:!text-blue-900"},(0,l.__)("view","advanced-database-cleaner"))))}))))))),"FREE"===R&&r.createElement("div",{className:"absolute inset-0 z-20 flex justify-center rounded-lg bg-white/40 backdrop-blur-[1px]"},r.createElement("div",{className:"mx-4 max-h-[500px] min-h-[200px] min-w-[500px] max-w-[500px] border border-gray-200 bg-white p-8 shadow-2xl"},r.createElement("div",{className:"text-center"},r.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},r.createElement(u.xGQ,{className:"h-8 w-8 text-white"})),r.createElement("h3",{className:"mb-3 text-xl font-bold text-gray-900"},(0,l.__)("Unlock Database Analytics","advanced-database-cleaner")),r.createElement("p",{className:"mb-6 text-gray-600"},(0,l.__)("Upgrade to the Premium to access comprehensive database analytics.","advanced-database-cleaner")),r.createElement("div",{className:"mb-6 space-y-2 text-left text-sm text-gray-700"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("Database size chart","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("Tables count chart","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("See exactly tables added/deleted","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("Custom date range filtering","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("View charts by day or month","advanced-database-cleaner")))),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=database-analytics&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},r.createElement("span",{className:"flex items-center justify-center gap-2"},(0,l.__)("Upgrade to Premium","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))),r.createElement("div",{className:"mt-4"},r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=database-analytics&utm_medium=adbc-free&utm_campaign=plugins&utm_content=learn-more-about-premium-features",target:"_blank",className:"!text-sm !font-normal !text-blue-600 !no-underline hover:!text-blue-800 hover:!underline"},(0,l.__)("Learn more about Premium features","advanced-database-cleaner")))))),g.open&&r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:Y},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative max-h-[500px] transform overflow-y-auto rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-xl sm:p-6"},r.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:Y},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"mx-auto mt-2"},r.createElement("div",{className:"border-b border-dashed border-gray-300 pb-3 text-[1.05rem] font-semibold text-gray-700"},g.title),r.createElement("div",{className:"mt-8 flex flex-wrap items-center gap-2"},g.names.map((function(e,t){return r.createElement("span",{key:t,className:"rounded-lg px-3 py-1 font-mono text-sm text-gray-800 ".concat("added"===g.type?"bg-green-100":"bg-red-100")},e)}))))))))))};var Rn=n(5721),Bn=n(6679);function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}function Wn(){Wn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Un(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Un(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Yn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function qn(){return Kn.apply(this,arguments)}function Kn(){var e;return e=Wn().mark((function e(){return Wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-tables-names",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})),Kn=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yn(o,r,a,i,l,"next",e)}function l(e){Yn(o,r,a,i,l,"throw",e)}i(void 0)}))},Kn.apply(this,arguments)}function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){Qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e,t,n){return(t=function(e){var t=function(e){if("object"!=Hn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(){Jn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Hn(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Hn(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Zn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Xn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zn(o,r,a,i,l,"next",e)}function l(e){Zn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function er(e){return function(e){if(Array.isArray(e))return rr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||nr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){if(e){if("string"==typeof e)return rr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ar={DAY:"day",MONTH:"month"},or="#3b82f6",ir=function(e){return null==e?void 0:e.toISOString().split("T")[0]},lr=function(e){return e?e.toISOString().slice(0,7):null},cr=function(e,t){return t===ar.DAY?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):new Date("".concat(e,"-01")).toLocaleDateString("en-US",{month:"short",year:"numeric"})},sr=function(e){var t=e.label,n=e.value,a=e.onChange;return r.createElement("div",{className:"flex flex-col gap-1"},r.createElement("label",{className:"text-xs text-gray-600"},t),r.createElement("input",{type:"date",value:n?ir(n):"",onChange:function(e){return a(e.target.value?new Date(e.target.value):null)},className:"!h-[2.1rem] !max-h-[2.1rem] !min-h-[2.1rem] !rounded-lg border !border-gray-400 px-2 text-[.83rem]"}))},ur=function(e){var t=e.view,n=e.onChange;return r.createElement("div",{className:"order-1 flex rounded-xl bg-gray-200 p-1 lg:order-2"},[{key:ar.DAY,label:(0,l.__)("Daily","advanced-database-cleaner")},{key:ar.MONTH,label:(0,l.__)("Monthly","advanced-database-cleaner")}].map((function(e){var a=e.key,o=e.label;return r.createElement("button",{key:a,onClick:function(){return n(a)},className:"rounded-lg px-4 py-1 text-[.85rem] font-semibold transition-all ".concat(t===a?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900")},o)})))},dr=function(e){var t=e.ranges,n=e.value,a=e.onChange,o=[t.map((function(e){var t=e.label;return{key:e.days,label:t}}))],i=o.flat().find((function(e){return e.key===n}))||{key:"",label:""},l=!!n,c=l?"bg-blue-50":"bg-white",s=l?"border-blue-600":"border-gray-300",u=l?"text-blue-700":"";return r.createElement(fm,{selectItems:o,selectedItem:i,onSelectionChange:function(e){""!==e&&a(+e)},minWidthButton:"min-w-[150px]",minWidthContent:"min-w-[150px]",ButtonBgColor:c,borderColor:s,extraBtnClasses:u})},mr=function(e){var t=e.tables,n=e.selectedTables,a=e.onSelectionChange,o=tr((0,r.useState)(!1),2),i=o[0],c=o[1],s=tr((0,r.useState)(""),2),u=s[0],d=s[1],m=(0,r.useRef)(null);(0,r.useEffect)((function(){if(i){var e=function(e){m.current&&!m.current.contains(e.target)&&c(!1)};return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}}),[i]);var f=t.filter((function(e){return e.toLowerCase().includes(u.trim().toLowerCase())})),p=0===n.length&&!i;return r.createElement("div",{ref:m,className:"relative"},r.createElement("button",{onClick:function(){return c(!i)},className:"flex w-full min-w-[250px] items-center justify-between rounded-lg\n               border border-gray-400 bg-white px-3 py-2 text-sm hover:bg-gray-50\n               focus:outline-none focus:ring-1 focus:ring-blue-500 lg:min-w-[350px]\n               ".concat(p?"animate-adbc-shake":"")},r.createElement("span",{className:"text-gray-700"},0===n.length?(0,l.__)("Select tables ...","advanced-database-cleaner"):"".concat(n.length," table").concat(n.length>1?"s":""," selected")),r.createElement(F.bv7,{className:"h-4 w-4 transition-transform ".concat(i?"rotate-180":"")})),i&&r.createElement("div",{className:"absolute z-10 mt-1 max-h-60 w-full overflow-y-auto rounded-lg border border-gray-300 bg-white shadow-lg"},r.createElement("div",{className:"mb-2 flex items-center justify-between gap-2 border-b border-gray-200 bg-gray-100 p-2"},r.createElement(v,{type:"text",value:u,onChange:function(e){return d(e.target.value)},placeholder:(0,l.__)("Search...","advanced-database-cleaner"),className:"!h-[1.8rem] !max-h-[1.8rem] !min-h-[1.8rem] !max-w-[100px] !text-sm placeholder:!text-gray-500 lg:!min-w-[220px]"}),r.createElement("button",{onClick:function(){return a([])},className:"rounded px-2 py-1 text-xs text-gray-800 underline hover:bg-gray-300"},(0,l.__)("Unselect all","advanced-database-cleaner"))),f.map((function(e){return r.createElement("label",{key:e,className:"flex cursor-pointer items-center gap-2 px-3 py-2 hover:bg-gray-50"},r.createElement("input",{type:"checkbox",checked:n.includes(e),onChange:function(){return t=e,n.includes(t)?a(n.filter((function(e){return e!==t}))):a([].concat(er(n),[t]));var t},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.createElement("span",{className:"-mt-[5px] text-[.85rem] text-gray-700"},e))})),0===f.length&&r.createElement("div",{className:"p-3 text-center text-xs text-gray-500"},(0,l.__)("No tables match your search.","advanced-database-cleaner"))))},fr=function(e){var t=e.data,n=(0,r.useMemo)((function(){return er(t).sort((function(e,t){return new Date(t.date)-new Date(e.date)}))}),[t]);return r.createElement("section",{className:"p-10"},r.createElement("div",{className:"overflow-x-auto"},r.createElement("table",{className:"w-full min-w-[500px]"},r.createElement("thead",{className:"bg-gray-200 text-[.85rem] uppercase text-black"},r.createElement("tr",null,r.createElement("th",{className:"rounded-l-xl px-3 py-2 text-left font-normal"},(0,l.__)("Date","advanced-database-cleaner")),r.createElement("th",{className:"px-3 py-2 text-left font-normal"},(0,l.__)("Size","advanced-database-cleaner")),r.createElement("th",{className:"px-3 py-2 text-left font-normal"},(0,l.__)("Total rows","advanced-database-cleaner")),r.createElement("th",{className:"rounded-r-xl px-3 py-2 text-left font-normal"},(0,l.__)("Total columns","advanced-database-cleaner")))),r.createElement("tbody",{className:"divide-y divide-gray-100 text-[.95rem]"},n.map((function(e){return r.createElement("tr",{key:e.date,className:"hover:bg-gray-200"},r.createElement("td",{className:"px-3 py-2 text-gray-800"},e.date),r.createElement("td",{className:"px-3 py-2 font-semibold text-blue-600"},e.sizeDisplay,e.deltaDisplay),r.createElement("td",{className:"px-3 py-2 font-semibold text-green-600"},e.rowsDisplay),r.createElement("td",{className:"px-3 py-2 font-semibold text-purple-600"},e.columnsDisplay))}))))))};const pr=function(){var e=tr((0,r.useState)(ar.DAY),2),t=e[0],n=e[1],a=tr((0,r.useState)({}),2),o=a[0],i=a[1],d=tr((0,r.useState)(!1),2),f=d[0],p=d[1],h=tr((0,r.useState)([]),2),v=h[0],y=h[1],g=tr((0,r.useState)("FREE"===R?["wp_options","wp_posts","wp_users"]:[]),2),b=g[0],x=g[1],_=new Date,E=new Date;E.setDate(E.getDate()-30);var N=tr((0,r.useState)({startDate:E,endDate:_}),2),k=N[0],S=N[1],L=tr((0,r.useState)({startDate:E,endDate:_}),2),j=L[0],T=L[1],P=tr((0,r.useState)(30),2),C=P[0],M=P[1],D=(0,m.wA)(),G=function(){var e=Xn(Jn().mark((function e(t,n,r,a){var o,l,c;return Jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("PREMIUM"!==R||t&&n&&a.length){e.next=2;break}return e.abrupt("return");case 2:if("PREMIUM"===R&&p(!0),e.prev=3,o=r===ar.DAY?{start_date:ir(t),end_date:ir(n),tables:a}:{start_date:lr(t),end_date:lr(n),tables:a},"FREE"!==R){e.next=11;break}return e.next=8,St();case 8:e.t0=e.sent,e.next=21;break;case 11:if(r!==ar.DAY){e.next=17;break}return e.next=14,Xt(o);case 14:e.t1=e.sent,e.next=20;break;case 17:return e.next=19,tn(o);case 19:e.t1=e.sent;case 20:e.t0=e.t1;case 21:l=e.t0,c={},Object.keys(l.data).forEach((function(e){var t=l.data[e],n=Object.entries(t).map((function(e){var t=tr(e,2),n=t[0],a=t[1],o=+(a.s/1024/1024).toFixed(2),i=+(a.z/1024/1024).toFixed(3);return{date:n,displayDate:cr(n,r),size:o,sizeDisplay:"".concat(o," MB"),deltaDisplay:0!==a.z?" (".concat(i>0?"+":"").concat(i," MB)"):"",rows:a.r,rowsDisplay:"".concat(a.r).concat(0!==a.w?" (".concat(a.w>0?"+":"").concat(a.w,")"):""),columns:a.c,columnsDisplay:"".concat(a.c).concat(0!==a.m?" (".concat(a.m>0?"+":"").concat(a.m,")"):"")}})).sort((function(e,t){return new Date(e.date)-new Date(t.date)}));c[e]=n})),i(c),e.next=30;break;case 27:e.prev=27,e.t2=e.catch(3),Ft(D,e.t2.message);case 30:return e.prev=30,p(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[3,27,30,33]])})));return function(t,n,r,a){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){G(k.startDate,k.endDate,t,b)}),[k.startDate,k.endDate,t,b]),(0,r.useEffect)((function(){if("FREE"!==R){var e=function(){var e=Xn(Jn().mark((function e(){var t,n;return Jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qn();case 3:t=e.sent,n=Object.keys(t.data||{}),y(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ft(D,e.t0.message||"Failed to load table list");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[]);var z=[{label:(0,l.__)("Last 7 days","advanced-database-cleaner"),days:7},{label:(0,l.__)("Last 30 days","advanced-database-cleaner"),days:30},{label:(0,l.__)("Last 90 days","advanced-database-cleaner"),days:90}],B=function(e){var t=e.active,n=e.payload,a=e.label;return t&&null!=n&&n.length?r.createElement("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-xl"},r.createElement("p",{className:"mb-2 font-semibold text-gray-800"},a),r.createElement("div",{className:"flex justify-between gap-x-4 text-[.85rem]"},r.createElement("span",{className:"flex items-center gap-2"},r.createElement("span",{className:"inline-block h-3 w-3 rounded-full",style:{background:or}}),(0,l.__)("Size","advanced-database-cleaner")),r.createElement("span",{className:"font-semibold"},n[0].payload.sizeDisplay,n[0].payload.deltaDisplay))):null},U=function(e){var t=e.active,n=e.payload,a=e.label;return t&&null!=n&&n.length?r.createElement("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-xl"},r.createElement("p",{className:"mb-2 font-semibold text-gray-800"},a),n.map((function(e){return r.createElement("div",{key:e.dataKey,className:"mb-1 flex justify-between gap-x-10 text-[.85rem]"},r.createElement("span",{className:"flex items-center gap-2"},r.createElement("span",{className:"inline-block h-3 w-3 rounded-full",style:{background:e.color}}),"rows"===e.dataKey?(0,l.__)("Rows","advanced-database-cleaner"):(0,l.__)("Columns","advanced-database-cleaner")),r.createElement("span",{className:"font-semibold"},"rows"===e.dataKey?e.payload.rowsDisplay:e.payload.columnsDisplay))}))):null};return r.createElement("div",{className:"relative"},r.createElement("div",{className:"".concat("FREE"===R?"pointer-events-none blur-[1px]":"")},r.createElement("div",{className:"mb-6 flex flex-col gap-4 rounded-xl border border-gray-200 bg-gray-50 p-6 lg:flex-row lg:items-end lg:justify-between"},r.createElement("div",{className:"flex flex-wrap items-center gap-4"},r.createElement("div",{className:"flex flex-col gap-1"},r.createElement("label",{className:"text-xs text-gray-600"},(0,l.__)("Quick ranges","advanced-database-cleaner")),r.createElement(dr,{ranges:z,value:C,onChange:function(e){var t=new Date,n=new Date;n.setDate(n.getDate()-e),M(e),T({startDate:n,endDate:t}),S({startDate:n,endDate:t})}})),r.createElement("div",{className:"mt-6 h-[2rem] text-gray-400"},"|"),r.createElement("div",{className:"flex flex-wrap items-end gap-4"},r.createElement(sr,{label:(0,l.__)("From","advanced-database-cleaner"),value:j.startDate,onChange:function(e){return T((function(t){return Vn(Vn({},t),{},{startDate:e})}))}}),r.createElement(sr,{label:(0,l.__)("To","advanced-database-cleaner"),value:j.endDate,onChange:function(e){return T((function(t){return Vn(Vn({},t),{},{endDate:e})}))}}),r.createElement(w,{text:(0,l.__)("Apply","advanced-database-cleaner"),className:"!h-[2rem]",onClick:function(){var e=j.startDate,t=j.endDate;e&&t?e>t?Ft(D,(0,l.__)("Start date cannot be after end date.","advanced-database-cleaner")):(S(Vn({},j)),M(null)):Ft(D,(0,l.__)("Please select valid start and end dates.","advanced-database-cleaner"))}}))),r.createElement("span",{className:"flex items-center gap-4"},r.createElement(ur,{view:t,onChange:n}))),"PREMIUM"===R&&r.createElement("section",{className:"mb-8 rounded-xl bg-gray-100/80 px-4 py-[18px] shadow-sm"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",{className:"flex flex-col gap-1"},r.createElement(mr,{tables:v,selectedTables:b,onSelectionChange:x})),r.createElement(O,{content:(0,l.__)("Refresh analytics","advanced-database-cleaner")},r.createElement(I,{href:"#",onClick:function(e){e.preventDefault(),f||G(k.startDate,k.endDate,t,b)}},r.createElement(u.JbZ,{className:"text-[.95rem] text-gray-700 ".concat(f?"animate-spin":"")}))))),f?r.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},r.createElement(A,{spinnerColor:"text-blue-600"})):r.createElement("div",{className:"space-y-8"},b.map((function(e){var t=o[e]||[],n=t.length>0?t[t.length-1].sizeDisplay:ft(0);return r.createElement("div",{key:e,className:"rounded-xl bg-gray-100 shadow-sm"},r.createElement("div",{className:"mb-4 flex items-center gap-1 border-b border-gray-200 p-5"},r.createElement("h2",{className:"text-lg font-semibold text-gray-800"},e),r.createElement("div",{className:"text-sm"},"(",n,")")),r.createElement("div",{className:"grid grid-cols-1 gap-6 px-2 lg:grid-cols-2"},r.createElement("div",{className:""},r.createElement("div",{className:"mb-3 flex items-center gap-2 pl-4"},r.createElement("h3",{className:"text-sm font-semibold text-blue-900"},(0,l.__)("Table size","advanced-database-cleaner"))),r.createElement(hn.u,{width:"100%",height:220},r.createElement(Rn.b,{data:t,syncId:"sync-".concat(e)},r.createElement(yn.d,{strokeDasharray:"3 3",stroke:"#e1e1e1"}),r.createElement(gn.W,{dataKey:"displayDate",tick:{fontSize:10,fill:"#4b5563"}}),r.createElement(bn.h,{width:50,tick:{fontSize:10,fill:"#4b5563"},tickFormatter:function(e){return"".concat(e," MB")}}),r.createElement(xn.m,{content:r.createElement(B,null)}),r.createElement(Bn.N,{type:"monotone",dataKey:"size",stroke:or,strokeWidth:2,dot:{r:3},activeDot:{r:5},name:"Size"})))),r.createElement("div",{className:""},r.createElement("div",{className:"mb-3 ml-2 flex items-center gap-2"},r.createElement("h3",{className:"text-sm font-semibold text-gray-800"},(0,l.__)("Total rows","advanced-database-cleaner"))),r.createElement(hn.u,{width:"100%",height:220},r.createElement(vn.X,{data:t,syncId:"sync-".concat(e)},r.createElement(yn.d,{strokeDasharray:"3 3",stroke:"#e1e1e1"}),r.createElement(gn.W,{dataKey:"displayDate",tick:{fontSize:12,fill:"#4b5563"}}),r.createElement(bn.h,{width:50,tick:{fontSize:12,fill:"#4b5563"}}),r.createElement(xn.m,{content:r.createElement(U,null)}),r.createElement(_n.y,{dataKey:"rows",fill:"#22c55e",fillOpacity:.9,barSize:16,radius:[4,4,0,0]}))))),r.createElement(fr,{data:t}))}))),0===b.length&&r.createElement("div",{className:"rounded-xl border py-12 text-center text-gray-500"},r.createElement(c.ZRA,{className:"mx-auto mb-4 h-12 w-12 text-gray-300"}),r.createElement("p",{className:"mb-1 text-[1.1rem] font-semibold text-orange-500"},(0,l.__)("Please select a table!","advanced-database-cleaner")),r.createElement("p",{className:"text-sm"},(0,l.__)("Select one or more tables to view analytics.","advanced-database-cleaner")))),"FREE"===R&&r.createElement("div",{className:"absolute inset-0 z-20 flex justify-center rounded-lg bg-white/40 backdrop-blur-[1px]"},r.createElement("div",{className:"mx-4 max-h-[450px] min-h-[200px] min-w-[500px] max-w-[500px] border border-gray-200 bg-white p-8 shadow-2xl"},r.createElement("div",{className:"text-center"},r.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},r.createElement(u.xGQ,{className:"h-8 w-8 text-white"})),r.createElement("h3",{className:"mb-3 text-xl font-bold text-gray-900"},(0,l.__)("Unlock Tables Analytics","advanced-database-cleaner")),r.createElement("p",{className:"mb-6 text-gray-600"},(0,l.__)("Upgrade to the Premium to access comprehensive tables analytics.","advanced-database-cleaner")),r.createElement("div",{className:"mb-6 space-y-2 text-left text-sm text-gray-700"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("Tables size charts","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("Individual or multiple table selection","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("Track tables rows & columns changes","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("View charts by day or month","advanced-database-cleaner")))),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=tables-analytics&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},r.createElement("span",{className:"flex items-center justify-center gap-2"},(0,l.__)("Upgrade to Premium","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))),r.createElement("div",{className:"mt-4"},r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=tables-analytics&utm_medium=adbc-free&utm_campaign=plugins&utm_content=learn-more-about-premium-features",target:"_blank",className:"!text-sm !font-normal !text-blue-600 !no-underline hover:!text-blue-800 hover:!underline"},(0,l.__)("Learn more about Premium features","advanced-database-cleaner")))))))};var hr=[{id:"database-analytics",name:(0,l.__)("Overview","advanced-database-cleaner"),component:r.createElement(zn,null),Icon:_e.N6S},{id:"tables-analytics",name:(0,l.__)("Tables analytics","advanced-database-cleaner"),component:r.createElement(pr,null),Icon:_e.rNF}];var vr=n(4164);function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function gr(){gr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==yr(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(yr(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function br(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function xr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){br(o,r,a,i,l,"next",e)}function l(e){br(o,r,a,i,l,"throw",e)}i(void 0)}))}}function _r(e){return wr.apply(this,arguments)}function wr(){return(wr=xr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/automation/list-tasks",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Er(e){return Nr.apply(this,arguments)}function Nr(){return(Nr=xr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/automation/get-task",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(e){return Sr.apply(this,arguments)}function Sr(){return(Sr=xr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/automation/create-task",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lr(e){return jr.apply(this,arguments)}function jr(){return(jr=xr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/automation/update-task",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(e){return Tr.apply(this,arguments)}function Tr(){return(Tr=xr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/automation/delete-task",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pr(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=xr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/automation/get-task-events-log",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cr(e){return Ar.apply(this,arguments)}function Ar(){return(Ar=xr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/automation/clear-task-events-log",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(e)}function Mr(){Mr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Fr(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Fr(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Dr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Gr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Dr(o,r,a,i,l,"next",e)}function l(e){Dr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wr(e,t,n){return(t=function(e){var t=function(e){if("object"!=Fr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yr=[[{key:"adbc_once",label:(0,l.__)("Once","advanced-database-cleaner")},{key:"adbc_hourly",label:(0,l.__)("Once hourly","advanced-database-cleaner")},{key:"adbc_twicedaily",label:(0,l.__)("Twice daily","advanced-database-cleaner")},{key:"adbc_daily",label:(0,l.__)("Once daily","advanced-database-cleaner")},{key:"adbc_weekly",label:(0,l.__)("Once weekly","advanced-database-cleaner")},{key:"adbc_monthly",label:(0,l.__)("Once monthly","advanced-database-cleaner")}]],qr=[[{key:"days",label:(0,l.__)("Days","advanced-database-cleaner"),tooltipText:(0,l.__)("Preserve items from the last X days from being cleaned.","advanced-database-cleaner")},{key:"items",label:"FREE"===R?r.createElement("span",{className:"flex items-center"},(0,l.__)("Items","advanced-database-cleaner"),r.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("(premium)","advanced-database-cleaner"))):(0,l.__)("Items","advanced-database-cleaner"),disabled:"FREE"===R,tooltipText:r.createElement("span",null,(0,l.__)("Keep the last X items for each parent (e.g., the last 5 revisions per post). If an item has no parent, keep the last X items globally.","advanced-database-cleaner"),"FREE"===R&&r.createElement("div",{className:"flex text-yellow-600"},(0,l.__)("Available in the premium version.","advanced-database-cleaner")))}]],Kr=Yr.flat(),Hr=qr.flat(),$r=Ur(Ur({revisions:(0,l.__)("Revisions","advanced-database-cleaner"),auto_drafts:(0,l.__)("Auto drafts","advanced-database-cleaner"),trashed_posts:(0,l.__)("Trashed posts","advanced-database-cleaner"),unapproved_comments:(0,l.__)("Unapproved comments","advanced-database-cleaner"),spam_comments:(0,l.__)("Spam comments","advanced-database-cleaner"),trashed_comments:(0,l.__)("Trashed comments","advanced-database-cleaner"),pingbacks:(0,l.__)("Pingbacks","advanced-database-cleaner"),trackbacks:(0,l.__)("Trackbacks","advanced-database-cleaner"),unused_postmeta:(0,l.__)("Unused postmeta","advanced-database-cleaner"),duplicated_postmeta:(0,l.__)("Duplicated postmeta","advanced-database-cleaner"),unused_commentmeta:(0,l.__)("Unused commentmeta","advanced-database-cleaner"),duplicated_commentmeta:(0,l.__)("Duplicated commentmeta","advanced-database-cleaner"),unused_usermeta:(0,l.__)("Unused usermeta","advanced-database-cleaner"),duplicated_usermeta:(0,l.__)("Duplicated usermeta","advanced-database-cleaner"),unused_termmeta:(0,l.__)("Unused termmeta","advanced-database-cleaner"),duplicated_termmeta:(0,l.__)("Duplicated termmeta","advanced-database-cleaner"),unused_relationships:(0,l.__)("Unused relationships","advanced-database-cleaner"),expired_transients:(0,l.__)("Expired transients","advanced-database-cleaner"),oembed_caches:(0,l.__)("oEmbed caches","advanced-database-cleaner"),tables_to_optimize:(0,l.__)("Optimize tables","advanced-database-cleaner"),tables_to_repair:(0,l.__)("Repair tables","advanced-database-cleaner")},"1"===K&&{actionscheduler_completed_actions:(0,l.__)("Action Scheduler completed actions","advanced-database-cleaner"),actionscheduler_failed_actions:(0,l.__)("Action Scheduler failed actions","advanced-database-cleaner"),actionscheduler_canceled_actions:(0,l.__)("Action Scheduler canceled actions","advanced-database-cleaner")}),"1"===H&&{actionscheduler_completed_logs:(0,l.__)("Action Scheduler completed logs","advanced-database-cleaner"),actionscheduler_failed_logs:(0,l.__)("Action Scheduler failed logs","advanced-database-cleaner"),actionscheduler_canceled_logs:(0,l.__)("Action Scheduler canceled logs","advanced-database-cleaner"),actionscheduler_orphan_logs:(0,l.__)("Action Scheduler orphan logs","advanced-database-cleaner")}),Vr=new Set(["unused_postmeta","duplicated_postmeta","unused_commentmeta","duplicated_commentmeta","unused_usermeta","duplicated_usermeta","unused_termmeta","duplicated_termmeta","unused_relationships","expired_transients","oembed_caches"]),Qr=new Set(["tables_to_optimize","tables_to_repair"]),Jr=new Set(["actionscheduler_completed_actions","actionscheduler_failed_actions","actionscheduler_canceled_actions","actionscheduler_completed_logs","actionscheduler_failed_logs","actionscheduler_canceled_logs","actionscheduler_orphan_logs"]),Zr=["tables_to_optimize","tables_to_repair"],Xr={selected:!1,keepType:"days",keepValue:0},ea=function(e){var t=e.title,n=e.count;return r.createElement("div",{className:"mb-4 flex items-center justify-between border-b border-gray-300 pb-4"},r.createElement("h3",{className:"text-[1rem] font-bold text-gray-700"},t),r.createElement("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-800"},(0,l.sprintf)((0,l.__)("%d selected","advanced-database-cleaner"),n)))},ta=function(e){var t,n=e.name,a=e.setName,o=e.frequency,i=e.setFrequency,c=e.start,s=e.setStart,u=e.active,d=e.setActive;return r.createElement("div",{className:"rounded-xl bg-white px-8 py-6 shadow-sm ring-1 ring-gray-200"},r.createElement("div",{className:"space-y-6"},r.createElement("div",null,r.createElement("span",{className:"mb-2 block text-sm font-medium text-gray-700"},(0,l.__)("Task name","advanced-database-cleaner")),r.createElement(v,{value:n,onChange:function(e){return a(e.target.value)},className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-gray-800 focus:outline-none focus:!ring-0",required:!0})),r.createElement("div",null,r.createElement("span",{className:"mb-2 block text-sm font-medium text-gray-700"},(0,l.__)("Frequency","advanced-database-cleaner")),r.createElement(fm,{selectItems:Yr,selectedItem:null!==(t=Kr.find((function(e){return e.key===o})))&&void 0!==t?t:Kr[4],onSelectionChange:i,minWidthButton:"min-w-[60px] w-full",minWidthContent:"min-w-[80px]",borderColor:"border-gray-300",extraBtnClasses:"!h-[2.45rem]"})),r.createElement("div",null,r.createElement("span",{className:"mb-2 flex justify-between text-sm font-medium text-gray-700"},(0,l.__)("Start time","advanced-database-cleaner"),r.createElement("span",{className:"text-[.75rem] font-normal italic text-gray-600"},(0,l.__)("Local time","advanced-database-cleaner"))),r.createElement(v,{type:"datetime-local",value:c,onChange:function(e){return s(e.target.value)},className:"!h-[2.4rem] w-full !rounded-lg !border !border-gray-300 px-4 text-sm focus:!border-gray-800 focus:outline-none focus:!ring-0",required:!0})),r.createElement("div",{className:"flex items-center gap-4 rounded-xl border border-gray-200 bg-gray-50 p-4"},r.createElement(S,{text:u?(0,l.__)("Active","advanced-database-cleaner"):(0,l.__)("Paused","advanced-database-cleaner"),textStyle:"font-normal text-[.8rem]",toggleSize:"small",toggleChangeCallback:d,isActive:u,bgColor:"bg-green-500"}))))},na=function(e){var t=e.selectedItemsToClean,n=e.selectedActionSchedulerInFree,a=e.operationsTodoSelected;return r.createElement("div",{className:"rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 p-8 shadow-sm ring-1 ring-gray-200"},r.createElement("h4",{className:"mb-6 text-[1rem] font-bold text-gray-700"},(0,l.__)("Summary","advanced-database-cleaner")),r.createElement("div",{className:"space-y-6 text-sm"},t.length>0&&r.createElement(ra,{title:(0,l.__)("Items to clean","advanced-database-cleaner"),keys:t,max:3,color:"text-blue-700",bgColor:"bg-blue-100"}),n.length>0&&r.createElement(ra,{title:(0,l.__)("Premium items (won't be cleaned)","advanced-database-cleaner"),keys:n,max:3,color:"text-yellow-700",bgColor:"bg-yellow-100"}),a.length>0&&r.createElement(ra,{title:(0,l.__)("Actions to do","advanced-database-cleaner"),keys:a,color:"text-green-700",bgColor:"bg-green-100"}),t.length+n.length+a.length===0&&r.createElement("div",null,r.createElement("p",{className:"italic text-gray-500"},(0,l.__)("No operations selected yet","advanced-database-cleaner")))))},ra=function(e){var t=e.title,n=e.keys,a=e.max,o=void 0===a?1/0:a,i=e.color,c=e.bgColor;return r.createElement("div",{className:(0,vr.A)("rounded-xl p-4",c)},r.createElement("p",{className:(0,vr.A)("mb-3 font-semibold",i)},t," (",n.length,")"),r.createElement("div",{className:"space-y-2"},n.slice(0,o).map((function(e){return r.createElement("div",{key:"sum-b-"+e,className:"flex items-center justify-between text-xs"},r.createElement("span",{className:"text-gray-700"},$r[e]))})),n.length>o&&r.createElement("p",{className:"text-xs font-medium text-gray-500"},"+",n.length-o," ",(0,l.__)("more","advanced-database-cleaner"))))};const aa=function(){var e=(0,m.d4)((function(e){return e.shared.taskId})),t=(0,m.wA)(),n=zr((0,r.useState)(!0),2),a=n[0],o=n[1],i=zr((0,r.useState)(!1),2),s=i[0],d=i[1],f=zr((0,r.useState)(""),2),p=f[0],h=f[1],y=zr((0,r.useState)("adbc_weekly"),2),g=y[0],b=y[1],x=zr((0,r.useState)(""),2),_=x[0],w=x[1],E=zr((0,r.useState)(!0),2),N=E[0],k=E[1],S=zr((0,r.useState)((function(){return Object.fromEntries(Object.keys($r).map((function(e){return[e,Ur({},Xr)]})))})),2),L=S[0],j=S[1],O=(0,r.useMemo)((function(){return Object.keys($r).filter((function(e){return!Zr.includes(e)}))}),[]),T=(0,r.useMemo)((function(){return O.filter((function(e){return L[e].selected}))}),[O,L]),P=(0,r.useMemo)((function(){return Zr.filter((function(e){return L[e].selected}))}),[L]),C=(0,r.useMemo)((function(){return"FREE"===R?O.filter((function(e){return!Jr.has(e)})):O}),[O]),M=(0,r.useMemo)((function(){return"FREE"===R?T.filter((function(e){return!Jr.has(e)})):T}),[T]),D=(0,r.useMemo)((function(){return"FREE"===R?T.filter((function(e){return Jr.has(e)})):[]}),[T]),G=M.length===C.length,z=M.length>0,B=zr((0,r.useState)(!1),2),U=B[0],W=B[1],Y=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=function(e){Y.current&&!Y.current.contains(e.target)&&W(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]);var q=function(e){var t=new Date(e),n=function(e){return String(e).padStart(2,"0")},r=t.getFullYear(),a=n(t.getMonth()+1),o=n(t.getDate()),i=n(t.getHours()),l=n(t.getMinutes());return"".concat(r,"-").concat(a,"-").concat(o,"T").concat(i,":").concat(l)};(0,r.useEffect)((function(){var n=function(){var n=Gr(Mr().mark((function n(){var r,a,i,l,c;return Mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return w(q(Date.now())),n.abrupt("return",o(!1));case 3:return n.prev=3,n.next=6,Er({id:e});case 6:r=n.sent,a=r.data,h(a.name),b(a.frequency),i=Number(a.start_datetime),l=13===String(i).length?Number(i):1e3*i,w(q(l)),k(a.active),c=structuredClone(L),Object.entries(a.operations).forEach((function(e){var t,n=zr(e,2),r=n[0],a=n[1];c[r]&&(c[r]={selected:!0,keepType:"string"==typeof a?"days":a.type,keepValue:"string"==typeof a?0:parseInt(null!==(t=a.value)&&void 0!==t?t:0,10)})})),j(c),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(3),Ft(t,n.t0.message);case 22:return n.prev=22,o(!1),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[3,19,22,25]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]);var K=(0,r.useCallback)((function(e){"FREE"===R&&Jr.has(e)||j((function(t){return Ur(Ur({},t),{},Wr({},e,Ur(Ur({},t[e]),{},{selected:!t[e].selected})))}))}),[]),H=(0,r.useCallback)((function(e){j((function(t){return Ur(Ur({},t),{},Wr({},e,Ur(Ur({},t[e]),{},{selected:!1})))}))}),[]),$=(0,r.useCallback)((function(e,t,n){return j((function(r){return Ur(Ur({},r),{},Wr({},e,Ur(Ur({},r[e]),{},Wr({},t,n))))}))}),[]),V=(0,r.useCallback)((function(){j((function(e){var t=Ur({},e),n=!G;return C.forEach((function(e){return t[e].selected=n})),t}))}),[G,C]),Q=function(){var t={};return Object.entries(L).forEach((function(e){var n=zr(e,2),r=n[0],a=n[1];a.selected&&("FREE"===R&&Jr.has(r)||(Vr.has(r)||Qr.has(r)?t[r]="no_keep_last":a.keepValue&&0!==Number(a.keepValue)?t[r]={type:a.keepType,value:Number(a.keepValue)}:t[r]="no_keep_last"))})),{id:null!=e?e:void 0,name:p,frequency:g,start_datetime:Math.floor(new Date(_).getTime()/1e3),type:"general_cleanup",operations:t,active:N}},J=function(){var n=Gr(Mr().mark((function n(r){return Mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),p&&_){n.next=3;break}return n.abrupt("return",alert((0,l.__)("Name & start date are required","advanced-database-cleaner")));case 3:if(d(!0),n.prev=4,!e){n.next=10;break}return n.next=8,Lr(Q());case 8:n.next=12;break;case 10:return n.next=12,kr(Q());case 12:Ct(t,e?(0,l.__)("Updated successfully!","advanced-database-cleaner"):(0,l.__)("Created successfully!","advanced-database-cleaner")),Z(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(4),Ft(t,n.t0.message);case 19:return n.prev=19,d(!1),n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[4,16,19,22]])})));return function(e){return n.apply(this,arguments)}}(),Z=function(){t(Rd({tabId:"automation"})),t(Qd()),t(Dm()),t(We())};return a?r.createElement("div",{className:"flex h-96 items-center justify-center"},r.createElement("div",{className:"text-center"},r.createElement(A,{spinnerColor:"text-blue-600"}))):r.createElement("div",{className:"min-h-screen"},r.createElement("div",{className:"w-full space-y-8"},r.createElement("header",{className:"flex items-center"},r.createElement("button",{onClick:Z,className:"group flex items-center gap-3 rounded-xl border bg-white px-4 py-2 shadow-sm transition-all"},r.createElement(F.rBg,{className:"h-5 w-5 text-blue-600 transition-transform group-hover:-translate-x-0.5"}),r.createElement("span",{className:"text-sm font-medium text-gray-700"},(0,l.__)("Back","advanced-database-cleaner")))),r.createElement("form",{onSubmit:J,className:"flex flex-col justify-between gap-8 xl:flex-row"},r.createElement("section",{className:"w-full flex-1 space-y-8"},r.createElement("div",{className:"rounded-xl bg-white p-8 shadow-sm ring-1 ring-gray-200"},r.createElement(ea,{title:(0,l.__)("Select items to clean","advanced-database-cleaner"),count:M.length}),r.createElement("div",{className:"relative mb-4",ref:Y},r.createElement("button",{type:"button",onClick:function(){return W((function(e){return!e}))},className:"flex w-full items-center justify-between rounded-xl border border-gray-300 bg-gray-50 px-4 py-3 text-sm font-medium ring-0 hover:bg-gray-100 focus:border-gray-800 focus:outline-none focus:ring-0"},r.createElement("span",{className:"font-normal text-gray-700"},0===M.length?(0,l.__)("Select items","advanced-database-cleaner"):"".concat(M.length," ").concat((0,l.__)("items selected","advanced-database-cleaner"))),r.createElement(F.bv7,{className:(0,vr.A)("h-5 w-5 text-gray-400 transition-transform",U&&"rotate-180")})),U&&r.createElement("div",{className:"absolute z-20 mt-2 w-full rounded-xl border border-gray-300 bg-white shadow-xl"},r.createElement("div",{className:"mt-1 border-b border-gray-100 px-6 py-4"},r.createElement("label",{className:"flex cursor-pointer items-center gap-3 text-sm font-medium"},r.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-blue-600",checked:G,ref:function(e){e&&(e.indeterminate=z&&!G)},onChange:V}),r.createElement("span",{className:"-mt-[5px]"},G?(0,l.__)("Unselect All","advanced-database-cleaner"):(0,l.__)("Select All","advanced-database-cleaner")))),r.createElement("div",{className:"max-h-64 overflow-y-auto p-2"},O.map((function(e){var t=Jr.has(e),n="FREE"===R&&t;return r.createElement("label",{key:"item-to-"+e,className:(0,vr.A)("flex items-center gap-3 rounded-xl px-4 py-3 transition-colors",n?"cursor-not-allowed hover:bg-gray-200":"cursor-pointer hover:bg-gray-200")},r.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-600 disabled:!cursor-not-allowed disabled:border-gray-300",checked:L[e].selected,disabled:n,onChange:function(){return K(e)}}),r.createElement("span",{className:"-mt-[4px] flex flex-1 justify-between text-sm text-gray-700"},$r[e],t&&"FREE"===R&&r.createElement("span",{className:"ml-2 inline-flex items-center gap-1 text-[.75rem] font-semibold text-yellow-600"},r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=add-edit-automation-task&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"!text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("In premium","advanced-database-cleaner")))),L[e].selected&&!n&&r.createElement(F.q9z,{className:"h-4 w-4 text-blue-600"}))}))))),M.length>0&&r.createElement("div",null,M.map((function(e){return r.createElement("div",{key:"config-kl-"+e,className:"flex w-full flex-col justify-between border-b border-blue-200 bg-blue-50 p-4 md:flex-row md:items-center"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("button",{type:"button",onClick:function(){return K(e)},className:"rounded-lg p-1 text-blue-600 transition-colors hover:bg-blue-100"},r.createElement(F.U_s,{className:"h-4 w-4"})),r.createElement("span",{className:"text-sm font-medium text-blue-900"},$r[e])),r.createElement("div",{className:"ml-2 flex items-center gap-2 text-[.8rem]"},function(e){var t;return Vr.has(e)?r.createElement("span",{className:"text-xs italic text-gray-500"},(0,l.__)("'Keep last' not applicable","advanced-database-cleaner")):Qr.has(e)?null:r.createElement(r.Fragment,null,r.createElement("span",null,(0,l.__)("Keep last","advanced-database-cleaner")),r.createElement(v,{type:"number",min:"0",className:"!h-[2rem] !max-h-[2rem] !min-h-[2rem] w-[60px] !rounded-lg border !border-gray-300 px-3 py-1 !text-xs focus:!border-gray-800 focus:!outline-none focus:!ring-0",value:L[e].keepValue,onChange:function(t){return $(e,"keepValue",t.target.value)}}),r.createElement(fm,{selectItems:qr,selectedItem:null!==(t=Hr.find((function(t){return t.key===L[e].keepType})))&&void 0!==t?t:Hr[0],onSelectionChange:function(t){return $(e,"keepType",t)},minWidthButton:"min-w-[60px] w-full",minWidthContent:"FREE"===R?"min-w-[180px]":"min-w-[120px]",borderColor:"border-gray-300",extraBtnClasses:"!h-[2.4rem]"}))}(e)))}))),D.length>0&&r.createElement("div",{className:"mt-4"},r.createElement("div",{className:"mb-3 rounded-lg border border-yellow-200 bg-yellow-50 p-3"},r.createElement("div",{className:"flex items-start gap-2"},r.createElement(u.xGQ,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-yellow-600"}),r.createElement("div",{className:"text-sm"},r.createElement("p",{className:"font-medium text-yellow-800"},(0,l.__)("Premium Features Selected","advanced-database-cleaner")),r.createElement("p",{className:"mt-1 text-yellow-700"},(0,l.__)("The following operations are only available in the premium version and will not be cleaned:","advanced-database-cleaner"))))),r.createElement("div",null,D.map((function(e){return r.createElement("div",{key:"config-as-"+e,className:"flex w-full flex-col justify-between border-b border-yellow-200 bg-yellow-50 p-4 md:flex-row md:items-center"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("button",{type:"button",onClick:function(){return H(e)},className:"rounded-lg p-1 text-yellow-600 transition-colors hover:bg-yellow-100"},r.createElement(F.U_s,{className:"h-4 w-4"})),r.createElement("span",{className:"text-sm font-medium text-yellow-900"},$r[e]),r.createElement("span",{className:"ml-2 inline-flex items-center gap-1 text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("Premium only","advanced-database-cleaner"))),r.createElement("div",{className:"ml-2 flex items-center gap-2 text-[.8rem]"},r.createElement("span",{className:"text-xs italic text-yellow-600"},(0,l.__)("Will not be cleaned","advanced-database-cleaner"))))}))))),r.createElement("div",{className:"rounded-xl bg-white p-8 shadow-sm ring-1 ring-gray-200"},r.createElement(ea,{title:(0,l.__)("Select actions to do","advanced-database-cleaner"),count:P.length}),r.createElement("div",{className:"flex flex-wrap items-center gap-4"},Zr.map((function(e){return r.createElement("div",{key:"op-"+e,className:(0,vr.A)("rounded-xl border px-8 py-4 transition-all",L[e].selected?"border-green-200 bg-green-50 shadow-sm":"border-gray-200 bg-gray-50 hover:bg-gray-100")},r.createElement("label",{className:"flex cursor-pointer items-start gap-3 pt-1"},r.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-600",checked:L[e].selected,onChange:function(){return K(e)}}),r.createElement("span",{className:"-mt-[6px] flex-1 text-sm font-medium text-gray-700"},$r[e])))}))))),r.createElement("aside",{className:"w-full space-y-8 lg:w-[350px]"},r.createElement(ta,{name:p,setName:h,frequency:g,setFrequency:b,start:_,setStart:w,active:N,setActive:k}),r.createElement(na,{selectedItemsToClean:M,selectedActionSchedulerInFree:D,operationsTodoSelected:P,ops:L}),r.createElement("div",{className:"space-y-3"},r.createElement("button",{type:"submit",disabled:s||M.length+P.length===0,className:"flex w-full items-center justify-center gap-3 rounded-xl bg-blue-500 px-6 py-4 text-sm font-semibold text-white shadow-lg transition-all hover:bg-blue-600 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-blue-600"},s?r.createElement(u.JbZ,{className:"animate-spin text-[1.5rem]"}):r.createElement(r.Fragment,null,r.createElement(c.abJ,{className:"h-5 w-5"}),e?(0,l.__)("Update task","advanced-database-cleaner"):(0,l.__)("Create task","advanced-database-cleaner"))),r.createElement("button",{type:"button",onClick:Z,className:"w-full rounded-xl border border-gray-300 bg-white px-6 py-2 text-sm font-semibold text-gray-700 transition-all hover:bg-gray-50 hover:shadow-sm"},(0,l.__)("Cancel","advanced-database-cleaner")))))))};var oa=n(4263),ia=n(4563),la=n(2227),ca=(0,f.Z0)({name:"modal",initialState:{show:!1,type:"warning",title:null,message:null,dbBackupWarning:!0,confirmLabel:(0,l.__)("Confirm","advanced-database-cleaner")},reducers:{showModal:function(e,t){e.show=!0,e.type=t.payload.type||e.type,e.title=t.payload.title,e.message=t.payload.message,e.dbBackupWarning=t.payload.dbBackupWarning,e.confirmLabel=t.payload.confirmLabel||e.confirmLabel},hideModal:function(e){e.show=!1,e.type="warning",e.title=null,e.message=null,e.dbBackupWarning=!0,e.confirmLabel=(0,l.__)("Confirm","advanced-database-cleaner")}}}),sa=ca.actions,ua=sa.showModal,da=sa.hideModal;const ma=ca.reducer;function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function pa(){pa=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==fa(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(fa(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function ha(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function va(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ha(o,r,a,i,l,"next",e)}function l(e){ha(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ga(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ga(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ba(e){var t=e.show,n=e.taskData,a=e.onClose,c=ya((0,r.useState)(null),2),d=c[0],f=c[1],p=ya((0,r.useState)(!0),2),h=p[0],v=p[1],y=(0,m.d4)((function(e){return e.filter.currentPage})),g=(0,m.d4)((function(e){return e.filter.itemsPerPage})),b=(0,m.d4)((function(e){return e.action.actionType})),x=(0,m.d4)((function(e){return e.action.processAction})),_=(0,m.wA)();(0,r.useEffect)((function(){w()}),[y]),(0,r.useEffect)((function(){E()}),[x]);var w=function(){var e=va(pa().mark((function e(){var t;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),e.prev=1,"PREMIUM"!==R){e.next=8;break}return e.next=5,Pr({id:n.taskId,currentPage:y,itemsPerPage:g});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Et();case 10:e.t0=e.sent;case 11:t=e.t0,f(t.data),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(1),Ft(_,e.t1.message),f(null);case 19:return e.prev=19,v(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=va(pa().mark((function e(){return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x&&"delete_task_events"===b){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Cr({id:n.taskId});case 5:w(),Ct(_,(0,l.__)("Cleared successfully!","advanced-database-cleaner")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Ft(_,e.t0.message);case 12:return e.prev=12,_(Mm()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=va(pa().mark((function e(){return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(Im({actionType:"delete_task_events",itemsType:null})),_(ua({type:"delete",title:(0,l.__)("Clear these events log?","advanced-database-cleaner"),message:"",confirmLabel:(0,l.__)("Clear","advanced-database-cleaner"),dbBackupWarning:!1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:a},r.createElement(i.Xi,{className:"fixed inset-0 bg-gray-900/70"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{className:"relative w-full max-w-5xl transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:p-2"},r.createElement("button",{className:"absolute right-4 top-4 z-30 p-1 text-gray-500 hover:text-black",onClick:a,"aria-label":"Close"},r.createElement(s.WQq,{className:"h-6 w-6"})),r.createElement("div",{className:"-m-2 rounded-t-lg border-b border-slate-300 bg-gradient-to-r from-slate-100 to-blue-50 px-8 py-4"},r.createElement("div",{className:"flex items-center gap-3 text-[1.1rem]"},r.createElement("h2",{className:"text-gray-700"},(0,l.__)("Cleanup events log for:","advanced-database-cleaner")),r.createElement("span",{className:"font-semibold text-black"},n.taskName))),r.createElement("div",{className:"relative my-4 min-h-[200px] rounded-lg bg-slate-50"},r.createElement("div",{className:"".concat("PREMIUM"!==R?"pointer-events-none blur-[1px]":"")},h?r.createElement("div",{className:"flex min-h-[232px] items-center justify-center"},r.createElement(A,{spinnerColor:"text-blue-600"})):r.createElement(r.Fragment,null,d&&d.total_items>0?r.createElement("div",{className:"max-h-[70vh] overflow-x-auto overflow-y-auto px-4 py-4",style:{scrollbarWidth:"thin"}},r.createElement("div",{className:"min-w-max"},d.events.map((function(e,t){var n=ya(Object.entries(e)[0],2),a=n[0],o=n[1];return r.createElement("div",{key:"evt-w-"+a,className:"w-full min-w-[800px] rounded-lg border border-transparent bg-white p-2 hover:border hover:border-gray-600 hover:bg-gray-100"},r.createElement("div",{className:"flex w-full items-center"},r.createElement("div",{className:"flex flex-shrink-0 items-center gap-2 text-sm text-black"},r.createElement("span",{className:"rounded bg-gray-100 px-2 py-0.5 text-xs"},yt(a,!0,!1))),r.createElement("div",{className:"flex w-32 flex-shrink-0 justify-center"},r.createElement("span",{className:"inline-flex items-center text-nowrap rounded-md bg-green-700 px-2 py-0.5 text-xs font-medium text-white"},Object.values(o).reduce((function(e,t){return e+t}),0)," ",(0,l.__)("items cleaned","advanced-database-cleaner"))),r.createElement("div",{className:"flex w-6 flex-shrink-0 justify-center text-gray-400"},"-"),r.createElement("div",{className:"min-w-0 flex-1"},r.createElement("div",{className:"flex items-center gap-2 overflow-x-auto text-nowrap pb-1 text-sm text-gray-700",style:{scrollbarWidth:"thin"}},function(e){return Object.entries(e).map((function(e,t){var n=ya(e,2),a=n[0],o=n[1];return r.createElement("div",{key:"event-l-"+t,className:"flex items-center gap-1 text-[.85rem]"},r.createElement("span",{className:"text-gray-700"},Om(a)),r.createElement("span",{className:"text-gray-900"},"[",o,"]"),"-")}))}(o)))))})))):r.createElement("div",{className:"rounded-lg bg-gray-50 p-12 text-center"},r.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100"},r.createElement(u.t2D,{className:"h-8 w-8 text-gray-400"})),r.createElement("h3",{className:"mb-2 text-lg font-semibold text-gray-900"},(0,l.__)("No events recorded","advanced-database-cleaner")),r.createElement("p",{className:"text-gray-600"},(0,l.__)("Events will appear here when the task runs.","advanced-database-cleaner"))))),"PREMIUM"!==R&&r.createElement("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/80 backdrop-blur-[0.5px]"},r.createElement("div",{className:"mx-4 max-w-lg border border-gray-200 bg-white p-8 shadow-2xl"},r.createElement("div",{className:"text-center"},r.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},r.createElement(u.xGQ,{className:"h-8 w-8 text-white"})),r.createElement("h3",{className:"mb-3 text-xl font-bold text-gray-900"},(0,l.__)("Unlock Cleanup Events Log","advanced-database-cleaner")),r.createElement("p",{className:"mb-6 text-gray-600"},(0,l.__)("Upgrade to the Premium to access detailed logs of your cleanup tasks.","advanced-database-cleaner")),r.createElement("div",{className:"mb-6 space-y-2 text-left text-sm text-gray-700"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"h-2 w-2 rounded-full bg-green-500"}),r.createElement("span",null,(0,l.__)("Detailed tasks events logging","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"h-2 w-2 rounded-full bg-green-500"}),r.createElement("span",null,(0,l.__)("See what was cleaned and when","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"h-2 w-2 rounded-full bg-green-500"}),r.createElement("span",null,(0,l.__)("Clear events log anytime you want","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"h-2 w-2 rounded-full bg-green-500"}),r.createElement("span",null,(0,l.__)("Priority support","advanced-database-cleaner")))),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=automation-task-events-modal&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},r.createElement("span",{className:"flex items-center justify-center gap-2"},(0,l.__)("Upgrade to Premium","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))),r.createElement("div",{className:"mt-4"},r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=automation-task-events-modal&utm_medium=adbc-free&utm_campaign=plugins&utm_content=learn-more-about-premium-features",target:"_blank",className:"!text-sm !font-normal !text-blue-600 !no-underline hover:!text-blue-800 hover:!underline"},(0,l.__)("Learn more about Premium features","advanced-database-cleaner"))))))),!h&&d&&d.total_items>0&&r.createElement("div",{className:"flex flex-col items-center justify-between gap-4 rounded-b-lg border-t border-gray-200 bg-gray-50 p-4 sm:flex-row ".concat("PREMIUM"!==R?"pointer-events-none blur-[1px]":"")},r.createElement("button",{onClick:N,disabled:"PREMIUM"!==R,className:"inline-flex items-center gap-2 rounded-lg border border-red-300 bg-red-100 px-2 py-1 text-sm font-medium text-red-700 hover:bg-red-200 disabled:cursor-not-allowed disabled:opacity-50"},r.createElement(oa.op0,{className:"h-4 w-4"}),(0,l.__)("Clear log","advanced-database-cleaner")),r.createElement(Ze,{totalItems:null==d?void 0:d.total_items,top:!1,loading:h}))))))):null}function xa(e){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(e)}function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(n),!0).forEach((function(t){Ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(e,t,n){return(t=function(e){var t=function(e){if("object"!=xa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Na(){Na=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==xa(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(xa(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function ka(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Sa(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ka(o,r,a,i,l,"next",e)}function l(e){ka(o,r,a,i,l,"throw",e)}i(void 0)}))}}function La(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ja(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Oa={adbc_once:(0,l.__)("Once","advanced-database-cleaner"),adbc_hourly:(0,l.__)("Once hourly","advanced-database-cleaner"),adbc_twicedaily:(0,l.__)("Twice daily","advanced-database-cleaner"),adbc_daily:(0,l.__)("Once daily","advanced-database-cleaner"),adbc_weekly:(0,l.__)("Once weekly","advanced-database-cleaner"),adbc_monthly:(0,l.__)("Once monthly","advanced-database-cleaner")},Ta=function(e){var t,n,a=e.task,o=e.onDelete,i=e.onToggle,c=e.onEvents,s=e.dispatch;return r.createElement("div",{className:"rounded-xl shadow-sm transition-all hover:shadow-lg hover:ring-gray-300 ".concat(a.active?"border border-green-500 bg-green-50":"border border-gray-300 bg-gray-50")},r.createElement("div",{className:"flex h-full flex-col p-6"},r.createElement("div",{className:"mb-4 flex items-start justify-between border-b border-dashed border-gray-300 pb-4"},r.createElement("div",{className:"flex-1 pr-4"},r.createElement("h3",{className:"text-[1rem] font-semibold text-black"},a.name)),r.createElement("div",{className:"flex items-center gap-2"},a.active?r.createElement("span",{className:"text-gray-900"},(0,l.__)("Active","advanced-database-cleaner")):r.createElement("span",{className:"text-gray-500"},(0,l.__)("Paused","advanced-database-cleaner")),r.createElement(S,{toggleSize:"big",toggleChangeCallback:i,isActive:a.active,bgColor:"bg-green-500"}))),r.createElement("div",{className:"flex-grow space-y-1 text-gray-700"},r.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},r.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},r.createElement(ia.Amo,{className:"text-[1rem] text-gray-500"}),(0,l.__)("Start date:","advanced-database-cleaner")),r.createElement("span",null,a.start_datetime?yt(a.start_datetime,!0,!1):"")),r.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},r.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},r.createElement(be.tnc,{className:"text-[1.1rem] text-gray-500"}),(0,l.__)("Frequency:","advanced-database-cleaner")),r.createElement("span",null,Oa[a.frequency]||a.frequency)),r.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},r.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},r.createElement(F.mmf,{className:"text-[1rem] text-gray-500"}),(0,l.__)("Last run:","advanced-database-cleaner")),a.last_run?r.createElement(O,{content:r.createElement("div",null,(0,l.sprintf)((0,l.__)("Executed %s","advanced-database-cleaner"),ht(Date.parse(a.last_run)||a.last_run)))},r.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},yt(a.last_run,!0,!1))):r.createElement("span",null,"--")),r.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},r.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},r.createElement(la.W_k,{className:"text-[1rem] text-gray-500"}),(0,l.__)("Next run:","advanced-database-cleaner")),a.next_run?r.createElement(O,{content:r.createElement("div",null,(n=vt(a.next_run),n?(0,l.sprintf)((0,l.__)("Runs in %s","advanced-database-cleaner"),n):(0,l.__)("Running now","advanced-database-cleaner")))},r.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},yt(a.next_run,!0,!1))):r.createElement("span",null,"--")),r.createElement("div",{className:"flex items-center gap-2 text-[.8rem]"},r.createElement("span",{className:"flex items-center gap-1 font-medium text-gray-900"},r.createElement(_e.hVZ,{className:"text-[1rem] text-gray-500"}),(0,l.__)("Items to clean:","advanced-database-cleaner")),r.createElement("span",null,Object.values(null!==(t=a.operations)&&void 0!==t?t:{}).length),a.operations&&Object.keys(a.operations).length>0?r.createElement(j,{content:r.createElement("span",{className:"flex flex-wrap items-center gap-2 text-gray-100"},Object.keys(a.operations).map((function(e,t){return r.createElement("span",{key:"opr"+t,className:"text-nowrap rounded-md bg-gray-600 px-2 py-0.5 text-xs"},Om(e))}))),position:"bottom"},r.createElement(la.eQk,{className:"h-4 w-4"})):r.createElement("span",{className:"text-gray-500"},"--"))),r.createElement("div",{className:"mt-2 flex items-center justify-between"},r.createElement("div",{className:"flex flex-col gap-x-2 text-[0.65rem] italic text-gray-700 transition-opacity duration-300 xl:flex-row"},a.created_at&&r.createElement("span",null,(0,l.__)("Created:","advanced-database-cleaner")," ",yt(a.created_at,!0,!1)),r.createElement("span",{className:"hidden italic xl:!flex"},"|"),r.createElement("span",null,(0,l.__)("Edited:","advanced-database-cleaner")," ",a.updated_at?yt(a.updated_at,!0,!1):(0,l.__)("never","advanced-database-cleaner"))),r.createElement("div",{className:"flex justify-end gap-2"},r.createElement(O,{content:(0,l.__)("Edit","advanced-database-cleaner"),align:"right"},r.createElement("button",{onClick:function(){s(Vd(a.id)),s(Rd({subTabId:"add_edit_task"})),Md("task_id",a.id)},className:"inline-flex items-center justify-center gap-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 focus:outline-none"},r.createElement(oa.dtF,{className:"h-4 w-4"}))),r.createElement(O,{content:r.createElement("span",{className:"flex items-center gap-1"},(0,l.__)("Events log","advanced-database-cleaner"),"FREE"===R&&r.createElement("span",{className:"ml-1 flex gap-1 rounded-md bg-yellow-100 px-1 text-[.65rem] font-semibold text-yellow-800"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-600"}),(0,l.__)("premium","advanced-database-cleaner"))),align:"right"},r.createElement("button",{onClick:c,className:"inline-flex items-center justify-center gap-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 focus:outline-none"},r.createElement(F.yB7,{className:"h-4 w-4"}))),r.createElement(O,{content:(0,l.__)("Delete","advanced-database-cleaner"),align:"right"},r.createElement("button",{onClick:o,className:"inline-flex items-center justify-center gap-1 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-red-200 hover:text-red-700 focus:outline-none"},r.createElement(oa.op0,{className:"h-4 w-4"})))))))};const Pa=function(){var e=La((0,r.useState)([]),2),t=e[0],n=e[1],a=La((0,r.useState)("all"),2),c=a[0],d=a[1],f=La((0,r.useState)({total:0,active:0,paused:0}),2),p=f[0],h=f[1],v=La((0,r.useState)({actionType:"",taskId:null,taskName:"",showEventsModal:!1}),2),y=v[0],g=v[1],b=La((0,r.useState)(!1),2),x=b[0],_=b[1],w=La((0,r.useState)(!0),2),E=w[0],N=w[1],k=(0,m.d4)((function(e){return e.action.processAction})),S=(0,m.wA)();(0,r.useEffect)((function(){L()}),[c]),(0,r.useEffect)((function(){j()}),[k]);var L=function(){var e=Sa(Na().mark((function e(){var t,r,a,o,i,l,s,u,d;return Na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,_r({status:c});case 4:u=e.sent,d=u.data,n(Object.values(null!==(t=null==d?void 0:d.items)&&void 0!==t?t:{})),h({total:null!==(r=null==d||null===(a=d.counts)||void 0===a?void 0:a.total)&&void 0!==r?r:0,active:null!==(o=null==d||null===(i=d.counts)||void 0===i?void 0:i.active)&&void 0!==o?o:0,paused:null!==(l=null==d||null===(s=d.counts)||void 0===s?void 0:s.paused)&&void 0!==l?l:0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Ft(S,e.t0.message);case 13:return e.prev=13,N(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Sa(Na().mark((function e(){return Na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k&&"delete_task"===y.actionType){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Or({id:y.taskId});case 5:L(),g({actionType:"",taskId:null,taskName:""}),Ct(S,(0,l.__)("Deleted successfully!","advanced-database-cleaner")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Ft(S,e.t0.message);case 13:return e.prev=13,S(Mm()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Sa(Na().mark((function e(t){return Na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g({actionType:"delete_task",taskId:t.id,taskName:t.name}),S(Im({actionType:"delete_task",itemsType:null})),S(ua({type:"delete",title:(0,l.__)("Delete task?","advanced-database-cleaner"),message:(0,l.sprintf)((0,l.__)("Task to delete: %s","advanced-database-cleaner"),t.name),confirmLabel:(0,l.__)("Delete","advanced-database-cleaner"),dbBackupWarning:!1}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Sa(Na().mark((function e(t){return Na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lr(wa(wa({},t),{},{active:!t.active}));case 3:L(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ft(S,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Sa(Na().mark((function e(t){return Na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g({actionType:"show_task_events",taskId:t.id,taskName:t.name,showEventsModal:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",{className:""},r.createElement("div",{className:"mb-4"},r.createElement("div",{className:"mb-8 flex flex-col items-start gap-4 md:flex-row md:items-center md:justify-between"},r.createElement("div",null,r.createElement("button",{className:"flex h-[40px] items-center justify-center gap-x-2 rounded-lg bg-blue-500 px-10 text-sm font-semibold tracking-wide text-white hover:bg-blue-600",onClick:function(){"FREE"===R&&p.total>=5?_(!0):S(Rd({subTabId:"add_edit_task"}))}},r.createElement(be.db9,{className:"text-[1.2rem]"}),(0,l.__)("New automated task","advanced-database-cleaner"))),"FREE"===R&&r.createElement("div",{className:"w-full sm:w-auto"},r.createElement("div",{className:"group relative overflow-hidden rounded-xl bg-gray-100 px-2 py-[5px] md:bg-white"},r.createElement("div",{className:"relative flex items-center justify-between gap-4"},r.createElement("div",{className:"items-top flex gap-3"},r.createElement(ye.gt3,{className:"text-[.9rem] text-yellow-500"}),r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"text-xs font-bold uppercase tracking-wider"},(0,l.__)("Free Plan","advanced-database-cleaner")),r.createElement("div",{className:"h-1 w-1 rounded-full bg-gray-600"}),r.createElement("span",{className:"text-xs text-black"},(0,l.sprintf)((0,l.__)("%1$d/%2$d tasks used","advanced-database-cleaner"),p.total,5))),r.createElement("div",{className:"relative mt-2.5 h-1 overflow-hidden rounded-full bg-gray-300/80"},r.createElement("div",{className:"h-full bg-gradient-to-r from-yellow-500 to-orange-500  transition-all duration-500 ease-out",style:{width:"".concat(Math.min(p.total/5*100,100),"%")}})))),r.createElement("button",{type:"button",className:"group/btn flex items-center gap-1 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-2 py-1.5 text-[11px] font-semibold text-white shadow-sm transition-all duration-200 hover:from-blue-700 hover:to-indigo-700 hover:shadow-md",onClick:function(){return _(!0)}},r.createElement("span",null,(0,l.__)("Upgrade","advanced-database-cleaner")),r.createElement(xe.ye6,{className:"mt-[1px] h-4 w-4 transition-transform duration-200 group-hover/btn:translate-x-0.5"})))))),r.createElement("div",null,r.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3"},r.createElement("button",{className:"rounded-xl px-4 py-1 text-left sm:py-3 ".concat("all"===c?"bg-blue-100 ring-1 ring-blue-400":"bg-gray-100/80 ring-1 ring-gray-200 hover:ring-blue-400"),onClick:function(){return d("all")}},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100"},r.createElement(F.Xqn,{className:"h-5 w-5 text-blue-600"})),r.createElement("div",{className:"flex w-full items-center justify-between"},r.createElement("p",{className:"text-[.8rem] font-semibold text-gray-600"},(0,l.__)("Total Tasks","advanced-database-cleaner")),r.createElement("p",{className:"text-xl font-bold text-gray-900"},p.total)))),r.createElement("button",{className:"rounded-xl px-4 py-1 text-left sm:py-3 ".concat("active"===c?"bg-green-100 ring-1 ring-green-400":"bg-gray-100/80 ring-1 ring-gray-200 hover:ring-green-400"),onClick:function(){return d("active")}},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100"},r.createElement(oa.hmc,{className:"h-5 w-5 text-green-600"})),r.createElement("div",{className:"flex w-full items-center justify-between"},r.createElement("p",{className:"text-[.8rem] font-semibold text-gray-600"},(0,l.__)("Active Tasks","advanced-database-cleaner")),r.createElement("p",{className:"text-xl font-bold text-gray-900"},p.active)))),r.createElement("button",{className:"rounded-xl px-4 py-1 text-left sm:py-3 ".concat("paused"===c?"bg-gray-200 ring-1 ring-gray-400":"bg-gray-100/80 ring-1 ring-gray-200 hover:ring-gray-400"),onClick:function(){return d("paused")}},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-200"},r.createElement(oa.f6D,{className:"h-5 w-5 text-gray-600"})),r.createElement("div",{className:"flex w-full items-center justify-between"},r.createElement("p",{className:"text-[.8rem] font-semibold text-gray-600"},(0,l.__)("Paused Tasks","advanced-database-cleaner")),r.createElement("p",{className:"text-xl font-bold text-gray-900"},p.paused))))),r.createElement("div",{className:"mt-4 flex justify-end gap-3"},r.createElement(O,{content:(0,l.__)("Refresh","advanced-database-cleaner")},r.createElement(I,{href:"#",onClick:function(e){e.preventDefault(),L()}},r.createElement(u.JbZ,{className:"text-[1.1rem] ".concat(E?"animate-spin":"")})))))),E?r.createElement("div",{className:"flex min-h-[200px] items-center justify-center"},r.createElement(A,{spinnerColor:"text-blue-600"})):0===t.length?r.createElement("div",{className:"flex min-h-[300px] flex-col items-center justify-center rounded-xl px-6 ring-1 ring-gray-200"},r.createElement("div",{className:"flex h-16 w-16 items-center justify-center rounded-full border border-gray-200 bg-gray-100"},r.createElement(u.t2D,{className:"h-7 w-7 text-gray-400"})),r.createElement("div",{className:"mt-6 text-center"},r.createElement("h3",{className:"mb-3 text-[1.3em] font-bold text-gray-800"},(0,l.__)("No tasks found!","advanced-database-cleaner")),"all"!==c?r.createElement("p",{className:"text-sm leading-relaxed text-gray-500"},(0,l.__)("You don't have any tasks matching the selected filter.","advanced-database-cleaner")):r.createElement("p",{className:"text-sm leading-relaxed text-gray-500"},(0,l.__)("Get started by creating your first automated cleaning task.","advanced-database-cleaner")))):r.createElement("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2"},t.map((function(e){return r.createElement(Ta,{key:"tsk-"+e.id,task:e,onDelete:function(){return T(e)},onToggle:function(){return P(e)},onEvents:function(){return C(e)},dispatch:S})}))),r.createElement("div",{className:"mt-4 flex justify-end text-[.75rem] text-gray-400"},(0,l.__)("(All dates/times are in your local time zone)","advanced-database-cleaner")),y.showEventsModal&&r.createElement(ba,{show:y.showEventsModal,taskData:y,onClose:function(){g({actionType:"",taskId:null,taskName:"",showEventsModal:!1}),S(Mm()),S(We())}}),"FREE"===R&&x&&r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:function(){return _(!1)}},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative transform overflow-visible rounded-2xl border-t-[3px] border-yellow-600 bg-white text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:w-full sm:max-w-lg sm:px-2"},r.createElement("div",{className:"mx-auto mt-2"},r.createElement("div",{className:"relative px-8 pb-6 pt-6"},r.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-300 to-orange-400"},r.createElement(u.xGQ,{className:"h-8 w-8 text-white"})),r.createElement("div",{className:"text-center"},r.createElement("h3",{className:"mb-2 text-2xl font-bold text-gray-900"},(0,l.__)("Unlock Premium Automation","advanced-database-cleaner")),r.createElement("p",{className:"text-gray-600"},(0,l.__)("Upgrade to create unlimited tasks with advanced features.","advanced-database-cleaner")))),r.createElement("div",{className:"px-12 pb-6"},r.createElement("div",{className:"space-y-4"},r.createElement("div",{className:"flex items-start gap-3"},r.createElement("div",{className:"mt-1 flex items-center justify-center rounded-full bg-green-100"},r.createElement(s.LGE,{className:"h-5 w-5 text-green-600"})),r.createElement("div",null,r.createElement("h4",{className:"font-semibold text-gray-900"},(0,l.__)("Unlimited Automated Tasks","advanced-database-cleaner")),r.createElement("p",{className:"text-sm text-gray-600"},(0,l.__)("Create as many automation tasks as you need.","advanced-database-cleaner")))),r.createElement("div",{className:"flex items-start gap-3"},r.createElement("div",{className:"mt-1 flex items-center justify-center rounded-full bg-green-100"},r.createElement(s.LGE,{className:"h-5 w-5 text-green-600"})),r.createElement("div",null,r.createElement("h4",{className:"font-semibold text-gray-900"},(0,l.__)("Many Premium Features","advanced-database-cleaner")),r.createElement("p",{className:"text-sm text-gray-600"},(0,l.__)("Access advanced cleaning options, analytics, and more.","advanced-database-cleaner")))),r.createElement("div",{className:"flex items-start gap-3"},r.createElement("div",{className:"mt-1 flex items-center justify-center rounded-full bg-green-100"},r.createElement(s.LGE,{className:"h-5 w-5 text-green-600"})),r.createElement("div",null,r.createElement("h4",{className:"font-semibold text-gray-900"},(0,l.__)("Priority Support","advanced-database-cleaner")),r.createElement("p",{className:"text-sm text-gray-600"},(0,l.__)("Get expert assistance and early access to new features.","advanced-database-cleaner")))))),r.createElement("div",{className:"flex flex-col gap-3 bg-gray-50 px-12 py-6 sm:flex-row"},r.createElement("button",{type:"button",className:"flex-1 rounded-xl border border-gray-300 px-4 py-3 text-sm font-medium text-gray-700 transition-colors hover:bg-white",onClick:function(){return _(!1)}},(0,l.__)("Maybe Later","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=automation-tasks-limit-modal&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-3 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},r.createElement("span",{className:"flex items-center justify-center gap-2"},(0,l.__)("Upgrade to Premium","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"})))),r.createElement("div",{className:"mx-12 mb-8 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 text-center"},r.createElement("p",{className:"mt-1 text-xs text-gray-800"},(0,l.__)("30-day money-back guarantee. No questions asked.","advanced-database-cleaner"))))))))))};function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function Ca(){Ca=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ia(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ia(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Aa(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Fa(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Aa(o,r,a,i,l,"next",e)}function l(e){Aa(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ma(e,t,n){return Da.apply(this,arguments)}function Da(){return(Da=Fa(Ca().mark((function e(t,n,r){return Ca().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="tables"===e.t0?3:"options"===e.t0?4:"transients"===e.t0?5:"posts_meta"===e.t0?6:"users_meta"===e.t0?7:"cron_jobs"===e.t0?8:"revisions"===e.t0||"auto_drafts"===e.t0||"trashed_posts"===e.t0||"unapproved_comments"===e.t0||"spam_comments"===e.t0||"trashed_comments"===e.t0||"pingbacks"===e.t0||"trackbacks"===e.t0||"unused_postmeta"===e.t0||"duplicated_postmeta"===e.t0||"unused_commentmeta"===e.t0||"duplicated_commentmeta"===e.t0||"unused_usermeta"===e.t0||"duplicated_usermeta"===e.t0||"unused_termmeta"===e.t0||"duplicated_termmeta"===e.t0||"unused_relationships"===e.t0||"expired_transients"===e.t0||"oembed_caches"===e.t0||"actionscheduler_completed_actions"===e.t0||"actionscheduler_failed_actions"===e.t0||"actionscheduler_canceled_actions"===e.t0||"actionscheduler_completed_logs"===e.t0||"actionscheduler_failed_logs"===e.t0||"actionscheduler_canceled_logs"===e.t0||"actionscheduler_orphan_logs"===e.t0?9:10;break;case 3:return e.abrupt("return",ee(q+"/get-tables-list",{method:"POST",data:n,signal:r}));case 4:return e.abrupt("return",ee(q+"/get-options-list",{method:"POST",data:n,signal:r}));case 5:return e.abrupt("return",ee(q+"/get-transients-list",{method:"POST",data:n,signal:r}));case 6:return e.abrupt("return",ee(q+"/get-posts-meta-list",{method:"POST",data:n,signal:r}));case 7:return e.abrupt("return",ee(q+"/get-users-meta-list",{method:"POST",data:n,signal:r}));case 8:return e.abrupt("return",ee(q+"/get-cron-jobs-list",{method:"POST",data:n,signal:r}));case 9:return e.abrupt("return",ee(q+"/general-cleanup/get-items",{method:"POST",data:n,signal:r}));case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ga(e,t){return za.apply(this,arguments)}function za(){return(za=Fa(Ca().mark((function e(t,n){var r;return Ca().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={edit_scan_results_tables:"/edit-scan-results-tables",optimize_tables:"/optimize-tables",repair_tables:"/repair-tables",empty_rows_tables:"/empty-rows-tables",delete_tables:"/delete-tables",edit_scan_results_options:"/edit-scan-results-options",set_autoload_to_yes_options:"/set-autoload-to-yes-options",set_autoload_to_no_options:"/set-autoload-to-no-options",delete_options:"/delete-options",edit_scan_results_transients:"/edit-scan-results-transients",set_autoload_to_yes_transients:"/set-autoload-to-yes-transients",set_autoload_to_no_transients:"/set-autoload-to-no-transients",delete_transients:"/delete-transients",edit_scan_results_posts_meta:"/edit-scan-results-posts-meta",delete_posts_meta:"/delete-posts-meta",edit_scan_results_users_meta:"/edit-scan-results-users-meta",delete_users_meta:"/delete-users-meta",edit_scan_results_cron_jobs:"/edit-scan-results-cron-jobs",delete_cron_jobs:"/delete-cron-jobs",delete_revisions:"/general-cleanup/delete-items",delete_auto_drafts:"/general-cleanup/delete-items",delete_trashed_posts:"/general-cleanup/delete-items",delete_unapproved_comments:"/general-cleanup/delete-items",delete_spam_comments:"/general-cleanup/delete-items",delete_trashed_comments:"/general-cleanup/delete-items",delete_pingbacks:"/general-cleanup/delete-items",delete_trackbacks:"/general-cleanup/delete-items",delete_unused_postmeta:"/general-cleanup/delete-items",delete_duplicated_postmeta:"/general-cleanup/delete-items",delete_unused_commentmeta:"/general-cleanup/delete-items",delete_duplicated_commentmeta:"/general-cleanup/delete-items",delete_unused_usermeta:"/general-cleanup/delete-items",delete_duplicated_usermeta:"/general-cleanup/delete-items",delete_unused_termmeta:"/general-cleanup/delete-items",delete_duplicated_termmeta:"/general-cleanup/delete-items",delete_unused_relationships:"/general-cleanup/delete-items",delete_expired_transients:"/general-cleanup/delete-items",delete_oembed_caches:"/general-cleanup/delete-items",delete_actionscheduler_completed_actions:"/general-cleanup/delete-items",delete_actionscheduler_failed_actions:"/general-cleanup/delete-items",delete_actionscheduler_canceled_actions:"/general-cleanup/delete-items",delete_actionscheduler_completed_logs:"/general-cleanup/delete-items",delete_actionscheduler_failed_logs:"/general-cleanup/delete-items",delete_actionscheduler_canceled_logs:"/general-cleanup/delete-items",delete_actionscheduler_orphan_logs:"/general-cleanup/delete-items"}[t]){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",ee(q+r,{method:"POST",data:n}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ra=n(8069);function Ba(e){return Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(e)}function Ua(){Ua=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ba(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ba(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Wa(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ya(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wa(o,r,a,i,l,"next",e)}function l(e){Wa(o,r,a,i,l,"throw",e)}i(void 0)}))}}function qa(){return(qa=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-tables-to-optimize",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ka(){return(Ka=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-tables-to-repair",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(){return(Ha=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-tables-with-invalid-prefix",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(){return($a=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-not-scanned-tables",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(){return(Va=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-big-options",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(){return(Qa=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-not-scanned-options",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(){return(Ja=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-autoload-health",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Za(){return(Za=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-big-posts-meta",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xa(){return(Xa=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-not-scanned-posts-meta",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(){return(eo=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-duplicated-posts-meta",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function to(){return(to=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-unused-posts-meta",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(){return(no=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-big-users-meta",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ro(){return(ro=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-not-scanned-users-meta",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(){return(ao=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-duplicated-users-meta",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(){return(oo=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-unused-users-meta",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(){return(io=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-big-transients",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(){return(lo=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-not-scanned-transients",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(){return(co=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-expired-transients",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(){return(so=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-not-scanned-cron-jobs",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(){return(uo=Ya(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/count-total-cron-jobs-with-no-action",{method:"GET",signal:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mo=(0,f.Z0)({name:"scan",initialState:{isScanModalShown:!1,whoOpenedScanModal:"",scanParams:null,isScanBalanceModalShown:!1,isEditCategorizationModalShown:!1},reducers:{showScanModal:function(e,t){e.whoOpenedScanModal=t.payload,e.isScanModalShown=!0},hideScanModal:function(e){e.isScanModalShown=!1,e.whoOpenedScanModal=""},setScanParams:function(e,t){e.scanParams=t.payload},showScanBalanceModal:function(e){e.isScanBalanceModalShown=!0},hideScanBalanceModal:function(e){e.isScanBalanceModalShown=!1},showEditCategorizationModal:function(e){e.isEditCategorizationModalShown=!0},hideEditCategorizationModal:function(e){e.isEditCategorizationModalShown=!1}}}),fo=mo.actions,po=fo.showScanModal,ho=fo.hideScanModal,vo=fo.setScanParams,yo=fo.showScanBalanceModal,go=fo.hideScanBalanceModal,bo=fo.showEditCategorizationModal,xo=fo.hideEditCategorizationModal;const _o=mo.reducer;function wo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Eo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const No=function(e){var t=e.actions,n=e.itemsType,a=e.openUpward,o=void 0!==a&&a,i=(0,m.d4)((function(e){return e.action.actionType})),c=(0,m.d4)((function(e){return e.action.processAction})),s=(0,m.d4)((function(e){return e.action.selectedItems})),u=(0,m.wA)(),d=(0,r.useMemo)((function(){var e,n;if(!i)return(null===(n=t[0])||void 0===n?void 0:n[0])||null;var r,a=wo(t);try{for(a.s();!(r=a.n()).done;){var o,l=wo(r.value);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(c.key===i)return c}}catch(e){l.e(e)}finally{l.f()}}}catch(e){a.e(e)}finally{a.f()}return(null===(e=t[0])||void 0===e?void 0:e[0])||null}),[i,t]),f=function(){if(i)if(0!==s.length)if(i.startsWith("delete_")||i.startsWith("empty_")){var e=function(e,t){return"empty_rows_tables"===e?{type:"delete",title:(0,l.sprintf)((0,l._n)("Empty %d table?","Empty %d tables?",t,"advanced-database-cleaner"),t),message:(0,l.__)("Once emptied, this action cannot be undone!","advanced-database-cleaner"),confirmLabel:(0,l.__)("Empty","advanced-database-cleaner"),dbBackupWarning:!0}:e.startsWith("delete_")?{type:"delete",title:(0,l.sprintf)((0,l._n)("Delete %d item?","Delete %d items?",t,"advanced-database-cleaner"),t),message:(0,l.__)("Once deleted, this action cannot be undone!","advanced-database-cleaner"),confirmLabel:(0,l.__)("Delete","advanced-database-cleaner"),dbBackupWarning:!0}:null}(i,s.length);u(ua(e))}else i.startsWith("edit_scan_results_")?u(bo()):i.startsWith("scan_")?u(po("bulkAction")):u(Cm());else Dt(u,{type:"warning",title:(0,l.__)("No items selected!","advanced-database-cleaner"),message:(0,l.__)("Please select at least one item to apply the action!","advanced-database-cleaner"),hideAfter:5});else Dt(u,{type:"warning",title:(0,l.__)("No action selected!","advanced-database-cleaner"),message:(0,l.__)("Please select an action to apply!","advanced-database-cleaner"),hideAfter:5})};return r.createElement("div",{className:"flex gap-x-2"},r.createElement(fm,{selectItems:t,selectedItem:d,onSelectionChange:function(e){u(Im("bulk_actions"===e?{actionType:null,itemsType:n}:{actionType:e,itemsType:n}))},borderColor:"border-gray-400",minWidthButton:"min-w-[160px]",openUpward:o}),r.createElement("div",null,r.createElement(w,{text:(0,l.sprintf)((0,l.__)("Apply to selected (%1s)","advanced-database-cleaner"),s.length),className:"hidden !h-[2rem] lg:!block",onClick:f,disabled:c}),r.createElement(w,{text:(0,l.sprintf)((0,l.__)("Apply (%1s)","advanced-database-cleaner"),s.length),className:"!h-[2rem] lg:!hidden",onClick:f,disabled:c})))};function ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return So(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?So(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Lo=function(e){var t=e.autoloadHealth,n=void 0===t?"":t,a=e.autoloadedSize,o=void 0===a?0:a,i=e.autoloadLimit,c=void 0===i?"":i,s=ko((0,r.useState)(""),2),u=s[0],d=s[1],f=ko((0,r.useState)(""),2),p=f[0],h=f[1],v=ko((0,r.useState)(""),2),y=v[0],g=v[1],b=(0,m.d4)((function(e){return e.shared.currentTabId})),x=(0,m.d4)((function(e){return e.filter.belongsTo})),_=(0,m.d4)((function(e){return e.filter.prefixStatus})),w=(0,m.d4)((function(e){return e.filter.autoload})),E=(0,m.d4)((function(e){return e.filter.size})),N=(0,m.d4)((function(e){return e.filter.sizeUnit})),k=(0,m.d4)((function(e){return e.filter.expired})),S=(0,m.d4)((function(e){return e.filter.duplicated})),L=(0,m.d4)((function(e){return e.filter.unused})),j=(0,m.d4)((function(e){return e.filter.hasAction}));return(0,r.useEffect)((function(){var e="";h(""),g("blue"),"invalid_prefix"===_?e=(0,l.__)("Items below have invalid prefixes, indicating they likely originate from other WordPress installations or unrelated projects.","advanced-database-cleaner"):"orphans"===x?(e=(0,l.__)("Items below seem to be orphaned. However, please ensure you only delete entries you are certain are safe to remove.","advanced-database-cleaner"),g("red")):"not_scanned"===x?e="FREE"===R?(0,l.__)("Upgrade to Premium to scan the items below and identify which plugin or theme they belong to.","advanced-database-cleaner"):(0,l.__)("Items below have not been scanned yet. Click the button above to scan them and identify their associated plugin or theme.","advanced-database-cleaner"):"bad"===n&&"yes"===w?(e=(0,l.sprintf)((0,l.__)("Your autoload size (%1$s) exceeds your WordPress recommendation (%2$s). Reducing it may improve performance.","advanced-database-cleaner"),o,c),h("https://docs.sigmaplugin.com/article/61-how-to-documentation-reduce-autoload-size?utm_source=filter-message&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=documentation-reduce-autoload-size"))):"tables"!==b&&"cron_jobs"!==b&&(E>=150&&"KB"===N||E>=1&&"MB"===N||E>=1&&"GB"===N)?e=(0,l.__)("Items below exceed 150KB, which is considered large! Please review them.","advanced-database-cleaner"):"transients"===b&&"yes"===k?e=(0,l.__)("Transients below are expired. You can safely delete them.","advanced-database-cleaner"):"posts_meta"===b&&"yes"===S?e=(0,l.__)("Items below are duplicate post meta entries. You can safely delete them, as the original entries will be preserved automatically.","advanced-database-cleaner"):"posts_meta"===b&&"yes"===L?e=(0,l.__)("Items below are unused post meta (linked to missing posts). You can safely delete them.","advanced-database-cleaner"):"users_meta"===b&&"yes"===S?e=(0,l.__)("Items below are duplicate user meta entries. You can safely delete them, as the original entries will be preserved automatically.","advanced-database-cleaner"):"users_meta"===b&&"yes"===L?e=(0,l.__)("Items below are unused user meta (linked to missing users). You can safely delete them.","advanced-database-cleaner"):"cron_jobs"===b&&"no"===j&&(e=(0,l.__)("The cron jobs below have no registered actions. Review and delete those that are obsolete.","advanced-database-cleaner")),d(e)}),[b,x,_,w,k,E,N,n,o,c,S,L,j]),r.createElement(r.Fragment,null,u&&r.createElement("div",{className:"tex-black mt-6 flex flex-col rounded-md ".concat("blue"===y?"bg-blue-100":"bg-red-100"," px-2 py-[7px] shadow-sm")},r.createElement("div",{className:"items-top flex gap-2"},r.createElement(ye.bT0,{"aria-hidden":"true",className:"mt-[2px] hidden size-[16px] md:!flex ".concat("red"===y?"text-orange-600":"text-blue-500"," ")}),r.createElement("span",null,u," ",""!==p&&r.createElement(I,{href:p,target:"_blank"},(0,l.__)("Read more","advanced-database-cleaner")))),"bad"===n&&"yes"===w&&r.createElement("span",{className:"flex gap-x-1 pl-0 text-[.75rem] md:pl-[23px]"},r.createElement("span",{className:"font-bold"},(0,l.__)("Note:","advanced-database-cleaner")),(0,l.__)("Transients with autoload enabled also increase the autoload size. Check the Transients tab as well.","advanced-database-cleaner"))))};function jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const To=function(e){var t=e.tabName,n=e.categorizationCount,a=e.pluginsCount,o=e.themesCount,i=[[{key:"all",label:"All plugins ("+n.p+")"}],Object.entries(a).map((function(e){var t=jo(e,2),n=t[0],r=t[1];return{key:n,label:r.name+" ("+r.count+")"}}))],c=[[{key:"all",label:"All themes ("+n.t+")"}],Object.entries(o).map((function(e){var t=jo(e,2),n=t[0],r=t[1];return{key:n,label:r.name+" ("+r.count+")"}}))],s=vm(t),u=s.allItemsMsg,d=s.pluginsItemsMsg,f=s.themesItemsMsg,p=s.wpItemsMsg,h=jo((0,r.useState)(!1),2),v=h[0],y=h[1],g=(0,m.d4)((function(e){return e.filter.belongsTo})),b=(0,m.d4)((function(e){return e.filter.belongsToPluginSlug})),x=(0,m.d4)((function(e){return e.filter.belongsToThemeSlug})),_=(0,m.d4)((function(e){return e.filter.showManualCorrectionsOnly})),w=(0,m.d4)((function(e){return e.shared.hideFilters})),E=(0,m.wA)(),N=function(e){E(De(e))},k=function(e,t){E("plugin"===e?"all"===t?De("plugins"):Ge(t):"all"===t?De("themes"):ze(t))};return"PREMIUM"===R&&r.createElement("div",{className:"mt-5",hidden:w},r.createElement("div",{className:"flex min-h-[40px] flex-col gap-2 bg-white text-[.8rem] text-gray-900 xl:flex-row"},r.createElement("div",{className:"grid w-full grid-cols-1 gap-2 gap-x-3 sm:grid-cols-2 md:grid-cols-3 xl:flex"},r.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-gray-800 2xl:justify-center ".concat("all"===g?"border-black bg-gray-200/80":"border-gray-300"),onClick:function(){return N("all")}},r.createElement("span",{className:"text-left"},u),r.createElement("span",{id:"adbc-categorization-all",className:"font-bold"},"(",n.all,")")),r.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-orange-500 2xl:justify-center ".concat("orphans"===g?"border-orange-500 bg-orange-100":"border-gray-300"),onClick:function(){return N("orphans")}},r.createElement("span",{className:"text-left"},(0,l.__)("Orphans","advanced-database-cleaner")),r.createElement("span",{id:"adbc-categorization-orphans",className:"font-bold"},"(",n.o,")")),r.createElement("div",{className:"flex flex-grow flex-row items-center rounded-xl border hover:border-blue-500 ".concat("plugins"===g?"bg-blue-100":"border-gray-300"," ").concat(("plugins"===g||b)&&"!border-blue-500"," ")},r.createElement("button",{className:"flex h-full min-h-[40px] w-full items-center p-2 2xl:justify-center",onClick:function(){return N("plugins")}},r.createElement("span",{className:"flex gap-x-1"},r.createElement("span",{className:"text-left"},d),r.createElement("span",{className:"font-bold"},"(",n.p,")"))),Object.keys(a).length>0&&r.createElement("div",{className:"mr-[5px]"},r.createElement(fm,{selectItems:i,onSelectionChange:function(e){return k("plugin",e)},minWidthContent:"min-w-[300px]",maxHeight:!0,buttonOnly:!0,ButtonBgColor:""!=b?"bg-blue-200":"bg-gray-100",extraBtnClasses:"rounded-lg border-gray-100 hover:border-gray-400"}))),r.createElement("div",{className:"flex flex-grow flex-row items-center rounded-xl border hover:border-green-500 ".concat("themes"===g?"bg-green-100":"border-gray-300"," ").concat(("themes"===g||x)&&"!border-green-500")},r.createElement("button",{className:"flex h-full min-h-[40px] w-full items-center p-2 2xl:justify-center",onClick:function(){return N("themes")}},r.createElement("span",{className:"flex gap-x-1"},r.createElement("span",{className:"text-left"},f),r.createElement("span",{className:"font-bold"},"(",n.t,")"))),Object.keys(o).length>0&&r.createElement("div",{className:"mr-[5px]"},r.createElement(fm,{selectItems:c,onSelectionChange:function(e){return k("theme",e)},minWidthContent:"min-w-[300px]",maxHeight:!0,buttonOnly:!0,ButtonBgColor:""!=x?"bg-green-200":"bg-gray-100",extraBtnClasses:"rounded-lg border-gray-100 hover:border-gray-400"}))),r.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-purple-500 2xl:justify-center ".concat("wordpress"===g?"border-purple-500 bg-purple-100":"border-gray-300"),onClick:function(){return N("wordpress")}},r.createElement("span",{className:"text-left"},p),r.createElement("span",{className:"font-bold"},"(",n.w,")")),("posts_meta"===t||"users_meta"===t)&&r.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-red-500 2xl:justify-center ".concat("unknown"===g?"border-red-500 bg-red-100":"border-gray-300"),onClick:function(){return N("unknown")}},r.createElement("span",{className:"text-left"},(0,l.__)("Unknown","advanced-database-cleaner")),r.createElement("span",{className:"font-bold"},"(",n.unk,")")),r.createElement("button",{className:"flex min-h-[40px] flex-grow flex-row gap-x-1 rounded-xl border px-2 py-3 hover:border-yellow-500 2xl:justify-center ".concat("not_scanned"===g?"border-yellow-500 bg-yellow-100":"border-gray-300"),onClick:function(){return N("not_scanned")}},r.createElement("span",{className:"text-left"},(0,l.__)("Not scanned","advanced-database-cleaner")),r.createElement("span",{id:"adbc-categorization-not-scanned",className:"font-bold"},"(",n.u,")"))),r.createElement("div",{className:"flex justify-end"},r.createElement(O,{content:v?r.createElement("span",null,(0,l.__)("Less filters","advanced-database-cleaner")):r.createElement("span",null,(0,l.__)("More filters","advanced-database-cleaner"))},r.createElement("button",{className:"flex h-full w-[25px] flex-col items-center justify-center rounded-lg border border-gray-300 p-1 hover:border-gray-700",onClick:function(e){e.preventDefault(),y(!v)}},v?r.createElement(F.c4r,null):r.createElement(F.MoM,null))))),v&&r.createElement("div",{className:"mt-3 flex min-h-[40px] min-w-[800px] items-center justify-between gap-x-3 border-b border-gray-300 text-[.8rem] text-gray-900"},r.createElement(S,{text:(0,l.__)("Show manual corrections only","advanced-database-cleaner"),textStyle:"font-normal text-[.8rem]",toggleSize:"small",toggleChangeCallback:function(e){return function(e){E(Se({showManualCorrectionsOnly:e}))}(e)},isActive:_})))};var Po=n(2644);function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function Co(){Co=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Io(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Io(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Ao(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||Do(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e){return function(e){if(Array.isArray(e))return Go(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Do(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Do(e,t){if(e){if("string"==typeof e)return Go(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Go(e,t):void 0}}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var zo=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,l.__)("Hook","advanced-database-cleaner")},{key:"value",label:(0,l.__)("Args","advanced-database-cleaner")}]],Ro=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"once",label:(0,l.__)("Once","advanced-database-cleaner")}]],Bo=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"N/A",label:(0,l.__)("N/A","advanced-database-cleaner")}]],Uo=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,l.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,l.__)("No","advanced-database-cleaner")}]],Wo=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],Mo(Y.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const Yo=function(e){var t=e.notScannedCount,n=e.noActionCount,a=(0,m.d4)((function(e){return e.filter})),o=(0,m.d4)((function(e){return e.shared.hideFilters})),i=(0,m.d4)(Ke),c=Fo((0,r.useState)(a.search),2),s=c[0],d=c[1],f=Fo((0,r.useState)(a.searchIn),2),p=f[0],h=f[1],y=Fo((0,r.useState)(a.frequency),2),g=y[0],b=y[1],x=Fo((0,r.useState)(a.interval),2),_=x[0],E=x[1],N=Fo((0,r.useState)(a.hasAction),2),k=N[0],S=N[1],L=Fo((0,r.useState)(a.site),2),j=L[0],O=L[1],T=Fo((0,r.useState)(zo[1][0]),2),P=T[0],C=T[1],A=Fo((0,r.useState)(Ro[0][0]),2),M=A[0],D=A[1],G=Fo((0,r.useState)(Bo[0][0]),2),z=G[0],B=G[1],U=Fo((0,r.useState)(Uo[0][0]),2),Y=U[0],q=U[1],K=Fo((0,r.useState)(Wo[0][0]),2),H=K[0],$=K[1],V=Fo((0,r.useState)(0),2),Q=V[0],J=V[1],Z=Fo((0,r.useState)(Ro),2),X=Z[0],ee=Z[1],te=Fo((0,r.useState)(Bo),2),ne=te[0],re=te[1],ae=Fo((0,r.useState)(!1),2),oe=ae[0],ie=ae[1],le=(0,m.wA)(),ce=".."===t||".."===n,ue=ce?"border-gray-100 bg-gray-100 shadow-md":0===t&&0===n?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md",de=function(e,t,n){return e.flat().find((function(e){return e.key===t}))||n};return(0,r.useEffect)((function(){d(a.search),h(a.searchIn),b(a.frequency),E(a.interval),S(a.hasAction),O(a.site),C(de(zo,a.searchIn,zo[1][0])),D(de(X,a.frequency,X[0][0])),B(de(ne,a.interval,ne[0][0])),q(de(Uo,a.hasAction,Uo[0][0])),$(de(Wo,a.site,Wo[0][0]))}),[a]),(0,r.useEffect)((function(){D(de(X,g,X[0][0])),B(de(ne,_,ne[0][0]))}),[X,ne,g,_]),(0,r.useEffect)((function(){if("FREE"!==R){var e=function(){var e,t=(e=Co().mark((function e(){var t,n,r,a,o;return Co().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.prev=1,e.next=4,se();case 4:if(t=e.sent,n=null==t?void 0:t.data){e.next=8;break}return e.abrupt("return");case 8:r=Object.entries(n).map((function(e){var t=Fo(e,2),n=t[0],r=t[1];return{key:n,label:"".concat(r.display," (").concat(n,")")}})),a=Mo(new Set(Object.values(n).map((function(e){return e.interval})).filter((function(e){return"number"==typeof e&&e>0})))).sort((function(e,t){return e-t})).map((function(e){return{key:String(e),label:String(e)}})),ee((o=function(e,t){return[e,t]})([{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"once",label:(0,l.__)("Once","advanced-database-cleaner")}].concat(Mo(r)))),re(o([{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"N/A",label:(0,l.__)("N/A","advanced-database-cleaner")}].concat(Mo(a)))),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:return e.prev=17,ie(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,15,17,20]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ao(o,r,a,i,l,"next",e)}function l(e){Ao(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}}),[]),r.createElement(r.Fragment,null,r.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},i&&r.createElement("div",{className:"flex items-center"},r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),le(Ue()),C(zo[1][0]),D(Ro[0][0]),B(Bo[0][0]),q(Uo[0][0]),$(Wo[0][0]),J(Q+1)}},r.createElement(u.k7K,null),(0,l.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===R&&r.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===R&&r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),le(Bd(!o))}},o?r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.E1u,null),(0,l.__)("Show filters","advanced-database-cleaner")):r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.UX6,null),(0,l.__)("Hide filters","advanced-database-cleaner")))),r.createElement("div",{key:Q,className:"mt-1",hidden:o},r.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},r.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(ue," relative justify-center px-2 py-1")},!ce&&r.createElement("button",{onClick:function(e){e.preventDefault(),le(em())},className:"absolute right-2 top-2 flex items-center justify-center rounded p-0.5 text-gray-600 transition-colors hover:text-gray-800"},r.createElement(u.JbZ,{className:"text-[0.85rem]"})),ym(".."===n?"loading":0===n?"ok":"warning",(0,l.sprintf)((0,l._n)("%s cron job with no action","%s cron jobs with no action",n,"advanced-database-cleaner"),n),(function(e){e.preventDefault(),le(Me()),C(zo[1][0]),D(Ro[0][0]),B(Bo[0][0]),q(Uo[1][1]),$(Wo[0][0]),J(Q+1)})),ym(".."===t?"loading":0===t?"ok":"warning",(0,l.sprintf)((0,l._n)("%s cron job not scanned","%s cron jobs not scanned",t,"advanced-database-cleaner"),t),(function(e){e.preventDefault(),le(Te()),C(zo[1][0]),D(Ro[0][0]),B(Bo[0][0]),q(Uo[0][0]),$(Wo[0][0]),J(Q+1)}))),r.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===R?"py-2":"py-3")},r.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===R?"pointer-events-none opacity-50":"")},r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search for","advanced-database-cleaner")),r.createElement(v,{placeholder:(0,l.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[9rem]",onChange:function(e){return d(e.target.value)},maxLength:100,value:s})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search in","advanced-database-cleaner")),r.createElement(fm,{selectItems:zo,selectedItem:P,onSelectionChange:function(e){h(e),C(de(zo,e,zo[1][0]))},minWidthButton:"w-full xl:min-w-[90px]",minWidthContent:"min-w-[120px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Frequency","advanced-database-cleaner")),oe?r.createElement("div",{className:"flex h-[2rem] w-full items-center rounded-lg border border-gray-300 bg-gray-100 px-2 text-[.7rem] text-gray-500 xl:w-[100px]"},(0,l.__)("Loading ...","advanced-database-cleaner")):r.createElement(fm,{selectItems:X,selectedItem:M,onSelectionChange:function(e){b(e),D(de(X,e,X[0][0]))},minWidthButton:"w-full xl:min-w-[100px]",extraBtnClasses:"xl:max-w-[100px]",minWidthContent:"min-w-[300px]",maxHeight:!0})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Interval (secs)","advanced-database-cleaner")),oe?r.createElement("div",{className:"flex h-[2rem] w-full items-center rounded-lg border border-gray-300 bg-gray-100 px-2 text-[.7rem] text-gray-500 xl:w-[80px]"},(0,l.__)("Loading ...","advanced-database-cleaner")):r.createElement(fm,{selectItems:ne,selectedItem:z,onSelectionChange:function(e){E(e),B(de(ne,e,ne[0][0]))},minWidthButton:"w-full xl:min-w-[80px]",extraBtnClasses:"xl:max-w-[120px]",minWidthContent:"min-w-[140px]",maxHeight:!0})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Has action","advanced-database-cleaner")),r.createElement(fm,{selectItems:Uo,selectedItem:Y,onSelectionChange:function(e){S(e),q(de(Uo,e,Uo[0][0]))},minWidthButton:"w-full xl:min-w-[60px]",extraBtnClasses:"xl:max-w-[120px]",minWidthContent:"min-w-[100px]"})),"1"===W&&r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Site","advanced-database-cleaner")),r.createElement(fm,{selectItems:Wo,selectedItem:H,onSelectionChange:function(e){O(e),$(de(Wo,e,Wo[0][0]))},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),r.createElement("div",null,r.createElement(w,{Icon:Xe.F3z,text:(0,l.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),le(Se({search:s,searchIn:p,frequency:g,interval:_,hasAction:k,site:j})),le(De("all"))}}))),"FREE"===R&&r.createElement("div",{className:"flex w-full items-center pt-1"},r.createElement("div",{className:"flex items-center gap-1 rounded-lg"},r.createElement(u.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),r.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,l.__)("Unlock Advanced Filters:","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=cron-jobs-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,l.__)("upgrade","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[1px] h-3 w-3"}))))))))};var qo=n(8199),Ko=n(1578),Ho=n(139);function $o(e){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}function Vo(){Vo=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==$o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError($o(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Qo(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Jo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qo(o,r,a,i,l,"next",e)}function l(e){Qo(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Zo(e){return Xo.apply(this,arguments)}function Xo(){return(Xo=Jo(Vo().mark((function e(t){return Vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/start-scan",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e){return ti.apply(this,arguments)}function ti(){return(ti=Jo(Vo().mark((function e(t){return Vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/stop-scan",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ni(e){return ri.apply(this,arguments)}function ri(){return(ri=Jo(Vo().mark((function e(t){return Vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/scan-heartbeat",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ai(e){return oi.apply(this,arguments)}function oi(){return(oi=Jo(Vo().mark((function e(t){return Vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/remote-request-retries-reset",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(e){return li.apply(this,arguments)}function li(){return(li=Jo(Vo().mark((function e(t){return Vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/check-remote-scan-status",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ci(e){return si.apply(this,arguments)}function si(){return(si=Jo(Vo().mark((function e(t){return Vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-remote-scan-results",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ui(){return di.apply(this,arguments)}function di(){return(di=Jo(Vo().mark((function e(){return Vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-remote-scan-balance",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e){return fi.apply(this,arguments)}function fi(){return(fi=Jo(Vo().mark((function e(t){return Vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/is-scan-exists",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pi=function(e){switch(e){case 1:return(0,l.__)("We couldn't verify your license. Please check that your license key is active for the current website.","advanced-database-cleaner");case 2:return(0,l.__)("You don't have enough credits to send additional remote requests.","advanced-database-cleaner");case 3:return(0,l.__)("The remote database cannot scan such a large number of items. Contact the plugin developer for more information.","advanced-database-cleaner");case 4:return(0,l.__)("An error occurred during the remote request. Check the logs for more details.","advanced-database-cleaner");case 6:return(0,l.__)("The remote server is being prepared for maintenance. Please try again later.","advanced-database-cleaner");case 5:return(0,l.__)("The remote server is under maintenance. Please try again later.","advanced-database-cleaner");default:return""}};const hi=function(e){var t,n,a,o,i,c=e.Icon,s=e.title,u=e.label,d=e.tooltipText,m=e.status,f=e.progress,p=e.showProgress,h=void 0===p||p,v=e.showConnector,y=void 0===v||v,g=e.collectedFiles,b=void 0===g?null:g,x=e.heartBeatResponse,_=void 0===x?null:x,w=e.retryReason,E=void 0===w?"":w,N=e.disabled,k=void 0!==N&&N,S="completed"===m,L="current"===m,O="failed"===(null==_||null===(t=_.data)||void 0===t||null===(t=t.remote)||void 0===t?void 0:t.status)||"shutdown"===(null==_||null===(n=_.data)||void 0===n?void 0:n.status)&&"timeout"!==(null==_||null===(a=_.data)||void 0===a?void 0:a.shutdown_reason)&&"forced_timeout"!==(null==_||null===(o=_.data)||void 0===o?void 0:o.shutdown_reason)||"check_remote_scan_status_error"===E||"get_scan_results_error"===E;return i=S?k?"border border-gray-400 bg-gray-400 text-white":"border border-green-600 bg-green-600 text-white":L?"bg-white":"border border-gray-300 bg-white",r.createElement(r.Fragment,null,r.createElement("div",{className:"relative flex items-center"},r.createElement("span",{className:"flex h-[40px] w-[40px] items-center justify-center rounded-full lg:h-[55px] lg:w-[55px] ".concat(i)},S?r.createElement(ye.CMH,{className:"text-lg"}):L?r.createElement(r.Fragment,null,O?r.createElement(F.ORb,{className:"h-full w-20 rounded-full bg-red-500 text-white"}):r.createElement(Ho.kiM,{className:"h-full w-20 animate-spin text-blue-500"})):r.createElement(c,{className:"text-3xl text-gray-300"}),L&&!O&&r.createElement("span",{className:"absolute text-[.7rem] font-semibold lg:text-[.85rem]"},h&&r.createElement(r.Fragment,null,f),null!==b&&r.createElement(r.Fragment,null,b))),r.createElement("div",{className:"text-md absolute top-2 -ml-[43px] mt-[40px] flex w-32 flex-col gap-y-[0px] text-center lg:-ml-[36px] lg:mt-[54px]"},r.createElement("span",{className:"hidden text-[.85rem] font-bold sxs:!block"},"".concat(s)),r.createElement(j,{content:d,iconSize:"text-[.9rem]",iconColor:"text-gray-400 mt-1",className:"hidden xl:!flex"},r.createElement("span",{className:"underline decoration-gray-500/50 decoration-dotted underline-offset-2"},u))),r.createElement("div",null,L&&!O&&h&&null!==f&&r.createElement("span",{className:"absolute top-[10px] z-10 bg-blue-50 pl-[2px] pr-[3px] text-[.7rem] font-semibold lg:top-[17px] lg:text-[.85rem]"},"%"),L&&null!==b&&r.createElement("span",{className:"absolute top-[9px] z-10 bg-blue-50 pl-[1px] pr-[3px] text-[.7rem] lg:top-[16px] lg:text-[.8rem]"},(0,l.__)("files","advanced-database-cleaner")))),y&&r.createElement(r.Fragment,null,r.createElement("div",{className:"h-[1px] flex-auto border-t-2 ".concat(S?"border-green-600":"border-gray-300"," ")})))};function vi(e){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(e)}function yi(){yi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==vi(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(vi(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function gi(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function bi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){gi(o,r,a,i,l,"next",e)}function l(e){gi(o,r,a,i,l,"throw",e)}i(void 0)}))}}function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var wi=!1;const Ei=function(e){var t,n,o,i,c,f,p,h,v,y,g,b,x,_=e.tabName,E=xi((0,r.useState)(null),2),N=E[0],k=E[1],S=xi((0,r.useState)(null),2),L=S[0],j=S[1],O=xi((0,r.useState)([]),2),T=O[0],P=O[1],C=xi((0,r.useState)(!1),2),A=C[0],M=C[1],D=xi((0,r.useState)(!1),2),G=D[0],z=D[1],B=xi((0,r.useState)(!1),2),U=B[0],W=B[1],Y=xi((0,r.useState)(!1),2),q=Y[0],K=Y[1],H=xi((0,r.useState)(""),2),$=H[0],V=H[1],Q=xi((0,r.useState)(""),2),J=Q[0],Z=Q[1],X=(0,m.d4)((function(e){return e.action.selectedItems})),ee=(0,m.d4)((function(e){return e.scan.scanParams})),te=(0,r.useRef)(null),ne=(0,r.useRef)(!1),re=(0,r.useRef)(null),ae=(0,m.wA)(),oe=(0,a.jE)();(0,r.useEffect)((function(){"FREE"!==R&&ee&&(wi=!1,k(null),j(null),P([]),z(!1),W(!1),K(!1),V(""),Z(""),M(!0),Zo({items_type:_,scan_type:null==ee?void 0:ee.scanType,preg_match:!1,partial_match:!0,what_to_scan:null==ee?void 0:ee.whatToScan,override_manual_categorization:null==ee?void 0:ee.overrideManualCategorization,selected_items_to_scan:"selected"===(null==ee?void 0:ee.whatToScan)?X:[],continue_scan:!1}),ie(3e3),ae(vo(null)))}),[ee]),(0,r.useEffect)((function(){if("FREE"!==R)return ne.current=!0,le(),function(){ne.current=!1,te.current&&clearTimeout(te.current)}}),[]),(0,r.useEffect)((function(){if("FREE"!==R){var e=re.current;e&&(e.scrollTop=e.scrollHeight)}}),[T]),(0,r.useEffect)((function(){var e,t,n,r,a,o,i,c,s,u,d,m,f,p,h,v,y,g;if("FREE"!==R&&N){var b=[],x={1:(0,l.__)("Preparing items to scan","advanced-database-cleaner")+" ".concat(null!=N&&null!==(e=N.data)&&void 0!==e&&null!==(e=e.local)&&void 0!==e&&e.total_items?"("+(null==N||null===(t=N.data)||void 0===t||null===(t=t.local)||void 0===t?void 0:t.total_items)+")":""),2:(0,l.__)("Collecting PHP files to scan","advanced-database-cleaner")+" ".concat(null!=N&&null!==(n=N.data)&&void 0!==n&&null!==(n=n.local)&&void 0!==n&&null!==(n=n.collecting_files)&&void 0!==n&&n.collected_files?"("+(null==N||null===(r=N.data)||void 0===r||null===(r=r.local)||void 0===r||null===(r=r.collecting_files)||void 0===r?void 0:r.collected_files)+" / "+(null==N||null===(a=N.data)||void 0===a||null===(a=a.local)||void 0===a||null===(a=a.collecting_files)||void 0===a?void 0:a.total_files)+")":""),3:(0,l.__)("Regex scan (skipped)","advanced-database-cleaner"),4:(0,l.__)("Exact match scan","advanced-database-cleaner")+" ".concat(null!=N&&null!==(o=N.data)&&void 0!==o&&null!==(o=o.local)&&void 0!==o&&null!==(o=o.exact_match)&&void 0!==o&&o.progress?"("+(null==N||null===(i=N.data)||void 0===i||null===(i=i.local)||void 0===i||null===(i=i.exact_match)||void 0===i?void 0:i.progress)+"%)":""),5:(0,l.__)("Partial match scan","advanced-database-cleaner")+" ".concat(null!=N&&null!==(c=N.data)&&void 0!==c&&null!==(c=c.local)&&void 0!==c&&null!==(c=c.partial_match)&&void 0!==c&&c.progress?"("+(null==N||null===(s=N.data)||void 0===s||null===(s=s.local)||void 0===s||null===(s=s.partial_match)||void 0===s?void 0:s.progress)+"%)":""),6:(0,l.__)("Preparing local scan results","advanced-database-cleaner"),7:(0,l.__)("Requesting remote scan","advanced-database-cleaner")+" ".concat("local"===(null==N||null===(u=N.data)||void 0===u?void 0:u.scan_type)?"("+(0,l.__)("skipped","advanced-database-cleaner")+")":""),8:(0,l.__)("Remote scan","advanced-database-cleaner")+" ".concat("local"===(null==N||null===(d=N.data)||void 0===d?void 0:d.scan_type)?"("+(0,l.__)("skipped","advanced-database-cleaner")+")":"")+" ".concat("done"===(null==N||null===(m=N.data)||void 0===m||null===(m=m.remote)||void 0===m?void 0:m.status)?"["+(0,l.__)("corrected items:","advanced-database-cleaner")+" "+(null==N||null===(f=N.data)||void 0===f||null===(f=f.remote)||void 0===f?void 0:f.corrected_items)+"]":"")};if(""===(null==N||null===(p=N.data)||void 0===p?void 0:p.step)&&"shutdown"===(null==N||null===(h=N.data)||void 0===h?void 0:h.status))return b.push({label:(0,l.__)("The scan cannot start!","advanced-database-cleaner"),status:"failed"}),b.push({label:null==N?void 0:N.message,showLink:{label:(0,l.__)("check logs","advanced-database-cleaner"),href:"#",onClick:function(e){e.preventDefault(),ae(Rd({tabId:"info_and_logs",subTabId:"debug"}))}},status:"failed",isSubDetail:!0}),void P(b);var _=parseInt(null==N||null===(v=N.data)||void 0===v||null===(v=v.step)||void 0===v?void 0:v.split("_")[0]);b.push({label:(0,l.__)("Scan started","advanced-database-cleaner"),status:"done"});for(var w=1;w<=8;w++){var E,k,S;if(8===w&&(null==N||null===(E=N.data)||void 0===E||null===(E=E.remote)||void 0===E?void 0:E.trimmed_count)>0&&b.push({label:(0,l.__)("Too many items to send due to your server limitation. Trimmed items:","advanced-database-cleaner")+" ".concat(null==N||null===(S=N.data)||void 0===S||null===(S=S.remote)||void 0===S?void 0:S.trimmed_count),showLink:{label:(0,l.__)("Read more","advanced-database-cleaner"),href:"https://docs.sigmaplugin.com/article/77-warning-too-many-items-to-send-due-to-your-server-limitation-trimmed-items-x?utm_source=scan-timeline&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-scan-trimmed-items"},isSubDetail:!0,color:"orange"}),w<_||"done"===(null==N||null===(k=N.data)||void 0===k?void 0:k.status))b.push({label:x[w],status:"done"});else if(w===_){var j,O,T,I,C,A,F,M;if((null==N||null===(j=N.data)||void 0===j?void 0:j.timeouts_count)>0&&b.push({label:(0,l.__)("Timeouts occurred:","advanced-database-cleaner")+" (".concat(null==N||null===(F=N.data)||void 0===F?void 0:F.timeouts_count,")"),status:"info"}),(null==N||null===(O=N.data)||void 0===O?void 0:O.forced_timeouts_count)>0&&b.push({label:(0,l.__)("Forced timeouts occurred:","advanced-database-cleaner")+" (".concat(null==N||null===(M=N.data)||void 0===M?void 0:M.forced_timeouts_count,")"),status:"info"}),7===_&&"failed"===(null==N||null===(T=N.data)||void 0===T||null===(T=T.remote)||void 0===T?void 0:T.status)||8===_&&("check_remote_scan_status_error"===$||"get_scan_results_error"===$)||"shutdown"===(null==N||null===(I=N.data)||void 0===I?void 0:I.status)&&"timeout"!==(null==N||null===(C=N.data)||void 0===C?void 0:C.shutdown_reason)&&"forced_timeout"!==(null==N||null===(A=N.data)||void 0===A?void 0:A.shutdown_reason)){var D,G,z,B,U;if(b.push({label:x[w],status:"failed"}),_<7&&b.push({label:null==N?void 0:N.message,showLink:"memory_error"===$?{label:(0,l.__)("Read more","advanced-database-cleaner"),href:"https://docs.sigmaplugin.com/article/75-error-scan-stopped-due-to-memory-limit?utm_source=scan-timeline&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-scan-memory-error"}:null,status:"failed",isSubDetail:!0}),7===_)(null==N||null===(D=N.data)||void 0===D||null===(D=D.remote)||void 0===D?void 0:D.retry_count)>1&&b.push({label:(0,l.__)("Retry sending the request","advanced-database-cleaner")+" ("+(null==N||null===(B=N.data)||void 0===B||null===(B=B.remote)||void 0===B?void 0:B.retry_count)+"/3)"+((null==N||null===(U=N.data)||void 0===U||null===(U=U.remote)||void 0===U?void 0:U.retry_count)>2?" ("+(0,l.__)("Max retries reached","advanced-database-cleaner")+")":""),isSubDetail:!0}),b.push({label:(0,l.__)("Request failed","advanced-database-cleaner"),showLink:2===(null==N||null===(G=N.data)||void 0===G||null===(G=G.remote)||void 0===G?void 0:G.failure_code)?{label:(0,l.__)("Show balance","advanced-database-cleaner"),href:"#",onClick:fe}:null,errorMessage:pi(null==N||null===(z=N.data)||void 0===z||null===(z=z.remote)||void 0===z?void 0:z.failure_code),isSubDetail:!0});8===_&&b.push({label:(0,l.__)("Failed","advanced-database-cleaner"),errorMessage:J,isSubDetail:!0})}else b.push({label:x[w],status:"current"})}}"requested"===(null==L?void 0:L.status)&&b.push({label:(0,l.sprintf)((0,l.__)("You are at position %d in the queue.","advanced-database-cleaner"),null==L?void 0:L.queue_position),isSubDetail:!0,color:"blue"}),"processing"!==(null==L?void 0:L.status)&&"done"!==(null==L?void 0:L.status)||"done"===(null==N||null===(y=N.data)||void 0===y?void 0:y.status)||b.push({label:(0,l.__)("The server is scanning your items...","advanced-database-cleaner"),isSubDetail:!0,color:"blue"}),!0===(null==L?void 0:L.took_too_long)&&b.push({label:(0,l.__)("Info: the remote scan is taking more than expected!","advanced-database-cleaner"),isSubDetail:!0,color:"blue"}),"done"===(null==N||null===(g=N.data)||void 0===g?void 0:g.status)&&b.push({label:(0,l.__)("Scan completed","advanced-database-cleaner"),status:"done"}),P(b)}}),[N,$]);var ie=function(e){ne.current&&(te.current&&clearTimeout(te.current),te.current=setTimeout(le,e||3e3))},le=function(){var e=bi(yi().mark((function e(){var t;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ni({items_type:_});case 4:if((t=e.sent).success){e.next=9;break}return M(!1),Ft(ae,t.message),e.abrupt("return");case 9:M(!0),K(!1),W(!1),V(""),Z(""),k(t),e.t0=t.heartbeat_code,e.next=1===e.t0?18:7===e.t0?21:9===e.t0?23:2===e.t0?34:10===e.t0?36:14===e.t0?39:12===e.t0?41:13===e.t0?44:8===e.t0?46:11===e.t0?49:4===e.t0?52:6===e.t0?55:3===e.t0?57:66;break;case 18:case 46:return M(!1),Ft(ae,t.message),e.abrupt("break",68);case 21:return ie(2e3),e.abrupt("break",68);case 23:return wi=!0,k(null),j(null),P([]),M(!1),z(!1),K(!1),W(!1),V(""),Mt(ae,(0,l.__)("Scan stopped","advanced-database-cleaner"),t.message),e.abrupt("break",68);case 34:case 44:case 66:return M(!1),e.abrupt("break",68);case 36:return Mt(ae,(0,l.__)("Scan timeout occurred!","advanced-database-cleaner"),t.message),ce(!0),e.abrupt("break",68);case 39:return ce(!0),e.abrupt("break",68);case 41:return K(!0),V("memory_error"),e.abrupt("break",68);case 49:return K(!0),V("remote_request_failed"),e.abrupt("break",68);case 52:return K(!0),V("max_remote_retries_reached"),e.abrupt("break",68);case 55:return ue(),e.abrupt("break",68);case 57:return M(!1),K(!1),W(!1),V(""),oe.removeQueries({queryKey:[_]}),ae(Ye()),ae(em()),Ct(ae,t.message),e.abrupt("break",68);case 68:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=bi(yi().mark((function e(){var t,n=arguments;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===(t=n.length>0&&void 0!==n[0]&&n[0])&&ae(po("scanButton")),!0===t&&(M(!0),Zo({items_type:_,scan_type:"",preg_match:!1,partial_match:!1,what_to_scan:"",override_manual_categorization:!1,selected_items_to_scan:[],continue_scan:!0}),ie(3e3));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=bi(yi().mark((function e(t){return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!G){e.next=3;break}return e.abrupt("return");case 3:return z(!0),e.prev=4,e.next=7,ei({items_type:_});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),Ft(ae,e.t0.message),z(!1);case 13:return e.prev=13,le(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[4,9,13,16]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=bi(yi().mark((function e(){var t,n,r,a;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ii({items_type:_});case 3:if(!1!==(n=e.sent).success){e.next=10;break}return r=null==n?void 0:n.failure_code,Z(5===r?(0,l.__)("Server is under maintenance. Please retry again after few minutes","advanced-database-cleaner"):(0,l.__)("An error occurred while getting the results from the server. Check the logs for more details","advanced-database-cleaner")),K(!0),V("check_remote_scan_status_error"),e.abrupt("return");case 10:if(!0!==wi){e.next=12;break}return e.abrupt("return");case 12:k(n),a=null===(t=n.data)||void 0===t?void 0:t.remote_answer,j(a),"done"===(null==a?void 0:a.status)?de():ie(1e3),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),Ft(ae,e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=bi(yi().mark((function e(){var t,n;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ci({items_type:_});case 3:if(null!=(t=e.sent)&&t.success){e.next=10;break}return n=null==t?void 0:t.failure_code,Z(5===n?(0,l.__)("Server is under maintenance. Please retry again after few minutes","advanced-database-cleaner"):(0,l.__)("An error occurred while getting the results from the server. Check the logs for more details","advanced-database-cleaner")),K(!0),V("get_scan_results_error"),e.abrupt("return");case 10:le(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Ft(ae,e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=bi(yi().mark((function e(){var t,n,r=arguments;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:"",!U){e.next=3;break}return e.abrupt("return");case 3:if(W(!0),e.prev=4,"remote_request_failed"!==t&&"max_remote_retries_reached"!==t){e.next=13;break}return e.next=8,ai({items_type:_});case 8:if((n=e.sent).success){e.next=13;break}return Ft(ae,n.message),W(!1),e.abrupt("return");case 13:ce(!0),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),Ft(ae,e.t0.message),W(!1);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}(),fe=function(e){e.preventDefault(),ae(yo(!0))},pe=function(e){var t,n;if("done"===(null==N||null===(t=N.data)||void 0===t?void 0:t.status))return"completed";var r=parseInt(null==N||null===(n=N.data)||void 0===n||null===(n=n.step)||void 0===n?void 0:n.split("_")[0]);return e.some((function(e){return parseInt(e.split("_")[0])===r}))?"current":e.every((function(e){return parseInt(e.split("_")[0])<r}))?"completed":"waiting"};return r.createElement("div",{className:"mb-2"},r.createElement("div",{className:"flex w-full gap-x-6"},r.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-between"},r.createElement("button",{disabled:A,className:"flex h-[40px] min-w-[280px] max-w-[280px] items-center justify-center gap-x-2 rounded-lg bg-blue-500 px-4 text-sm font-semibold tracking-wide text-white ".concat(A?"opacity-80":"hover:bg-blue-600"," "),onClick:function(){return ce(!1)}},!A&&r.createElement(d.h4T,{className:"text-[1.5rem]"}),r.createElement("span",{className:"-mt-[1px]"},A?(0,l.__)("Scan in progress","advanced-database-cleaner"):function(e){switch(e){case"tables":return(0,l.__)("Start a scan for tables","advanced-database-cleaner");case"options":return(0,l.__)("Start a scan for options","advanced-database-cleaner");case"posts_meta":return(0,l.__)("Start a scan for post meta","advanced-database-cleaner");case"users_meta":return(0,l.__)("Start a scan for user meta","advanced-database-cleaner");case"transients":return(0,l.__)("Start a scan for transients","advanced-database-cleaner");case"cron_jobs":return(0,l.__)("Start a scan for cron jobs","advanced-database-cleaner")}}(_)),A&&r.createElement("div",{className:"flex items-center justify-center space-x-1 pt-[3px]"},r.createElement("div",{className:"h-2 w-2 animate-bounce rounded-full bg-blue-900 [animation-delay:-0.3s]"}),r.createElement("div",{className:"h-2 w-2 animate-bounce rounded-full bg-blue-900  [animation-delay:-0.15s]"}),r.createElement("div",{className:"h-2 w-2 animate-bounce rounded-full bg-blue-900 "}))),r.createElement("div",{className:"flex gap-x-2"},A&&r.createElement(I,{href:"#",className:"h-[40px] !w-full rounded-lg border border-red-100 bg-red-100/80 px-4 py-1 text-[.85rem] text-red-500 no-underline hover:bg-red-200 hover:text-red-500 hover:no-underline",onClick:se},r.createElement(ve.g,{className:"h-[16px] w-[16px]"}),G?(0,l.__)("Stopping scan...","advanced-database-cleaner"):(0,l.__)("Stop the scan","advanced-database-cleaner")),("done"===(null==N||null===(t=N.data)||void 0===t?void 0:t.status)||""===(null==N||null===(n=N.data)||void 0===n?void 0:n.step)&&"shutdown"===(null==N||null===(o=N.data)||void 0===o?void 0:o.status))&&r.createElement(I,{href:"#",className:"!w-full rounded-lg border border-gray-200 bg-gray-200 px-4 py-1 text-[.85rem] !font-normal text-gray-700 no-underline hover:bg-gray-300 hover:text-gray-700 hover:no-underline",onClick:function(e){e.preventDefault(),k(null),j(null),P([]),M(!1),z(!1),W(!1),K(!1),V(""),Z("")}},(0,l.__)("Hide scan process details","advanced-database-cleaner"))))),(A||N&&2!==N.heartbeat_code)&&r.createElement("div",{className:"mt-4 flex flex-col gap-3 lg:flex-row"},r.createElement("fieldset",{className:"h-[100px] w-full rounded-xl border border-solid border-blue-100 bg-blue-50 px-4 pt-[20px] sxs:h-[120px] lg:h-[160px] lg:px-8"},r.createElement("legend",{className:"-ml-1 rounded-lg bg-white px-[5px] text-[.75rem] text-black lg:-ml-5"},(0,l.__)("Scan progress","advanced-database-cleaner")),r.createElement("div",{className:"flex items-center text-black"},r.createElement(hi,{Icon:Ko.vq0,title:(0,l.__)("Step 1","advanced-database-cleaner"),label:(0,l.__)("Collecting files","advanced-database-cleaner"),tooltipText:(0,l.__)("Collecting the PHP files to be scanned. This process may take some time, depending on the number of plugin and theme files you have.","advanced-database-cleaner"),status:pe(["1_prepare_items_to_scan","2_collect_php_files"]),progress:0,showProgress:!1,collectedFiles:(null==N||null===(i=N.data)||void 0===i||null===(i=i.local)||void 0===i||null===(i=i.collecting_files)||void 0===i?void 0:i.collected_files)||0,heartBeatResponse:N,retryReason:$}),r.createElement(hi,{Icon:_e.rlW,title:(0,l.__)("Step 2","advanced-database-cleaner"),label:(0,l.__)("Exact match","advanced-database-cleaner"),tooltipText:(0,l.__)("The scan will attempt to find exact matches for items names in the previously collected files.","advanced-database-cleaner"),status:pe(["3_preg_match_scan","4_exact_match_scan"]),progress:(null==N||null===(c=N.data)||void 0===c||null===(c=c.local)||void 0===c||null===(c=c.exact_match)||void 0===c?void 0:c.progress)||0,heartBeatResponse:N,retryReason:$}),r.createElement(hi,{Icon:u.SD3,title:(0,l.__)("Step 3","advanced-database-cleaner"),label:(0,l.__)("Partial match","advanced-database-cleaner"),tooltipText:(0,l.__)("For any remaining items from the previous step, the scan will attempt to find partial matches for items names.","advanced-database-cleaner"),status:pe(["5_partial_match_scan","6_prepare_local_scan_results"]),progress:(null==N||null===(f=N.data)||void 0===f||null===(f=f.local)||void 0===f||null===(f=f.partial_match)||void 0===f?void 0:f.progress)||0,heartBeatResponse:N,retryReason:$}),r.createElement(hi,{Icon:oa.zV$,title:(0,l.__)("Step 4","advanced-database-cleaner"),label:(0,l.__)("Remote scan","advanced-database-cleaner"),tooltipText:r.createElement("span",{className:"flex flex-col gap-y-1"},(0,l.__)("The local scan results will be transmitted to a remote database to enhance the accuracy of results and provide more detailed information about the items. No sensitive data is sent.","advanced-database-cleaner"),r.createElement("div",null,r.createElement(I,{href:"https://docs.sigmaplugin.com/article/57-the-remote-scan-in-advanced-database-cleaner-precision-meets-security?utm_source=scan-timeline&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-info",target:"_blank",className:"!text-blue-300 hover:!text-blue-500"},(0,l.__)("Read more","advanced-database-cleaner")))),status:pe(["7_requesting_remote_scan","8_getting_remote_scan_results"]),progress:(null==L?void 0:L.progress)||0,showConnector:!1,heartBeatResponse:N,retryReason:$,disabled:"local"===(null==N||null===(p=N.data)||void 0===p?void 0:p.scan_type)}))),r.createElement("fieldset",{className:"h-[160px] overflow-y-auto rounded-xl border border-solid !border-blue-100 bg-blue-50 py-[15px] pl-[20px] pr-[5px] lg:min-w-[400px] lg:max-w-[400px]"},r.createElement("legend",{className:"-ml-2 rounded-lg bg-white px-[5px] text-[.75rem] text-black"},(0,l.__)("Scan details","advanced-database-cleaner")),r.createElement("div",{ref:re,className:"adbc-custom-scrollbar -ml-[5px] h-full overflow-y-auto pl-[8px]"},T.map((function(e,t){var n,a,o;return r.createElement("div",{key:"step-detail-"+t,className:"relative flex w-full items-center py-[2px] ".concat(e.isSubDetail?"":"border-l-2 border-blue-200")},"current"===e.status&&r.createElement("div",{className:"absolute z-10 -ml-[9px] h-4 w-4 rounded-full bg-white"},r.createElement(Ho.kiM,{className:"h-4 w-4 animate-spin text-blue-600"})),"done"===e.status&&r.createElement(ye.CMH,{className:"absolute z-10 -ml-[9px] h-[15px] w-[15px] rounded-full border border-blue-400 bg-white p-[.15rem] text-blue-700"}),"info"===e.status&&r.createElement(qo.JFS,{className:"absolute z-10 -ml-[9px] h-[16px] w-[16px] rounded-full bg-white"}),"failed"===e.status&&!e.isSubDetail&&r.createElement(F.ORb,{className:"absolute z-10 -ml-[8px] h-[15px] w-[15px] rounded-full bg-red-500 text-white"}),e.isSubDetail?r.createElement("div",{className:"ml-[20px] border-l-[3px] ".concat("blue"===e.color?"border-blue-400":"orange"===e.color?"border-orange-400":"border-red-400"," pl-[10px]")},r.createElement("span",{className:"blue"===e.color?"text-blue-600":"orange"===e.color?"text-orange-600":"text-red-600"},e.label),e.errorMessage&&r.createElement(r.Fragment,null,": ",e.errorMessage),e.showLink&&r.createElement(I,{onClick:null===(n=e.showLink)||void 0===n?void 0:n.onClick,href:null===(a=e.showLink)||void 0===a?void 0:a.href,target:"_blank",className:"pl-1 text-[.78rem] font-semibold"},null===(o=e.showLink)||void 0===o?void 0:o.label)):r.createElement("div",{className:"pl-[14px]"},e.label))})),q&&r.createElement("div",{className:"relative flex w-full items-center py-[2px]"},r.createElement(w,{Icon:s.Vt$,text:U?(0,l.__)("Retrying...","advanced-database-cleaner"):(0,l.__)("Retry","advanced-database-cleaner"),className:"ml-[20px] mt-2 h-[1.7rem]",shouldAnimate:U,onClick:function(){return me($)}})),(null==N||null===(h=N.data)||void 0===h?void 0:h.timeouts_count)>0&&"done"==(null==N||null===(v=N.data)||void 0===v?void 0:v.status)&&r.createElement("div",{className:"relative flex w-full items-center border-l-2 border-blue-200 py-[2px]"},r.createElement(qo.JFS,{className:"absolute z-10 -ml-[9px] h-[16px] w-[16px] rounded-full bg-white"}),r.createElement("div",{className:"pl-[14px]"},(0,l.__)("Total timeouts:","advanced-database-cleaner")+" ".concat(null==N||null===(y=N.data)||void 0===y?void 0:y.timeouts_count))),(null==N||null===(g=N.data)||void 0===g?void 0:g.forced_timeouts_count)>0&&"done"==(null==N||null===(b=N.data)||void 0===b?void 0:b.status)&&r.createElement("div",{className:"relative flex w-full items-center border-l-2 border-blue-200 py-[2px]"},r.createElement(qo.JFS,{className:"absolute z-10 -ml-[9px] h-[16px] w-[16px] rounded-full bg-white"}),r.createElement("div",{className:"pl-[14px]"},(0,l.__)("Total forced timeouts:","advanced-database-cleaner")+" ".concat(null==N||null===(x=N.data)||void 0===x?void 0:x.forced_timeouts_count)))))))};function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ki=function(e){switch(e){case"p":return"text-blue-600 font-semibold";case"t":return"text-green-600 font-semibold";case"o":return"text-orange-600 font-semibold";case"w":return"text-purple-500 font-semibold";case"u":return"text-gray-200 font-semibold";case"unk":return"text-red-500 font-semibold";default:return"text-black"}},Si=function(e){return{inactive:r.createElement(O,{content:(0,l.__)("Inactive","advanced-database-cleaner")},r.createElement(ve.Qp1,{className:"text-[10px] text-gray-400"})),active:r.createElement(O,{content:(0,l.__)("Active","advanced-database-cleaner")},r.createElement(ve.Qp1,{className:"text-[10px] text-green-600"})),not_installed:r.createElement(O,{content:(0,l.__)("Not installed","advanced-database-cleaner")},r.createElement(ve.Qp1,{className:"text-[10px] text-red-600"}))}[e]||""},Li=function(e,t){return r.createElement("div",{className:"my-2 flex h-full w-full flex-col rounded-lg border border-gray-200 text-[.75rem] shadow-md"},r.createElement("div",{className:"break-normal rounded-t-lg bg-gray-200 px-2 py-2 text-[0.85rem] font-semibold text-gray-800"},"plugins"===t?(0,l.__)("Known plugins using this item","advanced-database-cleaner"):(0,l.__)("Known themes using this item","advanced-database-cleaner")),0===e.length&&r.createElement("div",{className:"break-normal px-2 py-2 text-[.85rem] italic text-gray-500"},(0,l.__)("No data available!","advanced-database-cleaner")),e.map((function(n,a){return r.createElement("div",{key:"known"+t+n.slug,className:"flex items-center justify-between text-[.85rem] ".concat(a<e.length-1?"border-b border-dashed border-gray-400":"rounded-b-lg"," ").concat("text-gray-900"," break-normal bg-white px-2 py-2")},function(e){for(var t=0,n=Object.entries({"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'","&nbsp;":" ","&ndash;":"","&#8211;":"","&mdash;":"","&#8212;":""});t<n.length;t++){var r=st(n[t],2),a=r[0],o=r[1];e=e.replace(new RegExp(a,"g"),o)}return e}(n.name)," (",n.percent,"%)"," ",Si(n.status))})))},ji=function(e){var t=e.isOpen,n=e.onClose,a=e.itemName,c=e.itemType,u=e.belongsToName,d=e.belongsToPercent,m=e.belongsToStatus,f=e.plugins,p=e.themes;return t?r.createElement(o.e,{appear:!0,show:t,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:n},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-2 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:min-h-[500px] sm:w-full sm:max-w-3xl sm:p-6"},r.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:n},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"mx-auto mt-8"},r.createElement("div",{className:"mb-3 rounded-xl border-b-2 border-gray-200 bg-gray-100 px-3 py-2"},r.createElement("div",{className:"flex items-center gap-x-1"},r.createElement("span",{className:"text-[.8rem] font-semibold text-gray-600"},(0,l.__)("Name:","advanced-database-cleaner")),r.createElement("span",{className:"mt-[2px] font-mono text-[.9rem] font-bold text-black"},a)),r.createElement("div",{className:"flex items-center gap-x-1"},"o"!==c&&"unk"!==c&&r.createElement("span",{className:"text-[.8rem] font-semibold text-gray-600"},(0,l.__)("Belongs to:","advanced-database-cleaner")),r.createElement("span",{className:"text-[.8rem] ".concat(ki(c))},u),"o"!==c&&"unk"!==c&&d<100&&r.createElement("span",{className:"text-[.8rem] font-semibold text-gray-700"}," ("+d+"%)"),"o"!==c&&"unk"!==c&&r.createElement("span",{className:"mt-[1px]"},Si(m)))),r.createElement("div",{className:"flex max-h-[340px] flex-col gap-x-4 overflow-y-auto pr-1 lg:flex-row"},Li(f,"plugins"),Li(p,"themes")),r.createElement("div",{className:"mt-6 flex items-center justify-end gap-3 border-t border-gray-200 py-4"},r.createElement("span",{className:"flex items-center gap-2 text-green-600"},r.createElement(ve.Qp1,{className:"mt-1 text-[10px] text-green-600"}),(0,l.__)("Active","advanced-database-cleaner")),"|",r.createElement("span",{className:"flex items-center gap-2 text-gray-600"},r.createElement(ve.Qp1,{className:"mt-1 text-[10px] text-gray-400"}),(0,l.__)("Inactive","advanced-database-cleaner")),"|",r.createElement("span",{className:"flex items-center gap-2 text-red-600"},r.createElement(ve.Qp1,{className:"mt-1 text-[10px] text-red-600"}),(0,l.__)("Not installed","advanced-database-cleaner"))))))))):null};const Oi=function(e){var t,n=e.tabName,a=e.itemName,o=e.belongToData,i=e.knownPlugins,c=e.knowThemes,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ni(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ni(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(!1),2),d=s[0],f=s[1],p=(0,m.wA)();return"u"===o.type?"PREMIUM"===R?r.createElement("div",{className:"flex gap-x-1"},r.createElement("span",{className:"text-gray-600"},(0,l.__)("Not scanned yet!","advanced-database-cleaner")),r.createElement(I,{href:"#",onClick:function(e){e.preventDefault(),p(po("dataTableColumn"))},className:"!text-blue-600 hover:!text-blue-900"},(0,l.__)("[scan]","advanced-database-cleaner"))):r.createElement("div",{className:"flex gap-x-1"},r.createElement("span",{className:"flex items-center gap-1 text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.8rem] text-yellow-600"}),(0,l.__)("premium","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=belong-to-column-datatable&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center text-[.75rem] !font-normal !text-gray-900 hover:!text-blue-600"},"[",(0,l.__)("upgrade","advanced-database-cleaner"),"]")):"w"===o.type&&"m"!==o.by?r.createElement("div",null,r.createElement("span",{className:"flex justify-between break-normal ".concat(ki(o.type))},o.name,("tables"===n||"options"===n)&&r.createElement(O,{content:(0,l.__)("Belongs to WordPress","advanced-database-cleaner"),line2:(0,l.__)("Cannot be deleted or edited!","advanced-database-cleaner")},r.createElement(ve.JhU,{className:"mt-[2px] w-[13px] text-[11px] text-gray-800"})))):r.createElement("div",{className:"flex flex-col"},r.createElement("span",{className:"flex justify-between break-normal ".concat(ki(o.type))},o.name,"o"!==o.type&&"unk"!==o.type&&"m"!==o.by&&o.percent<100?" ("+o.percent+"%)":"","m"===o.by&&r.createElement(O,{content:(0,l.__)("You manually corrected this items!","advanced-database-cleaner")},r.createElement(ye.WBX,{className:"mt-[2px] w-[16px] text-[15px] text-green-700"})),"m"!==o.by&&(i.length>0||c.length>0)&&r.createElement(O,{content:(0,l.__)("More info","advanced-database-cleaner")},r.createElement(I,{href:"#",onClick:function(e){e.preventDefault(),f(!0)},className:"focus:ring-0"},r.createElement(we.Zel,{className:"mt-[3px] !h-[16px] !w-[16px] rounded-full border border-gray-200 bg-blue-600 p-[1px] text-white"})))),"o"===o.type||"w"===o.type&&"m"===o.by?"":(t=o.status,{inactive:r.createElement("span",{className:"flex items-center gap-x-1 text-[.7rem] font-semibold italic text-gray-900"},r.createElement(ve.Qp1,{className:"text-[7px] text-gray-400"}),(0,l.__)("Inactive","advanced-database-cleaner")),active:r.createElement("span",{className:"flex items-center gap-x-1 text-[.7rem] font-semibold italic text-gray-900"},r.createElement(ve.Qp1,{className:"text-[7px] text-green-600"}),(0,l.__)("Active","advanced-database-cleaner")),not_installed:r.createElement("span",{className:"flex items-center gap-x-1 text-[.7rem] font-semibold italic text-gray-900"},r.createElement(ve.Qp1,{className:"text-[7px] text-red-600"}),(0,l.__)("Not installed","advanced-database-cleaner"))}[t]||""),r.createElement(ji,{isOpen:d,onClose:function(){return f(!1)},itemName:a,itemType:o.type,belongsToName:o.name,belongsToPercent:o.percent,belongsToStatus:o.status,plugins:i,themes:c}))};function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Pi=function(e){var t=e.tabName,n=void 0===t?"":t,a=e.columns,o=e.data,i=(0,m.d4)((function(e){return e.action.selectedItems})),c=(0,m.wA)(),s=(0,r.useRef)(null);return(0,r.useEffect)((function(){0===i.length&&(s.current=null)}),[i.length]),r.createElement("tbody",{className:"text-[.82rem] text-gray-800"},o.map((function(e,t){var u=i.some((function(t){return _m(t,e.composite_id)}));return r.createElement("tr",{key:"row-dt-"+t+e.composite_id.name,className:"h-[2.4rem] hover:bg-gray-200/80 ".concat(u?"border-l-[3px] border-blue-500 bg-gray-200/80":"border-l-[3px] border-transparent bg-gray-50/50")},r.createElement("td",{className:"border-b border-gray-200/80 pt-2 text-center align-top"},r.createElement("input",{type:"checkbox",checked:u,onChange:function(n){return function(e,t,n){var r=e.target.checked;if(e.nativeEvent.shiftKey&&null!==s.current){var a=Math.min(s.current,n),l=Math.max(s.current,n),u=o.slice(a,l+1).map((function(e){return e.composite_id})),d=function(e){return function(e){if(Array.isArray(e))return Ti(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ti(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i);r?u.forEach((function(e){d.some((function(t){return _m(t,e)}))||d.push(e)})):d=d.filter((function(e){return!u.some((function(t){return _m(e,t)}))})),c(Fm(d))}else c(Am(t.composite_id));s.current=n}(n,e,t)}})),a.map((function(a){return r.createElement("td",{key:"col-".concat(a.key,"-").concat(t),className:"".concat(a.width," ").concat(a.visibility," break-all border border-b border-gray-200/80 px-2 pt-2 align-top")},function(e,t,n,a,o){switch(t){case"table_name":return u=n.prefix,d=n.name_without_prefix,m=n.raw_overhead,f=n.type,r.createElement(r.Fragment,null,r.createElement("span",{className:"".concat(!u&&"flex items-start")},u?r.createElement("b",null,u):r.createElement(O,{content:(0,l.__)("Invalid table prefix!","advanced-database-cleaner"),align:"left"},r.createElement(xe.Paf,{className:"mr-1 mt-[3px] text-[.95rem] text-red-500"})),d),m>0&&"InnoDB"!==f&&r.createElement("div",{className:"mb-1 text-xs text-orange-600"},(0,l.__)("(to optimize)","advanced-database-cleaner")));case"site_id":return function(e){if("N/A"===e||"1"!==W)return e;var t=Y.find((function(t){return String(t.id)===String(e)})),n=t?t.name:(0,l.__)("Name not found!","advanced-database-cleaner");return r.createElement(O,{content:n},r.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},e))}(n.site_id);case"value":case"post_content":case"comment_content":case"meta_value":case"term_order":case"message":case"args":return function(e,t,n){var a=function(e,t){var n=t.site_id,r="",a="",o="",i="",l=99;switch(e){case"options":case"transients":case"users_meta":case"posts_meta":l=19,r=t.value,a=t.name,o=t.id,i=t.found_in||"";break;case"revisions":case"auto_drafts":case"trashed_posts":r=t.post_content,o=t.ID;break;case"unapproved_comments":case"spam_comments":case"trashed_comments":case"pingbacks":case"trackbacks":r=t.comment_content,o=t.comment_ID;break;case"unused_postmeta":case"duplicated_postmeta":case"unused_commentmeta":case"duplicated_commentmeta":case"unused_termmeta":case"duplicated_termmeta":case"oembed_caches":r=t.meta_value,o=t.meta_id;break;case"unused_usermeta":case"duplicated_usermeta":r=t.meta_value,o=t.umeta_id;break;case"unused_relationships":r=t.term_order,o=t.object_id;break;case"expired_transients":r=t.value,o=t.id,i=t.found_in||"";break;case"actionscheduler_completed_actions":case"actionscheduler_failed_actions":case"actionscheduler_canceled_actions":r=t.args,o=t.action_id;break;case"actionscheduler_completed_logs":case"actionscheduler_failed_logs":case"actionscheduler_canceled_logs":case"actionscheduler_orphan_logs":r=t.message,o=t.log_id;break;default:r=t.value}var c=r?r.slice(0,l):"";return{value:c,isTruncated:!!r&&c.length<r.length,name:a,rowId:o,siteId:n,transientFoundIn:i}}(e,t),o=a.value,i=a.isTruncated,l=a.name,c=a.rowId,s=a.siteId,u=a.transientFoundIn;return r.createElement("div",{className:"group flex items-center justify-between gap-2"},r.createElement("span",null,o,i&&r.createElement("span",{className:"ml-1 font-bold"},"")),r.createElement("div",null,r.createElement(ge.GNz,{className:"cursor-pointer !text-[16px] text-gray-300 group-hover:text-gray-900",onClick:function(){n(Ud({name:l,siteId:s,rowId:c,transientFoundIn:u||""}))}})))}(e,n,o);case"size":return ft(n.size);case"timeout":return yt(n.timeout);case"hook_name":return r.createElement("div",{className:"flex flex-col"},r.createElement("div",null,n.hook_name),r.createElement("div",{className:"my-3 text-cyan-600"},r.createElement("pre",{className:"whitespace-pre-wrap text-xs"},JSON.stringify(n.args,null,2))));case"timestamp":return yt(n.timestamp);case"interval":return function(e){if("N/A"===e)return e;var t=(0,l.sprintf)((0,l.__)("Every %s","advanced-database-cleaner"),pt(Number(e)));return r.createElement("span",null,r.createElement(O,{content:t},r.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},e)),r.createElement("span",{className:"ml-1 font-light"},(0,l.__)("secs","advanced-database-cleaner")))}(n.interval);case"action":return n.action?r.createElement("span",{className:"font-mono text-xs"},n.action):"";case"expired":return c=n.expired,s=n.timeout,"yes"===c?r.createElement("span",{className:"text-red-500"},(0,l.__)("Yes","advanced-database-cleaner")):r.createElement(r.Fragment,null,r.createElement(O,{content:s?r.createElement("div",null,(0,l.__)("Expires at:","advanced-database-cleaner")+" "+yt(s)," ",(0,l.__)("(local time)","advanced-database-cleaner"),r.createElement("div",{className:"font-thin"},(0,l.__)("In","advanced-database-cleaner")," ",vt(s))):(0,l.__)("Never expires","advanced-database-cleaner")},r.createElement("span",{className:"cursor-default underline decoration-gray-400 decoration-dotted decoration-1 underline-offset-4"},(0,l.__)("No","advanced-database-cleaner"))));case"belongs_to":return r.createElement(Oi,{tabName:e,itemName:n.name,belongToData:n.belongs_to,knownPlugins:n.known_plugins,knowThemes:n.known_themes});default:var i=n[t];return"string"==typeof i&&i.length>100?r.createElement("div",{className:"flex text-left"},r.createElement(j,{content:i,position:a<15?"bottom":"top"},i.slice(0,100),r.createElement("span",{className:"ml-1 font-bold"},""))):i}var c,s,u,d,m,f}(n,a.key,e,t,c))})))})))},Ii=function(e){var t=e.columns,n=e.data,a=(0,m.d4)((function(e){return e.action.selectedItems})),o=(0,m.d4)((function(e){return e.filter.sortBy})),i=(0,m.d4)((function(e){return e.filter.sortOrder})),l=n.length>0&&n.length===a.length,c=(0,m.wA)(),s=function(e){var t=e.column;if(!t.sortable)return null;var n,a=t.key===o;return n="int"===t.contentType?a?"ASC"===i?ve.L2T:ve.mTC:ve.L2T:a?"ASC"===i?ve.MPV:ve.NDH:ve.MPV,r.createElement(n,{className:"text-[.85rem] ".concat(a?"text-gray-900":"")})};return r.createElement("thead",{className:"h-[3rem] bg-gray-100 text-gray-700"},r.createElement("tr",null,r.createElement("th",{scope:"col",className:"w-[40px] border-b border-gray-300 px-2"},r.createElement("input",{type:"checkbox",onChange:function(e){var t=e.target.checked?n.map((function(e){return e.composite_id})):[];c(Fm(t))},checked:l})),t.map((function(e){return r.createElement("th",{key:e.key,scope:"col",className:"".concat(e.visibility," border-b border-gray-300 pl-2 pr-4 text-gray-200 hover:text-gray-900 ").concat(e.sortable&&"cursor-pointer"),onClick:(t=e.key,n=e.sortable,function(){n&&c(Re({newSortBy:t}))})},r.createElement("div",{className:"flex items-center gap-x-1 tracking-wide"},r.createElement("span",{className:"whitespace-nowrap text-gray-900"},e.label),e.tooltipText&&r.createElement(j,{content:e.tooltipText,position:"bottom"},r.createElement(we.Zel,{className:"mt-[3px] !h-[15px] !w-[15px] rounded-full border border-gray-200 bg-gray-300 p-[1px] text-gray-700"})),r.createElement(s,{column:e})));var t,n}))))},Ci=function(e){var t,n,a,o,i,l,c,s=e.actions,u=e.columns,d=(0,m.d4)((function(e){return e.filter})),f=(0,m.d4)(Ke),p=(0,m.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),h=(0,m.wA)();(0,r.useEffect)((function(){if(null!=y&&y.data){var e=y.data.real_current_page;d.currentPage>e&&h(Be(e))}}),[y]);var v=(0,Ra.I)({queryKey:["cron_jobs","list",d],queryFn:function(e){var t=e.signal;return Ma("cron_jobs",d,t)}}),y=v.data,g=v.isPending,b=v.isFetching,x=v.refetch,_=(0,Ra.I)({queryKey:["cron_jobs","count","notScanned",p],queryFn:function(e){return function(e){return so.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),w=_.data,E=(0,Ra.I)({queryKey:["cron_jobs","count","noAction",p],queryFn:function(e){return function(e){return uo.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),N=E.data,k=(null==y||null===(t=y.data)||void 0===t?void 0:t.items)||[],S=(null==y||null===(n=y.data)||void 0===n?void 0:n.total_items)||0,L=(null==y||null===(a=y.data)||void 0===a?void 0:a.categorization_count)||[],j=(null==y||null===(o=y.data)||void 0===o?void 0:o.plugins_count)||[],O=(null==y||null===(i=y.data)||void 0===i?void 0:i.themes_count)||[],T=null!==(l=null==w?void 0:w.data)&&void 0!==l?l:"..",P=null!==(c=null==N?void 0:N.data)&&void 0!==c?c:"..";(0,r.useEffect)((function(){h(Gm())}),[d,h]);var I=function(e){e.preventDefault(),b||x()};return r.createElement("div",null,"PREMIUM"===R&&r.createElement(Ei,{tabName:"cron_jobs"}),r.createElement(Yo,{notScannedCount:T,noActionCount:P}),r.createElement(To,{tabName:"cron_jobs",categorizationCount:L,pluginsCount:j,themesCount:O}),S>0&&r.createElement(Lo,null),r.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},r.createElement(No,{actions:s,itemsType:"cron_jobs"}),r.createElement(Ze,{totalItems:S,additionalStyle:"hidden md:!flex",onRefresh:I,loading:b,filterApplied:f})),g?xm():r.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300 transition-opacity duration-300 ".concat(b?"opacity-20":"opacity-100")},k.length>0?r.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},r.createElement(Ii,{columns:u,data:k}),r.createElement(Pi,{tabName:"cron_jobs",columns:u,data:k})):bm(f)),r.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},r.createElement(No,{actions:s,itemsType:"cron_jobs",openUpward:!0}),S>10&&r.createElement(Ze,{totalItems:S,onRefresh:I,loading:b,filterApplied:f})),r.createElement("div",{className:"mt-6 flex justify-center md:justify-end"},r.createElement(Qe,null)))};function Ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||Fi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(e,t){if(e){if("string"==typeof e)return Mi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(e,t):void 0}}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Di,Gi=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],zi=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],(Di=Y.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})),function(e){if(Array.isArray(e))return Mi(e)}(Di)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Di)||Fi(Di)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())];const Ri=function(e){var t=e.tabName,n={nameLabel:(0,l.__)("Meta key","advanced-database-cleaner"),valueLabel:(0,l.__)("Meta value","advanced-database-cleaner")};switch(t){case"revisions":case"auto_drafts":case"trashed_posts":n={nameLabel:(0,l.__)("Title","advanced-database-cleaner"),valueLabel:(0,l.__)("Content","advanced-database-cleaner")};break;case"unapproved_comments":case"spam_comments":case"trashed_comments":case"pingbacks":case"trackbacks":n={nameLabel:(0,l.__)("Author","advanced-database-cleaner"),valueLabel:(0,l.__)("Content","advanced-database-cleaner")};break;case"unused_relationships":n={nameLabel:(0,l.__)("Term ID","advanced-database-cleaner"),valueLabel:(0,l.__)("Term order","advanced-database-cleaner")};break;case"expired_transients":n={nameLabel:(0,l.__)("Name","advanced-database-cleaner"),valueLabel:(0,l.__)("Value","advanced-database-cleaner")};break;case"actionscheduler_completed_actions":case"actionscheduler_failed_actions":case"actionscheduler_canceled_actions":n={nameLabel:(0,l.__)("Hook","advanced-database-cleaner"),valueLabel:(0,l.__)("Args","advanced-database-cleaner")};break;case"actionscheduler_completed_logs":case"actionscheduler_failed_logs":case"actionscheduler_canceled_logs":case"actionscheduler_orphan_logs":n={nameLabel:(0,l.__)("Action ID","advanced-database-cleaner"),valueLabel:(0,l.__)("Message","advanced-database-cleaner")}}var a=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"name",label:n.nameLabel},{key:"value",label:n.valueLabel}]],o=(0,m.d4)((function(e){return e.filter})),i=(0,m.d4)((function(e){return e.shared.hideFilters})),c=(0,m.d4)(Ke),s=Ai((0,r.useState)(o.search),2),d=s[0],f=s[1],p=Ai((0,r.useState)(o.searchIn),2),h=p[0],y=p[1],g=Ai((0,r.useState)(o.size),2),b=g[0],x=g[1],_=Ai((0,r.useState)(o.sizeUnit),2),E=_[0],N=_[1],k=Ai((0,r.useState)(o.site),2),S=k[0],L=k[1],j=Ai((0,r.useState)(Gi[0][0]),2),O=j[0],T=j[1],P=Ai((0,r.useState)(zi[0][0]),2),C=P[0],A=P[1],M=Ai((0,r.useState)(0),2),D=M[0],G=M[1],z=(0,m.wA)(),B=a.flat().find((function(e){return e.key===h}))||a[1][0],U=function(e,t,n){return e.flat().find((function(e){return e.key===t}))||n};return(0,r.useEffect)((function(){f(o.search),y(o.searchIn),x(o.size),N(o.sizeUnit),L(o.site),T(U(Gi,o.sizeUnit,Gi[0][0])),A(U(zi,o.site,zi[0][0]))}),[o]),r.createElement(r.Fragment,null,r.createElement("div",{className:"mt-2 flex min-h-[20px] w-full items-end justify-end gap-x-2 text-end"},c&&r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),z(Ue()),T(Gi[0][0]),A(zi[0][0]),G(D+1)}},r.createElement(u.k7K,null),(0,l.__)("Reset filters","advanced-database-cleaner")),"|"),"PREMIUM"===R&&r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),z(Bd(!i))}},i?r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.E1u,null),(0,l.__)("Show filters","advanced-database-cleaner")):r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.UX6,null),(0,l.__)("Hide filters","advanced-database-cleaner")))),r.createElement("div",{key:D,className:"mt-1",hidden:i},r.createElement("div",{className:"flex w-full flex-col rounded-xl border bg-gray-200/80 xl:min-w-[800px] xl:flex-row xl:gap-x-2 xl:gap-y-4"},r.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 p-3 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex xl:shadow-sm ".concat("FREE"===R?"pointer-events-none opacity-50":"")},r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search for","advanced-database-cleaner")),r.createElement(v,{placeholder:(0,l.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[10rem]",onChange:function(e){return f(e.target.value)},maxLength:100,value:d})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search in","advanced-database-cleaner")),r.createElement(fm,{selectItems:a,selectedItem:B,onSelectionChange:function(e){return y(e)},minWidthButton:"w-full xl:min-w-[100px]",minWidthContent:"min-w-[120px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Size big than","advanced-database-cleaner")),r.createElement("div",{className:"flex gap-0"},r.createElement(v,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[4rem]",onChange:function(e){return x(parseInt(e.target.value))},value:b}),r.createElement(fm,{selectItems:Gi,selectedItem:O,onSelectionChange:function(e){N(e),T(U(Gi,e,Gi[0][0]))},minWidthButton:"min-w-[55px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),"1"===W&&"unused_usermeta"!==t&&"duplicated_usermeta"!==t&&r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Site","advanced-database-cleaner")),r.createElement(fm,{selectItems:zi,selectedItem:C,onSelectionChange:function(e){L(e),A(U(zi,e,zi[0][0]))},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),r.createElement("div",null,r.createElement(w,{Icon:Xe.F3z,text:(0,l.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),z(Se({search:d,searchIn:h,size:Number(b),sizeUnit:E,site:S}))}}))),"FREE"===R&&r.createElement("div",{className:"flex w-full items-center"},r.createElement("div",{className:"flex items-center gap-2 rounded-lg px-3 py-[8px] xl:mt-[22px] xl:border xl:border-yellow-500/40 xl:bg-gray-50 xl:py-[6px]"},r.createElement(u.xGQ,{className:"h-4 w-4 text-yellow-600"}),r.createElement("span",{className:"text-[.75rem] font-semibold text-gray-700"},(0,l.__)("Unlock Advanced Filters","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=general-cleanup-preview-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center gap-1 text-[.8rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,l.__)("Upgrade","advanced-database-cleaner"),r.createElement(F.L2n,{className:"h-3 w-3"})))))))};function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){Yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yi(e,t,n){return(t=function(e){var t=function(e){if("object"!=Bi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qi=function(e){var t,n,a=e.tabName,o=e.actions,i=e.columns,l=(0,m.d4)((function(e){return e.filter})),c=(0,m.d4)(Ke),s=(0,m.wA)();(0,r.useEffect)((function(){if(null!=f&&f.data){var e=f.data.real_current_page;l.currentPage>e&&s(Be(e))}}),[f]);var u=Wi(Wi({},l),{},{itemsType:a}),d=(0,Ra.I)({queryKey:["custom_cleanup",a,"list",u],queryFn:function(e){var t=e.signal;return Ma(a,u,t)}}),f=d.data,p=d.isPending,h=d.isFetching,v=d.refetch,y=(null==f||null===(t=f.data)||void 0===t?void 0:t.items)||[],g=(null==f||null===(n=f.data)||void 0===n?void 0:n.total_items)||0;(0,r.useEffect)((function(){s(Gm())}),[l,s]);var b=function(e){e.preventDefault(),h||v()};return r.createElement("div",null,r.createElement("div",{className:"-mb-4 flex items-center gap-1"},r.createElement("button",{onClick:function(){s(Rd({tabId:"general_cleanup"})),s(Dm()),s(We())},className:"group flex items-center gap-3 rounded-xl border bg-white px-4 py-2 shadow-sm transition-all"},r.createElement(F.rBg,{className:"h-5 w-5 text-blue-600 transition-transform group-hover:-translate-x-0.5"}))),r.createElement(Ri,{tabName:a}),r.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},r.createElement(No,{actions:o,itemsType:a}),r.createElement(Ze,{totalItems:g,additionalStyle:"hidden md:!flex",onRefresh:b,loading:h,filterApplied:c})),p?xm():r.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300 transition-opacity duration-300 ".concat(h?"opacity-20":"opacity-100")},y.length>0?r.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},r.createElement(Ii,{columns:i,data:y}),r.createElement(Pi,{tabName:a,columns:i,data:y})):bm(c)),r.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},r.createElement(No,{actions:o,itemsType:a,openUpward:!0}),g>10&&r.createElement(Ze,{totalItems:g,onRefresh:b,loading:h,filterApplied:c})),r.createElement("div",{className:"mt-6 flex justify-center md:justify-end"},r.createElement(Qe,null)))};function Ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||Hi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){if(e){if("string"==typeof e)return $i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$i(e,t):void 0}}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Vi=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,l.__)("Name","advanced-database-cleaner")},{key:"value",label:(0,l.__)("Value","advanced-database-cleaner")}]],Qi=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,l.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,l.__)("No","advanced-database-cleaner")}]],Ji=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],Zi=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],function(e){return function(e){if(Array.isArray(e))return $i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Y.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const Xi=function(e){var t=e.autoloadHealth,n=e.autoloadedSize,a=e.bigOptionsCount,o=e.notScannedCount,i=(0,m.d4)((function(e){return e.filter})),c=(0,m.d4)((function(e){return e.shared.hideFilters})),s=(0,m.d4)(Ke),d=Ki((0,r.useState)(i.search),2),f=d[0],p=d[1],h=Ki((0,r.useState)(i.searchIn),2),y=h[0],g=h[1],b=Ki((0,r.useState)(i.autoload),2),x=b[0],_=b[1],E=Ki((0,r.useState)(i.size),2),N=E[0],k=E[1],S=Ki((0,r.useState)(i.sizeUnit),2),L=S[0],j=S[1],O=Ki((0,r.useState)(i.site),2),T=O[0],P=O[1],C=Ki((0,r.useState)(Vi[1][0]),2),A=C[0],M=C[1],D=Ki((0,r.useState)(Qi[0][0]),2),G=D[0],z=D[1],B=Ki((0,r.useState)(Ji[0][0]),2),U=B[0],Y=B[1],q=Ki((0,r.useState)(Zi[0][0]),2),K=q[0],H=q[1],$=Ki((0,r.useState)(0),2),V=$[0],Q=$[1],J=(0,m.wA)(),Z=".."===t||".."===n||".."===a||".."===o,X=Z?"border-gray-100 bg-gray-100 shadow-md":"good"===t&&0===a&&0===o?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md",ee=function(e,t,n){return e.flat().find((function(e){return e.key===t}))||n};return(0,r.useEffect)((function(){p(i.search),g(i.searchIn),_(i.autoload),k(i.size),j(i.sizeUnit),P(i.site),M(ee(Vi,i.searchIn,Vi[1][0])),z(ee(Qi,i.autoload,Qi[0][0])),Y(ee(Ji,i.sizeUnit,Ji[0][0])),H(ee(Zi,i.site,Zi[0][0]))}),[i]),r.createElement(r.Fragment,null,r.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},s&&r.createElement("div",{className:"flex items-center"},r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),J(Ue()),M(Vi[1][0]),z(Qi[0][0]),Y(Ji[0][0]),H(Zi[0][0]),Q(V+1)}},r.createElement(u.k7K,null),(0,l.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===R&&r.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===R&&r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),J(Bd(!c))}},c?r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.E1u,null),(0,l.__)("Show filters","advanced-database-cleaner")):r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.UX6,null),(0,l.__)("Hide filters","advanced-database-cleaner")))),r.createElement("div",{key:V,className:"mt-1",hidden:c},r.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},r.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(X," relative justify-center px-2 py-1")},!Z&&r.createElement("button",{onClick:function(e){e.preventDefault(),J(em())},className:"absolute right-2 top-2 flex items-center justify-center rounded p-0.5 text-gray-600 transition-colors hover:text-gray-800"},r.createElement(u.JbZ,{className:"text-[0.85rem]"})),ym(".."===t?"loading":"good"===t?"ok":"warning","good"===t?(0,l.sprintf)((0,l.__)("Autoload size is good (%s)","advanced-database-cleaner"),n):(0,l.sprintf)((0,l.__)("Autoload size is big (%s)","advanced-database-cleaner"),n),(function(e){e.preventDefault(),J(Ie()),M(Vi[1][0]),z(Qi[1][0]),Y(Ji[0][0]),H(Zi[0][0]),Q(V+1)})),ym(".."===a?"loading":0===a?"ok":"warning",(0,l.sprintf)((0,l._n)("%s big option detected","%s big options detected",a,"advanced-database-cleaner"),a),(function(e){e.preventDefault(),J(Pe()),M(Vi[1][0]),z(Qi[0][0]),Y(Ji[0][0]),H(Zi[0][0]),Q(V+1)})),ym(".."===o?"loading":0===o?"ok":"warning",(0,l.sprintf)((0,l._n)("%s option not scanned","%s options not scanned",o,"advanced-database-cleaner"),o),(function(e){e.preventDefault(),J(Te()),M(Vi[1][0]),z(Qi[0][0]),Y(Ji[0][0]),H(Zi[0][0]),Q(V+1)}))),r.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===R?"py-2":"py-3")},r.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===R?"pointer-events-none opacity-50":"")},r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search for","advanced-database-cleaner")),r.createElement(v,{placeholder:(0,l.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[10rem]",onChange:function(e){return p(e.target.value)},maxLength:100,value:f})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search in","advanced-database-cleaner")),r.createElement(fm,{selectItems:Vi,selectedItem:A,onSelectionChange:function(e){g(e),M(ee(Vi,e,Vi[1][0]))},minWidthButton:"w-full xl:min-w-[85px]",minWidthContent:"min-w-[120px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Autoload","advanced-database-cleaner")),r.createElement(fm,{selectItems:Qi,selectedItem:G,onSelectionChange:function(e){_(e),z(ee(Qi,e,Qi[0][0]))},minWidthButton:"w-full xl:min-w-[70px]",extraBtnClasses:"xl:max-w-[80px]",minWidthContent:"min-w-[100px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Size big than","advanced-database-cleaner")),r.createElement("div",{className:"flex gap-0"},r.createElement(v,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[3.8rem]",onChange:function(e){return k(parseInt(e.target.value))},value:N}),r.createElement(fm,{selectItems:Ji,selectedItem:U,onSelectionChange:function(e){j(e),Y(ee(Ji,e,Ji[0][0]))},minWidthButton:"min-w-[50px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),"1"===W&&r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Site","advanced-database-cleaner")),r.createElement(fm,{selectItems:Zi,selectedItem:K,onSelectionChange:function(e){P(e),H(ee(Zi,e,Zi[0][0]))},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),r.createElement("div",null,r.createElement(w,{Icon:Xe.F3z,text:(0,l.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),J(Se({search:f,searchIn:y,autoload:x,size:Number(N),sizeUnit:L,site:T})),J(De("all"))}}))),"FREE"===R&&r.createElement("div",{className:"flex w-full items-center pt-1"},r.createElement("div",{className:"flex items-center gap-1 rounded-lg"},r.createElement(u.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),r.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,l.__)("Unlock Advanced Filters:","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=options-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,l.__)("upgrade","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[1px] h-3 w-3"}))))))))},el=function(e){var t,n,a,o,i,l,c,s,u,d,f,p,h,v=e.actions,y=e.columns,g=(0,m.d4)((function(e){return e.filter})),b=(0,m.d4)(Ke),x=(0,m.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),_=(0,m.wA)();(0,r.useEffect)((function(){if(null!=E&&E.data){var e=E.data.real_current_page;g.currentPage>e&&_(Be(e))}}),[E]);var w=(0,Ra.I)({queryKey:["options","list",g],queryFn:function(e){var t=e.signal;return Ma("options",g,t)}}),E=w.data,N=w.isPending,k=w.isFetching,S=w.refetch,L=(0,Ra.I)({queryKey:["options","count","autoload",x],queryFn:function(e){return function(e){return Ja.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),j=L.data,O=(0,Ra.I)({queryKey:["options","count","bigOptions",x],queryFn:function(e){return function(e){return Va.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),T=O.data,P=(0,Ra.I)({queryKey:["options","count","notScanned",x],queryFn:function(e){return function(e){return Qa.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),I=P.data,C=(null==E||null===(t=E.data)||void 0===t?void 0:t.items)||[],A=(null==E||null===(n=E.data)||void 0===n?void 0:n.total_items)||0,F=(null==E||null===(a=E.data)||void 0===a?void 0:a.categorization_count)||[],M=(null==E||null===(o=E.data)||void 0===o?void 0:o.plugins_count)||[],D=(null==E||null===(i=E.data)||void 0===i?void 0:i.themes_count)||[],G=null!==(l=null==j||null===(c=j.data)||void 0===c?void 0:c.autoloaded_size)&&void 0!==l?l:"..",z=null!==(s=null==j||null===(u=j.data)||void 0===u?void 0:u.autoload_health)&&void 0!==s?s:"..",B=null!==(d=null==j||null===(f=j.data)||void 0===f?void 0:f.autoload_limit)&&void 0!==d?d:"..",U=null!==(p=null==T?void 0:T.data)&&void 0!==p?p:"..",W=null!==(h=null==I?void 0:I.data)&&void 0!==h?h:"..";(0,r.useEffect)((function(){_(Gm())}),[g,_]);var Y=function(e){e.preventDefault(),k||S()};return r.createElement("div",null,"PREMIUM"===R&&r.createElement(Ei,{tabName:"options"}),r.createElement(Xi,{autoloadedSize:G,autoloadHealth:z,bigOptionsCount:U,notScannedCount:W}),r.createElement(To,{tabName:"options",categorizationCount:F,pluginsCount:M,themesCount:D}),A>0&&r.createElement(Lo,{autoloadHealth:z,autoloadedSize:G,autoloadLimit:B}),r.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},r.createElement(No,{actions:v,itemsType:"options"}),r.createElement(Ze,{totalItems:A,additionalStyle:"hidden md:!flex",onRefresh:Y,loading:k,filterApplied:b})),N?xm():r.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300 transition-opacity duration-300 ".concat(k?"opacity-20":"opacity-100")},C.length>0?r.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},r.createElement(Ii,{columns:y,data:C}),r.createElement(Pi,{tabName:"options",columns:y,data:C})):bm(b)),r.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},r.createElement(No,{actions:v,itemsType:"options",openUpward:!0}),A>10&&r.createElement(Ze,{totalItems:A,onRefresh:Y,loading:k,filterApplied:b})),r.createElement("div",{className:"mt-6 flex justify-center md:justify-end"},r.createElement(Qe,null)))};function tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||nl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nl(e,t){if(e){if("string"==typeof e)return rl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rl(e,t):void 0}}function rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var al=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,l.__)("Meta key","advanced-database-cleaner")},{key:"value",label:(0,l.__)("Value","advanced-database-cleaner")}]],ol=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],il=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,l.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,l.__)("No","advanced-database-cleaner")}]],ll=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],function(e){return function(e){if(Array.isArray(e))return rl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Y.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const cl=function(e){var t=e.bigPostsMetaCount,n=e.notScannedCount,a=e.duplicatedPostsMetaCount,o=e.unusedPostsMetaCount,i=(0,m.d4)((function(e){return e.filter})),c=(0,m.d4)((function(e){return e.shared.hideFilters})),s=(0,m.d4)(Ke),d=tl((0,r.useState)(i.search),2),f=d[0],p=d[1],h=tl((0,r.useState)(i.searchIn),2),y=h[0],g=h[1],b=tl((0,r.useState)(i.size),2),x=b[0],_=b[1],E=tl((0,r.useState)(i.sizeUnit),2),N=E[0],k=E[1],S=tl((0,r.useState)(i.duplicated),2),L=S[0],j=S[1],O=tl((0,r.useState)(i.unused),2),T=O[0],P=O[1],C=tl((0,r.useState)(i.site),2),A=C[0],M=C[1],D=tl((0,r.useState)(al[1][0]),2),G=D[0],z=D[1],B=tl((0,r.useState)(ol[0][0]),2),U=B[0],Y=B[1],q=tl((0,r.useState)(il[0][0]),2),K=q[0],H=q[1],$=tl((0,r.useState)(il[0][0]),2),V=$[0],Q=$[1],J=tl((0,r.useState)(ll[0][0]),2),Z=J[0],X=J[1],ee=tl((0,r.useState)(0),2),te=ee[0],ne=ee[1],re=(0,m.wA)(),ae=".."===t||".."===n||".."===a||".."===o,oe=ae?"border-gray-100 bg-gray-100 shadow-md":0===t&&0===n&&0===a&&0===o?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md",ie=function(e,t,n){return e.flat().find((function(e){return e.key===t}))||n};return(0,r.useEffect)((function(){p(i.search),g(i.searchIn),_(i.size),k(i.sizeUnit),j(i.duplicated),P(i.unused),M(i.site),z(ie(al,i.searchIn,al[1][0])),Y(ie(ol,i.sizeUnit,ol[0][0])),H(ie(il,i.duplicated,il[0][0])),Q(ie(il,i.unused,il[0][0])),X(ie(ll,i.site,ll[0][0]))}),[i]),r.createElement(r.Fragment,null,r.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},s&&r.createElement("div",{className:"flex items-center"},r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),re(Ue()),z(al[1][0]),Y(ol[0][0]),H(il[0][0]),Q(il[0][0]),X(ll[0][0]),ne(te+1)}},r.createElement(u.k7K,null),(0,l.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===R&&r.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===R&&r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),re(Bd(!c))}},c?r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.E1u,null),(0,l.__)("Show filters","advanced-database-cleaner")):r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.UX6,null),(0,l.__)("Hide filters","advanced-database-cleaner")))),r.createElement("div",{key:te,className:"mt-1",hidden:c},r.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},r.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(oe," relative justify-center px-2 py-1")},!ae&&r.createElement("button",{onClick:function(e){e.preventDefault(),re(em())},className:"absolute right-2 top-2 flex items-center justify-center rounded p-0.5 text-gray-600 transition-colors hover:text-gray-800"},r.createElement(u.JbZ,{className:"text-[0.85rem]"})),ym(".."===o?"loading":0===o?"ok":"warning",(0,l.sprintf)((0,l.__)("%s unused post meta","advanced-database-cleaner"),o),(function(e){e.preventDefault(),re(Ae()),z(al[1][0]),Y(ol[0][0]),H(il[0][0]),Q(il[1][0]),X(ll[0][0]),ne(te+1)})),ym(".."===a?"loading":0===a?"ok":"warning",(0,l.sprintf)((0,l.__)("%s duplicated post meta","advanced-database-cleaner"),a),(function(e){e.preventDefault(),re(Fe()),z(al[1][0]),Y(ol[0][0]),H(il[1][0]),Q(il[0][0]),X(ll[0][0]),ne(te+1)})),ym(".."===t?"loading":0===t?"ok":"warning",(0,l.sprintf)((0,l.__)("%s big post meta detected","advanced-database-cleaner"),t),(function(e){e.preventDefault(),re(Pe()),z(al[1][0]),Y(ol[0][0]),H(il[0][0]),Q(il[0][0]),X(ll[0][0]),ne(te+1)})),ym(".."===n?"loading":0===n?"ok":"warning",(0,l.sprintf)((0,l.__)("%s post meta not scanned","advanced-database-cleaner"),n),(function(e){e.preventDefault(),re(Te()),z(al[1][0]),Y(ol[0][0]),H(il[0][0]),Q(il[0][0]),X(ll[0][0]),ne(te+1)}))),r.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===R?"py-2":"py-3")},r.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===R?"pointer-events-none opacity-50":"")},r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search for","advanced-database-cleaner")),r.createElement(v,{placeholder:(0,l.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[9rem]",onChange:function(e){return p(e.target.value)},maxLength:100,value:f})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search in","advanced-database-cleaner")),r.createElement(fm,{selectItems:al,selectedItem:G,onSelectionChange:function(e){g(e),z(ie(al,e,al[1][0]))},minWidthButton:"w-full xl:min-w-[90px]",minWidthContent:"min-w-[120px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Size big than","advanced-database-cleaner")),r.createElement("div",{className:"flex gap-0"},r.createElement(v,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[3.5rem]",onChange:function(e){return _(parseInt(e.target.value))},value:x}),r.createElement(fm,{selectItems:ol,selectedItem:U,onSelectionChange:function(e){k(e),Y(ie(ol,e,ol[0][0]))},minWidthButton:"min-w-[50px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Unused","advanced-database-cleaner")),r.createElement(fm,{selectItems:il,selectedItem:V,onSelectionChange:function(e){P(e),Q(ie(il,e,il[0][0]))},minWidthButton:"w-full xl:min-w-[60px]",minWidthContent:"min-w-[100px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Duplicated","advanced-database-cleaner")),r.createElement(fm,{selectItems:il,selectedItem:K,onSelectionChange:function(e){j(e),H(ie(il,e,il[0][0]))},minWidthButton:"w-full xl:min-w-[60px]",minWidthContent:"min-w-[100px]"})),"1"===W&&r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Site","advanced-database-cleaner")),r.createElement(fm,{selectItems:ll,selectedItem:Z,onSelectionChange:function(e){M(e),X(ie(ll,e,ll[0][0]))},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),r.createElement("div",null,r.createElement(w,{Icon:Xe.F3z,text:(0,l.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),re(Se({search:f,searchIn:y,size:Number(x),sizeUnit:N,duplicated:L,unused:T,site:A})),re(De("all"))}}))),"FREE"===R&&r.createElement("div",{className:"flex w-full items-center pt-1"},r.createElement("div",{className:"flex items-center gap-1 rounded-lg"},r.createElement(u.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),r.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,l.__)("Unlock Advanced Filters:","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=postmeta-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,l.__)("upgrade","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[1px] h-3 w-3"}))))))))},sl=function(e){var t,n,a,o,i,l,c,s,u,d=e.actions,f=e.columns,p=(0,m.d4)((function(e){return e.filter})),h=(0,m.d4)(Ke),v=(0,m.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),y=(0,m.wA)();(0,r.useEffect)((function(){if(null!=b&&b.data){var e=b.data.real_current_page;p.currentPage>e&&y(Be(e))}}),[b]);var g=(0,Ra.I)({queryKey:["posts_meta","list",p],queryFn:function(e){var t=e.signal;return Ma("posts_meta",p,t)}}),b=g.data,x=g.isPending,_=g.isFetching,w=g.refetch,E=(0,Ra.I)({queryKey:["posts_meta","count","big",v],queryFn:function(e){return function(e){return Za.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),N=E.data,k=(0,Ra.I)({queryKey:["posts_meta","count","notScanned",v],queryFn:function(e){return function(e){return Xa.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),S=k.data,L=(0,Ra.I)({queryKey:["posts_meta","count","duplicated",v],queryFn:function(e){return function(e){return eo.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),j=L.data,O=(0,Ra.I)({queryKey:["posts_meta","count","unused",v],queryFn:function(e){return function(e){return to.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),T=O.data,P=(null==b||null===(t=b.data)||void 0===t?void 0:t.items)||[],I=(null==b||null===(n=b.data)||void 0===n?void 0:n.total_items)||0,C=(null==b||null===(a=b.data)||void 0===a?void 0:a.categorization_count)||[],A=(null==b||null===(o=b.data)||void 0===o?void 0:o.plugins_count)||[],F=(null==b||null===(i=b.data)||void 0===i?void 0:i.themes_count)||[],M=null!==(l=null==N?void 0:N.data)&&void 0!==l?l:"..",D=null!==(c=null==S?void 0:S.data)&&void 0!==c?c:"..",G=null!==(s=null==j?void 0:j.data)&&void 0!==s?s:"..",z=null!==(u=null==T?void 0:T.data)&&void 0!==u?u:"..";(0,r.useEffect)((function(){y(Gm())}),[p,y]);var B=function(e){e.preventDefault(),_||w()};return r.createElement("div",null,"PREMIUM"===R&&r.createElement(Ei,{tabName:"posts_meta"}),r.createElement(cl,{bigPostsMetaCount:M,notScannedCount:D,duplicatedPostsMetaCount:G,unusedPostsMetaCount:z}),r.createElement(To,{tabName:"posts_meta",categorizationCount:C,pluginsCount:A,themesCount:F}),I>0&&r.createElement(Lo,{bigPostsMetaCount:M,duplicatedPostsMetaCount:G,unusedPostsMetaCount:z}),r.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},r.createElement(No,{actions:d,itemsType:"posts_meta"}),r.createElement(Ze,{totalItems:I,additionalStyle:"hidden md:!flex",onRefresh:B,loading:_,filterApplied:h})),x?xm():r.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300 transition-opacity duration-300 ".concat(_?"opacity-20":"opacity-100")},P.length>0?r.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},r.createElement(Ii,{columns:f,data:P}),r.createElement(Pi,{tabName:"posts_meta",columns:f,data:P})):bm(h)),r.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},r.createElement(No,{actions:d,itemsType:"posts_meta",openUpward:!0}),I>10&&r.createElement(Ze,{totalItems:I,onRefresh:B,loading:_,filterApplied:h})),r.createElement("div",{className:"mt-6 flex justify-center md:justify-end"},r.createElement(Qe,null)))};function ul(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||dl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){if(e){if("string"==typeof e)return ml(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ml(e,t):void 0}}function ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fl=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"to_optimize",label:(0,l.__)("To optimize","advanced-database-cleaner")},{key:"to_repair",label:(0,l.__)("To repair","advanced-database-cleaner")}]],pl=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"valid_prefix",label:(0,l.__)("Valid prefix","advanced-database-cleaner")},{key:"invalid_prefix",label:(0,l.__)("Invalid prefix","advanced-database-cleaner")}]],hl=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],vl=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],function(e){return function(e){if(Array.isArray(e))return ml(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Y.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const yl=function(e){var t=e.totalToOptimize,n=e.totalToRepair,a=e.totalInvalidPrefix,o=e.totalNotScanned,i=(0,m.d4)((function(e){return e.filter})),c=(0,m.d4)((function(e){return e.shared.hideFilters})),s=(0,m.d4)(Ke),d=(0,m.d4)((function(e){return e.setting.showTablesWithInvalidPrefix})),f=ul((0,r.useState)(i.search),2),p=f[0],h=f[1],y=ul((0,r.useState)(i.tableStatus),2),g=y[0],b=y[1],x=ul((0,r.useState)(i.prefixStatus),2),_=x[0],E=x[1],N=ul((0,r.useState)(i.size),2),k=N[0],S=N[1],L=ul((0,r.useState)(i.sizeUnit),2),j=L[0],O=L[1],T=ul((0,r.useState)(i.site),2),P=T[0],C=T[1],A=ul((0,r.useState)(fl[0][0]),2),M=A[0],D=A[1],G=ul((0,r.useState)(pl[0][0]),2),z=G[0],B=G[1],U=ul((0,r.useState)(hl[0][0]),2),Y=U[0],q=U[1],K=ul((0,r.useState)(vl[0][0]),2),H=K[0],$=K[1],V=ul((0,r.useState)(0),2),Q=V[0],J=V[1],Z=(0,m.wA)(),X=".."===t||".."===n||".."===a||".."===o,ee=X?"border-gray-100 bg-gray-100 shadow-md":(d?0===t&&0===n&&0===a&&0===o:0===t&&0===n&&0===o)?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md",te=function(e,t,n){return e.flat().find((function(e){return e.key===t}))||n};return(0,r.useEffect)((function(){h(i.search),b(i.tableStatus),E(i.prefixStatus),S(i.size),O(i.sizeUnit),C(i.site),D(te(fl,i.tableStatus,fl[0][0])),B(te(pl,i.prefixStatus,pl[0][0])),q(te(hl,i.sizeUnit,hl[0][0])),$(te(vl,i.site,vl[0][0]))}),[i]),r.createElement(r.Fragment,null,r.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},s&&r.createElement("div",{className:"flex items-center"},r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),Z(Ue()),D(fl[0][0]),B(pl[0][0]),q(hl[0][0]),$(vl[0][0]),J(Q+1)}},r.createElement(u.k7K,null),(0,l.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===R&&r.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===R&&r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),Z(Bd(!c))}},c?r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.E1u,null),(0,l.__)("Show filters","advanced-database-cleaner")):r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.UX6,null),(0,l.__)("Hide filters","advanced-database-cleaner")))),r.createElement("div",{key:Q,className:"mt-1",hidden:c},r.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},r.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(ee," relative justify-center px-2 py-1")},!X&&r.createElement("button",{onClick:function(e){e.preventDefault(),Z(em())},className:"absolute right-2 top-2 flex items-center justify-center rounded p-0.5 text-gray-600 transition-colors hover:text-gray-800"},r.createElement(u.JbZ,{className:"text-[0.85rem]"})),ym(".."===t?"loading":0===t?"ok":"warning",(0,l.sprintf)((0,l._n)("%s table to optimize","%s tables to optimize",t,"advanced-database-cleaner"),t),(function(e){e.preventDefault(),Z(Le()),D(fl[1][0]),B(pl[0][0]),q(hl[0][0]),$(vl[0][0]),J(Q+1)})),ym(".."===n?"loading":0===n?"ok":"warning",(0,l.sprintf)((0,l._n)("%s table to repair","%s tables to repair",n,"advanced-database-cleaner"),n),(function(e){e.preventDefault(),Z(je()),D(fl[1][1]),B(pl[0][0]),q(hl[0][0]),$(vl[0][0]),J(Q+1)})),d&&ym(".."===a?"loading":0===a?"ok":"warning",(0,l.sprintf)((0,l._n)("%s table with invalid prefix","%s tables with invalid prefix",a,"advanced-database-cleaner"),a),(function(e){e.preventDefault(),Z(Oe()),B(pl[1][1]),D(fl[0][0]),q(hl[0][0]),$(vl[0][0]),J(Q+1)})),ym(".."===o?"loading":0===o?"ok":"warning",(0,l.sprintf)((0,l._n)("%s table not scanned","%s tables not scanned",o,"advanced-database-cleaner"),o),(function(e){e.preventDefault(),Z(Te()),D(fl[0][0]),B(pl[0][0]),q(hl[0][0]),$(vl[0][0]),J(Q+1)}))),r.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===R?"py-2":"py-3")},r.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===R?"pointer-events-none opacity-50":"")},r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search for","advanced-database-cleaner")),r.createElement(v,{placeholder:(0,l.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[10rem]",onChange:function(e){return h(e.target.value)},maxLength:100,value:p})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Table status","advanced-database-cleaner")),r.createElement(fm,{selectItems:fl,selectedItem:M,onSelectionChange:function(e){b(e),D(te(fl,e,fl[0][0]))},minWidthButton:"w-full xl:min-w-[7rem]",minWidthContent:"min-w-[150px]"})),d&&r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Prefix status","advanced-database-cleaner")),r.createElement(fm,{selectItems:pl,selectedItem:z,onSelectionChange:function(e){E(e),B(te(pl,e,pl[0][0]))},minWidthButton:"w-full xl:min-w-[7rem]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Size big than","advanced-database-cleaner")),r.createElement("div",{className:"flex gap-0"},r.createElement(v,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[4rem]",onChange:function(e){return S(parseInt(e.target.value))},value:k}),r.createElement(fm,{selectItems:hl,selectedItem:Y,onSelectionChange:function(e){O(e),q(te(hl,e,hl[0][0]))},minWidthButton:"min-w-[55px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),"1"===W&&r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Site","advanced-database-cleaner")),r.createElement(fm,{selectItems:vl,selectedItem:H,onSelectionChange:function(e){C(e),$(te(vl,e,vl[0][0]))},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),r.createElement("div",null,r.createElement(w,{Icon:Xe.F3z,text:(0,l.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),Z(Se({search:p,tableStatus:g,prefixStatus:_,size:Number(k),sizeUnit:j,site:P})),Z(De("all"))}}))),"FREE"===R&&r.createElement("div",{className:"flex w-full items-center pt-1"},r.createElement("div",{className:"flex items-center gap-1 rounded-lg"},r.createElement(u.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),r.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,l.__)("Unlock Advanced Filters:","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=tables-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,l.__)("upgrade","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[1px] h-3 w-3"}))))))))},gl=function(e){var t,n,a,o,i,l,c,s,u,d=e.actions,f=e.columns,p=(0,m.d4)((function(e){return e.filter})),h=(0,m.d4)(Ke),v=(0,m.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),y=(0,m.wA)();(0,r.useEffect)((function(){if(null!=b&&b.data){var e=b.data.real_current_page;p.currentPage>e&&y(Be(e))}}),[b]);var g=(0,Ra.I)({queryKey:["tables","list",p],queryFn:function(e){var t=e.signal;return Ma("tables",p,t)}}),b=g.data,x=g.isPending,_=g.isFetching,w=g.refetch,E=(0,Ra.I)({queryKey:["tables","count","optimize",v],queryFn:function(e){return function(e){return qa.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),N=E.data,k=(0,Ra.I)({queryKey:["tables","count","repair",v],queryFn:function(e){return function(e){return Ka.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),S=k.data,L=(0,Ra.I)({queryKey:["tables","count","invalidPrefix",v],queryFn:function(e){return function(e){return Ha.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),j=L.data,O=(0,Ra.I)({queryKey:["tables","count","notScanned",v],queryFn:function(e){return function(e){return $a.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),T=O.data,P=(null==b||null===(t=b.data)||void 0===t?void 0:t.items)||[],I=(null==b||null===(n=b.data)||void 0===n?void 0:n.total_items)||0,C=(null==b||null===(a=b.data)||void 0===a?void 0:a.categorization_count)||[],A=(null==b||null===(o=b.data)||void 0===o?void 0:o.plugins_count)||[],F=(null==b||null===(i=b.data)||void 0===i?void 0:i.themes_count)||[],M=null!==(l=null==N?void 0:N.data)&&void 0!==l?l:"..",D=null!==(c=null==S?void 0:S.data)&&void 0!==c?c:"..",G=null!==(s=null==j?void 0:j.data)&&void 0!==s?s:"..",z=null!==(u=null==T?void 0:T.data)&&void 0!==u?u:"..";(0,r.useEffect)((function(){y(Gm())}),[p,y]);var B=function(e){e.preventDefault(),_||w()};return r.createElement("div",null,"PREMIUM"===R&&r.createElement(Ei,{tabName:"tables"}),r.createElement(yl,{totalToOptimize:M,totalToRepair:D,totalInvalidPrefix:G,totalNotScanned:z}),r.createElement(To,{tabName:"tables",categorizationCount:C,pluginsCount:A,themesCount:F}),I>0&&r.createElement(Lo,null),r.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},r.createElement(No,{actions:d,itemsType:"tables"}),r.createElement(Ze,{totalItems:I,additionalStyle:"hidden md:!flex",onRefresh:B,loading:_,filterApplied:h})),x?xm():r.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300 transition-opacity duration-300 ".concat(_?"opacity-20":"opacity-100")},P.length>0?r.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},r.createElement(Ii,{columns:f,data:P}),r.createElement(Pi,{tabName:"tables",columns:f,data:P})):bm(h)),r.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},r.createElement(No,{actions:d,itemsType:"tables",openUpward:!0}),I>10&&r.createElement(Ze,{totalItems:I,onRefresh:B,loading:_,filterApplied:h})),r.createElement("div",{className:"mt-6 flex justify-center md:justify-end"},r.createElement(Qe,null)))};function bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||xl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xl(e,t){if(e){if("string"==typeof e)return _l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_l(e,t):void 0}}function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var wl=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,l.__)("Name","advanced-database-cleaner")},{key:"value",label:(0,l.__)("Value","advanced-database-cleaner")}]],El=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,l.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,l.__)("No","advanced-database-cleaner")}]],Nl=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,l.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,l.__)("No","advanced-database-cleaner")}]],kl=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],Sl=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],function(e){return function(e){if(Array.isArray(e))return _l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Y.map((function(e){return{key:e.id,label:e.id+" - "+(e.name.length>20?e.name.substring(0,20)+"...":e.name)}})))];const Ll=function(e){var t=e.expiredTransientsCount,n=e.bigTransientsCount,a=e.notScannedCount,o=(0,m.d4)((function(e){return e.filter})),i=(0,m.d4)((function(e){return e.shared.hideFilters})),c=(0,m.d4)(Ke),s=bl((0,r.useState)(o.search),2),d=s[0],f=s[1],p=bl((0,r.useState)(o.searchIn),2),h=p[0],y=p[1],g=bl((0,r.useState)(o.autoload),2),b=g[0],x=g[1],_=bl((0,r.useState)(o.expired),2),E=_[0],N=_[1],k=bl((0,r.useState)(o.size),2),S=k[0],L=k[1],j=bl((0,r.useState)(o.sizeUnit),2),O=j[0],T=j[1],P=bl((0,r.useState)(o.site),2),C=P[0],A=P[1],M=bl((0,r.useState)(wl[1][0]),2),D=M[0],G=M[1],z=bl((0,r.useState)(El[0][0]),2),B=z[0],U=z[1],Y=bl((0,r.useState)(Nl[0][0]),2),q=Y[0],K=Y[1],H=bl((0,r.useState)(kl[0][0]),2),$=H[0],V=H[1],Q=bl((0,r.useState)(Sl[0][0]),2),J=Q[0],Z=Q[1],X=bl((0,r.useState)(0),2),ee=X[0],te=X[1],ne=(0,m.wA)(),re=".."===t||".."===n||".."===a,ae=re?"border-gray-100 bg-gray-100 shadow-md":0===t&&0===n&&0===a?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md",oe=function(e,t,n){return e.flat().find((function(e){return e.key===t}))||n};return(0,r.useEffect)((function(){f(o.search),y(o.searchIn),x(o.autoload),N(o.expired),L(o.size),T(o.sizeUnit),A(o.site),G(oe(wl,o.searchIn,wl[1][0])),U(oe(El,o.autoload,El[0][0])),K(oe(Nl,o.expired,Nl[0][0])),V(oe(kl,o.sizeUnit,kl[0][0])),Z(oe(Sl,o.site,Sl[0][0]))}),[o]),r.createElement(r.Fragment,null,r.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},c&&r.createElement("div",{className:"flex items-center"},r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),ne(Ue()),G(wl[1][0]),U(El[0][0]),K(Nl[0][0]),V(kl[0][0]),Z(Sl[0][0]),te(ee+1)}},r.createElement(u.k7K,null),(0,l.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===R&&r.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===R&&r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),ne(Bd(!i))}},i?r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.E1u,null),(0,l.__)("Show filters","advanced-database-cleaner")):r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.UX6,null),(0,l.__)("Hide filters","advanced-database-cleaner")))),r.createElement("div",{key:ee,className:"mt-1",hidden:i},r.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},r.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(ae," relative justify-center px-2 py-1")},!re&&r.createElement("button",{onClick:function(e){e.preventDefault(),ne(em())},className:"absolute right-2 top-2 flex items-center justify-center rounded p-0.5 text-gray-600 transition-colors hover:text-gray-800"},r.createElement(u.JbZ,{className:"text-[0.85rem]"})),ym(".."===t?"loading":0===t?"ok":"warning",(0,l.sprintf)((0,l._n)("%s expired transient detected","%s expired transients detected",t,"advanced-database-cleaner"),t),(function(e){e.preventDefault(),ne(Ce()),G(wl[1][0]),U(El[0][0]),K(Nl[1][0]),V(kl[0][0]),Z(Sl[0][0]),te(ee+1)})),ym(".."===n?"loading":0===n?"ok":"warning",(0,l.sprintf)((0,l._n)("%s big transient detected","%s big transients detected",n,"advanced-database-cleaner"),n),(function(e){e.preventDefault(),ne(Pe()),G(wl[1][0]),U(El[0][0]),K(Nl[0][0]),V(kl[0][0]),Z(Sl[0][0]),te(ee+1)})),ym(".."===a?"loading":0===a?"ok":"warning",(0,l.sprintf)((0,l._n)("%s transient not scanned","%s transients not scanned",a,"advanced-database-cleaner"),a),(function(e){e.preventDefault(),ne(Te()),G(wl[1][0]),U(El[0][0]),K(Nl[0][0]),V(kl[0][0]),Z(Sl[0][0]),te(ee+1)}))),r.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===R?"py-2":"py-3")},r.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===R?"pointer-events-none opacity-50":"")},r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search for","advanced-database-cleaner")),r.createElement(v,{placeholder:(0,l.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[9rem]",onChange:function(e){return f(e.target.value)},maxLength:100,value:d})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search in","advanced-database-cleaner")),r.createElement(fm,{selectItems:wl,selectedItem:D,onSelectionChange:function(e){y(e),G(oe(wl,e,wl[1][0]))},minWidthButton:"w-full xl:min-w-[90px]",minWidthContent:"min-w-[120px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Autoload","advanced-database-cleaner")),r.createElement(fm,{selectItems:El,selectedItem:B,onSelectionChange:function(e){x(e),U(oe(El,e,El[0][0]))},minWidthButton:"w-full xl:min-w-[70px]",extraBtnClasses:"xl:max-w-[80px]",minWidthContent:"min-w-[100px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Expired","advanced-database-cleaner")),r.createElement(fm,{selectItems:Nl,selectedItem:q,onSelectionChange:function(e){N(e),K(oe(Nl,e,Nl[0][0]))},minWidthButton:"w-full xl:min-w-[70px]",extraBtnClasses:"xl:max-w-[80px]",minWidthContent:"min-w-[100px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Size big than","advanced-database-cleaner")),r.createElement("div",{className:"flex gap-0"},r.createElement(v,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[3.5rem]",onChange:function(e){return L(parseInt(e.target.value))},value:S}),r.createElement(fm,{selectItems:kl,selectedItem:$,onSelectionChange:function(e){T(e),V(oe(kl,e,kl[0][0]))},minWidthButton:"min-w-[50px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),"1"===W&&r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Site","advanced-database-cleaner")),r.createElement(fm,{selectItems:Sl,selectedItem:J,onSelectionChange:function(e){A(e),Z(oe(Sl,e,Sl[0][0]))},minWidthButton:"min-w-[70px]",minWidthContent:"min-w-[200px]",maxHeight:!0,labelClasses:"text-[.8rem]",extraBtnClasses:"w-full xl:max-w-[70px]"})),r.createElement("div",null,r.createElement(w,{Icon:Xe.F3z,text:(0,l.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),ne(Se({search:d,searchIn:h,autoload:b,expired:E,size:Number(S),sizeUnit:O,site:C})),ne(De("all"))}}))),"FREE"===R&&r.createElement("div",{className:"flex w-full items-center pt-1"},r.createElement("div",{className:"flex items-center gap-1 rounded-lg"},r.createElement(u.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),r.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,l.__)("Unlock Advanced Filters:","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=transients-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,l.__)("upgrade","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[1px] h-3 w-3"}))))))))},jl=function(e){var t,n,a,o,i,l,c,s,u=e.actions,d=e.columns,f=(0,m.d4)((function(e){return e.filter})),p=(0,m.d4)(Ke),h=(0,m.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),v=(0,m.wA)();(0,r.useEffect)((function(){if(null!=g&&g.data){var e=g.data.real_current_page;f.currentPage>e&&v(Be(e))}}),[g]);var y=(0,Ra.I)({queryKey:["transients","list",f],queryFn:function(e){var t=e.signal;return Ma("transients",f,t)}}),g=y.data,b=y.isPending,x=y.isFetching,_=y.refetch,w=(0,Ra.I)({queryKey:["transients","count","expired",h],queryFn:function(e){return function(e){return co.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),E=w.data,N=(0,Ra.I)({queryKey:["transients","count","big",h],queryFn:function(e){return function(e){return io.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),k=N.data,S=(0,Ra.I)({queryKey:["transients","count","notScanned",h],queryFn:function(e){return function(e){return lo.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),L=S.data,j=(null==g||null===(t=g.data)||void 0===t?void 0:t.items)||[],O=(null==g||null===(n=g.data)||void 0===n?void 0:n.total_items)||0,T=(null==g||null===(a=g.data)||void 0===a?void 0:a.categorization_count)||[],P=(null==g||null===(o=g.data)||void 0===o?void 0:o.plugins_count)||[],I=(null==g||null===(i=g.data)||void 0===i?void 0:i.themes_count)||[],C=null!==(l=null==E?void 0:E.data)&&void 0!==l?l:"..",A=null!==(c=null==k?void 0:k.data)&&void 0!==c?c:"..",F=null!==(s=null==L?void 0:L.data)&&void 0!==s?s:"..";(0,r.useEffect)((function(){v(Gm())}),[f,v]);var M=function(e){e.preventDefault(),x||_()};return r.createElement("div",null,"PREMIUM"===R&&r.createElement(Ei,{tabName:"transients"}),r.createElement(Ll,{expiredTransientsCount:C,bigTransientsCount:A,notScannedCount:F}),r.createElement(To,{tabName:"transients",categorizationCount:T,pluginsCount:P,themesCount:I}),O>0&&r.createElement(Lo,{expiredTransients:C,bigTransientsCount:A}),r.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},r.createElement(No,{actions:u,itemsType:"transients"}),r.createElement(Ze,{totalItems:O,additionalStyle:"hidden md:!flex",onRefresh:M,loading:x,filterApplied:p})),b?xm():r.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300 transition-opacity duration-300 ".concat(x?"opacity-20":"opacity-100")},j.length>0?r.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},r.createElement(Ii,{columns:d,data:j}),r.createElement(Pi,{tabName:"transients",columns:d,data:j})):bm(p)),r.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},r.createElement(No,{actions:u,itemsType:"transients",openUpward:!0}),O>10&&r.createElement(Ze,{totalItems:O,onRefresh:M,loading:x,filterApplied:p})),r.createElement("div",{className:"mt-6 flex justify-center md:justify-end"},r.createElement(Qe,null)))};function Ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pl=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"name",label:(0,l.__)("Meta key","advanced-database-cleaner")},{key:"value",label:(0,l.__)("Value","advanced-database-cleaner")}]],Il=[[{key:"KB",label:"KB"},{key:"MB",label:"MB"},{key:"GB",label:"GB"}]],Cl=[[{key:"all",label:(0,l.__)("All","advanced-database-cleaner")}],[{key:"yes",label:(0,l.__)("Yes","advanced-database-cleaner")},{key:"no",label:(0,l.__)("No","advanced-database-cleaner")}]];const Al=function(e){var t=e.bigUsersMetaCount,n=e.notScannedCount,a=e.duplicatedUsersMetaCount,o=e.unusedUsersMetaCount,i=(0,m.d4)((function(e){return e.filter})),c=(0,m.d4)((function(e){return e.shared.hideFilters})),s=(0,m.d4)(Ke),d=Ol((0,r.useState)(i.search),2),f=d[0],p=d[1],h=Ol((0,r.useState)(i.searchIn),2),y=h[0],g=h[1],b=Ol((0,r.useState)(i.size),2),x=b[0],_=b[1],E=Ol((0,r.useState)(i.sizeUnit),2),N=E[0],k=E[1],S=Ol((0,r.useState)(i.duplicated),2),L=S[0],j=S[1],O=Ol((0,r.useState)(i.unused),2),T=O[0],P=O[1],C=Ol((0,r.useState)(Pl[1][0]),2),A=C[0],M=C[1],D=Ol((0,r.useState)(Il[0][0]),2),G=D[0],z=D[1],B=Ol((0,r.useState)(Cl[0][0]),2),U=B[0],W=B[1],Y=Ol((0,r.useState)(Cl[0][0]),2),q=Y[0],K=Y[1],H=Ol((0,r.useState)(0),2),$=H[0],V=H[1],Q=(0,m.wA)(),J=".."===t||".."===n||".."===a||".."===o,Z=J?"border-gray-100 bg-gray-100 shadow-md":0===t&&0===n&&0===a&&0===o?"border-green-100 bg-green-100 shadow-md":"border-orange-100 bg-orange-100 shadow-md",X=function(e,t,n){return e.flat().find((function(e){return e.key===t}))||n};return(0,r.useEffect)((function(){p(i.search),g(i.searchIn),_(i.size),k(i.sizeUnit),j(i.duplicated),P(i.unused),M(X(Pl,i.searchIn,Pl[1][0])),z(X(Il,i.sizeUnit,Il[0][0])),W(X(Cl,i.duplicated,Cl[0][0])),K(X(Cl,i.unused,Cl[0][0]))}),[i]),r.createElement(r.Fragment,null,r.createElement("div",{className:"flex min-h-[20px] w-full items-end justify-end text-end"},s&&r.createElement("div",{className:"flex items-center"},r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),Q(Ue()),M(Pl[1][0]),z(Il[0][0]),W(Cl[0][0]),K(Cl[0][0]),V($+1)}},r.createElement(u.k7K,null),(0,l.__)("Reset filters","advanced-database-cleaner")),"PREMIUM"===R&&r.createElement("span",{className:"-mt-1 px-2"},"|")),"PREMIUM"===R&&r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-gray-500 no-underline",onClick:function(e){e.preventDefault(),Q(Bd(!c))}},c?r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.E1u,null),(0,l.__)("Show filters","advanced-database-cleaner")):r.createElement("div",{className:"flex items-center gap-x-[4px]"},r.createElement(Po.UX6,null),(0,l.__)("Hide filters","advanced-database-cleaner")))),r.createElement("div",{key:$,className:"mt-1",hidden:c},r.createElement("div",{className:"flex flex-col justify-between gap-4 xl:min-w-[800px] xl:flex-row xl:gap-x-3"},r.createElement("div",{className:"flex min-w-[280px] max-w-[280px] flex-col gap-y-1 rounded-xl border ".concat(Z," relative justify-center px-2 py-1")},!J&&r.createElement("button",{onClick:function(e){e.preventDefault(),Q(em())},className:"absolute right-2 top-2 flex items-center justify-center rounded p-0.5 text-gray-600 transition-colors hover:text-gray-800"},r.createElement(u.JbZ,{className:"text-[0.85rem]"})),ym(".."===o?"loading":0===o?"ok":"warning",(0,l.sprintf)((0,l.__)("%s unused user meta","advanced-database-cleaner"),o),(function(e){e.preventDefault(),Q(Ae()),M(Pl[1][0]),z(Il[0][0]),W(Cl[0][0]),K(Cl[1][0]),V($+1)})),ym(".."===a?"loading":0===a?"ok":"warning",(0,l.sprintf)((0,l.__)("%s duplicated user meta","advanced-database-cleaner"),a),(function(e){e.preventDefault(),Q(Fe()),M(Pl[1][0]),z(Il[0][0]),W(Cl[1][0]),K(Cl[0][0]),V($+1)})),ym(".."===t?"loading":0===t?"ok":"warning",(0,l.sprintf)((0,l.__)("%s big user meta detected","advanced-database-cleaner"),t),(function(e){e.preventDefault(),Q(Pe()),M(Pl[1][0]),z(Il[0][0]),W(Cl[0][0]),K(Cl[0][0]),V($+1)})),ym(".."===n?"loading":0===n?"ok":"warning",(0,l.sprintf)((0,l.__)("%s user meta not scanned","advanced-database-cleaner"),n),(function(e){e.preventDefault(),Q(Te()),M(Pl[1][0]),z(Il[0][0]),W(Cl[0][0]),K(Cl[0][0]),V($+1)}))),r.createElement("div",{className:"flex w-full flex-col gap-y-1 rounded-xl border bg-gray-200/80 px-3 shadow-sm ".concat("FREE"===R?"py-2":"py-3")},r.createElement("form",{className:"grid w-full grid-cols-2 items-end gap-x-4 gap-y-2 text-[.7rem] text-gray-900 sm:grid-cols-3 xl:flex ".concat("FREE"===R?"pointer-events-none opacity-50":"")},r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search for","advanced-database-cleaner")),r.createElement(v,{placeholder:(0,l.__)("Search for","advanced-database-cleaner"),className:"!h-[2rem] w-full !border-gray-300 xl:w-[9rem]",onChange:function(e){return p(e.target.value)},maxLength:100,value:f})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search in","advanced-database-cleaner")),r.createElement(fm,{selectItems:Pl,selectedItem:A,onSelectionChange:function(e){g(e),M(X(Pl,e,Pl[1][0]))},minWidthButton:"w-full xl:min-w-[90px]",minWidthContent:"min-w-[120px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Size big than","advanced-database-cleaner")),r.createElement("div",{className:"flex gap-0"},r.createElement(v,{type:"number",min:0,className:"!h-[2rem] !min-h-[10px] w-full !rounded-l-lg !rounded-r-[0px] !border-gray-300 !ring-0 xl:w-[3.5rem]",onChange:function(e){return _(parseInt(e.target.value))},value:x}),r.createElement(fm,{selectItems:Il,selectedItem:G,onSelectionChange:function(e){k(e),z(X(Il,e,Il[0][0]))},minWidthButton:"min-w-[50px]",minWidthContent:"min-w-[60px]",extraBtnClasses:"!rounded-l-none border-l-transparent"}))),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Unused","advanced-database-cleaner")),r.createElement(fm,{selectItems:Cl,selectedItem:q,onSelectionChange:function(e){P(e),K(X(Cl,e,Cl[0][0]))},minWidthButton:"w-full xl:min-w-[60px]",minWidthContent:"min-w-[100px]"})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Duplicated","advanced-database-cleaner")),r.createElement(fm,{selectItems:Cl,selectedItem:U,onSelectionChange:function(e){j(e),W(X(Cl,e,Cl[0][0]))},minWidthButton:"w-full xl:min-w-[60px]",minWidthContent:"min-w-[100px]"})),r.createElement("div",null,r.createElement(w,{Icon:Xe.F3z,text:(0,l.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),Q(Se({search:f,searchIn:y,size:Number(x),sizeUnit:N,duplicated:L,unused:T})),Q(De("all"))}}))),"FREE"===R&&r.createElement("div",{className:"flex w-full items-center pt-1"},r.createElement("div",{className:"flex items-center gap-1 rounded-lg"},r.createElement(u.xGQ,{className:"h-[16px] w-[16px] text-yellow-600"}),r.createElement("span",{className:"text-[.7rem] font-semibold text-gray-700"},(0,l.__)("Unlock Advanced Filters:","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=usermeta-filters&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"flex items-center !gap-[3px] text-[.7rem] font-semibold !text-blue-500 !no-underline hover:!text-blue-700"},(0,l.__)("upgrade","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[1px] h-3 w-3"}))))))))},Fl=function(e){var t,n,a,o,i,l,c,s,u,d=e.actions,f=e.columns,p=(0,m.d4)((function(e){return e.filter})),h=(0,m.d4)(Ke),v=(0,m.d4)((function(e){return e.shared.refreshCountsInOrangeHealthCheck})),y=(0,m.wA)();(0,r.useEffect)((function(){if(null!=b&&b.data){var e=b.data.real_current_page;p.currentPage>e&&y(Be(e))}}),[b]);var g=(0,Ra.I)({queryKey:["users_meta","list",p],queryFn:function(e){var t=e.signal;return Ma("users_meta",p,t)}}),b=g.data,x=g.isPending,_=g.isFetching,w=g.refetch,E=(0,Ra.I)({queryKey:["users_meta","count","big",v],queryFn:function(e){return function(e){return no.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),N=E.data,k=(0,Ra.I)({queryKey:["users_meta","count","notScanned",v],queryFn:function(e){return function(e){return ro.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),S=k.data,L=(0,Ra.I)({queryKey:["users_meta","count","duplicated",v],queryFn:function(e){return function(e){return ao.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),j=L.data,O=(0,Ra.I)({queryKey:["users_meta","count","unused",v],queryFn:function(e){return function(e){return oo.apply(this,arguments)}(e.signal)},placeholderData:void 0,enabled:!0}),T=O.data,P=(null==b||null===(t=b.data)||void 0===t?void 0:t.items)||[],I=(null==b||null===(n=b.data)||void 0===n?void 0:n.total_items)||0,C=(null==b||null===(a=b.data)||void 0===a?void 0:a.categorization_count)||{},A=(null==b||null===(o=b.data)||void 0===o?void 0:o.plugins_count)||{},F=(null==b||null===(i=b.data)||void 0===i?void 0:i.themes_count)||{},M=null!==(l=null==N?void 0:N.data)&&void 0!==l?l:"..",D=null!==(c=null==S?void 0:S.data)&&void 0!==c?c:"..",G=null!==(s=null==j?void 0:j.data)&&void 0!==s?s:"..",z=null!==(u=null==T?void 0:T.data)&&void 0!==u?u:"..";(0,r.useEffect)((function(){y(Gm())}),[p,y]);var B=function(e){e.preventDefault(),_||w()};return r.createElement("div",null,"PREMIUM"===R&&r.createElement(Ei,{tabName:"users_meta"}),r.createElement(Al,{bigUsersMetaCount:M,notScannedCount:D,duplicatedUsersMetaCount:G,unusedUsersMetaCount:z}),r.createElement(To,{tabName:"users_meta",categorizationCount:C,pluginsCount:A,themesCount:F}),I>0&&r.createElement(Lo,{bigUsersMetaCount:M,duplicatedUsersMetaCount:G,unusedUsersMetaCount:z}),r.createElement("div",{className:"mt-8 flex justify-between gap-x-2"},r.createElement(No,{actions:d,itemsType:"users_meta"}),r.createElement(Ze,{totalItems:I,additionalStyle:"hidden md:!flex",onRefresh:B,loading:_,filterApplied:h})),x?xm():r.createElement("div",{className:"mt-4 w-full overflow-x-auto rounded-lg border border-gray-300 transition-opacity duration-300 ".concat(_?"opacity-20":"opacity-100")},P.length>0?r.createElement("table",{className:"w-full min-w-[1200px] 2xl:min-w-[1000px]"},r.createElement(Ii,{columns:f,data:P}),r.createElement(Pi,{tabName:"users_meta",columns:f,data:P})):bm(h)),r.createElement("div",{className:"mt-6 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},r.createElement(No,{actions:d,itemsType:"users_meta",openUpward:!0}),I>10&&r.createElement(Ze,{totalItems:I,onRefresh:B,loading:_,filterApplied:h})),r.createElement("div",{className:"mt-6 flex justify-center md:justify-end"},r.createElement(Qe,null)))};var Ml=n(7668),Dl=n(540),Gl=n(9124),zl=n(3669);function Rl(e){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(e)}function Bl(){Bl=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Rl(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Rl(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Ul(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Wl(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ul(o,r,a,i,l,"next",e)}function l(e){Ul(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ql(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ql(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Kl=[{key:"p",name:(0,l.__)("Plugin","advanced-database-cleaner")},{key:"t",name:(0,l.__)("Theme","advanced-database-cleaner")},{key:"w",name:(0,l.__)("WordPress","advanced-database-cleaner")},{key:"o",name:(0,l.__)("Orphan","advanced-database-cleaner")},{key:"u",name:(0,l.__)("Don't assign to any category","advanced-database-cleaner")}];const Hl=function(){var e=Yl((0,r.useState)(!1),2),t=e[0],n=e[1],a=Yl((0,r.useState)(Kl[0].key),2),c=a[0],u=a[1],d=Yl((0,r.useState)(""),2),f=d[0],p=d[1],h=Yl((0,r.useState)(""),2),v=h[0],y=h[1],g=Yl((0,r.useState)(!1),2),b=g[0],x=g[1],_=Yl((0,r.useState)(!1),2),w=_[0],E=_[1],N=Yl((0,r.useState)([]),2),S=N[0],L=N[1],O=Yl((0,r.useState)([]),2),T=O[0],P=O[1],C=(0,m.d4)((function(e){return e.setting.sendCorrectionsToServer})),F=Yl((0,r.useState)(C),2),M=F[0],D=F[1],G=Yl((0,r.useState)(!0),2),z=G[0],R=G[1],B=(0,m.d4)((function(e){return e.scan.isEditCategorizationModalShown})),U=(0,m.d4)((function(e){return e.action.selectedItems.length})),W=(0,m.d4)((function(e){return e.shared.currentTabId})),Y=(0,m.wA)();(0,r.useEffect)((function(){B&&q()}),[B]);var q=function(){var e=Wl(Bl().mark((function e(){var t,n,r,a,o;return Bl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),e.next=4,at();case 4:r=e.sent,a=[[{key:"",label:(0,l.__)("Select a plugin","advanced-database-cleaner")}],Object.entries(null===(t=r.data)||void 0===t?void 0:t.plugins_list).filter((function(e){var t=Yl(e,2);return t[0],"mu-plugin-folder"!==t[1].type})).map((function(e){var t=Yl(e,2),n=t[0],r=t[1];return{key:n,label:r.name+("mu-plugin"===r.type?" [MU]":"")}}))],o=[[{key:"",label:(0,l.__)("Select a theme","advanced-database-cleaner")}],Object.entries(null===(n=r.data)||void 0===n?void 0:n.themes_list).map((function(e){var t=Yl(e,2);return{key:t[0],label:t[1].name}}))],L(a),P(o),p(a[0][0].key),y(o[0][0].key),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Ft(Y,e.t0.message);case 16:return e.prev=16,R(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}();if(!B)return null;var K=function(){var e=Wl(Bl().mark((function e(){var r,a,o;return Bl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.prev=3,e.next=6,mi({items_type:W});case 6:if(!e.sent.data){e.next=12;break}return Ft(Y,(0,l.__)("A scan is in progress. Please wait until it finishes before performing this action","advanced-database-cleaner")),H(),e.abrupt("return");case 12:if(r=M?"1":"0","p"!==c||f){e.next=16;break}return x(!0),e.abrupt("return");case 16:if("t"!==c||v){e.next=19;break}return E(!0),e.abrupt("return");case 19:"p"===c?a={type:"p",slug:f,send_to_server:r}:"t"===c?a={type:"t",slug:v,send_to_server:r}:(o=["o","u"].includes(c)?"0":r,a={type:c,slug:c,send_to_server:o}),Y(Cm({manualCategorization:a})),Y(xo()),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),Ft(Y,e.t0.message);case 27:return e.prev=27,n(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[3,24,27,30]])})));return function(){return e.apply(this,arguments)}}(),H=function(){Y(xo())};return r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:H},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-md sm:p-6"},r.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:H},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"mx-auto mb-1 mt-2"},r.createElement("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg"},r.createElement(zl.qZP,{className:"h-10 w-10 text-primary","aria-hidden":"true"})),r.createElement("div",{className:"mt-3 text-center"},r.createElement(i.L3,{as:"h3",className:"text-[.95rem] leading-6 text-gray-900"},(0,l.sprintf)((0,l.__)("Assign the %d selected item(s) to:","advanced-database-cleaner"),U)),r.createElement(Ml.z6,{value:c,onChange:u,className:"mt-6"},r.createElement("div",{className:"divide-y rounded-lg border border-gray-300"},Kl.map((function(e,t){return r.createElement(Ml.sx,{key:e.key,value:e.key,className:function(e){var n=e.checked;return k(0===t?"rounded-tl-md rounded-tr-md":"",4===t?"rounded-bl-md rounded-br-md":"",n?"z-10 bg-blue-100":"","relative flex h-[50px] cursor-pointer  items-center px-4")}},(function(t){var n=t.active,a=t.checked;return r.createElement("div",{className:"flex min-w-full justify-between"},r.createElement("span",{className:"flex items-center text-sm"},r.createElement("span",{className:k(a?"border-transparent bg-blue-600":"border-gray-400 bg-white",n?"ring-blue-600":"","flex h-4 w-4 items-center justify-center rounded-full border"),"aria-hidden":"true"},r.createElement("span",{className:"h-1.5 w-1.5 rounded-full bg-white"})),r.createElement(Dl.JU,{as:"span",className:"ml-3 flex items-center gap-x-2 text-[.9rem] text-black"},e.name,"u"===e.key&&r.createElement(j,{content:(0,l.__)("Items will not be assigned to any plugin/theme and will be marked as 'not scanned'","advanced-database-cleaner")}))),r.createElement("span",null,"p"===e.key?z?r.createElement(A,{text:""}):r.createElement(Gl.VY,{as:"span",className:"p"===c?"":"hidden"},r.createElement(fm,{selectItems:S,onSelectionChange:function(e){p(e),x(!1)},minWidthButton:"min-w-[200px]",minWidthContent:"min-w-[300px]",maxHeight:!0,borderColor:b?"border-2 border-red-500":"border-blue-400",truncateMaxWidth:"max-w-[170px]"})):"t"===e.key?z?r.createElement(A,{text:""}):r.createElement(Gl.VY,{as:"span",className:"t"===c?"":"hidden"},r.createElement(fm,{selectItems:T,onSelectionChange:function(e){y(e),E(!1)},minWidthButton:"min-w-[200px]",minWidthContent:"min-w-[300px]",maxHeight:!0,borderColor:w?"border-2 border-red-500":"border-blue-400",truncateMaxWidth:"max-w-[170px]",disabled:!0})):""))}))}))),"p"===c||"t"===c||"w"===c?!0===C?r.createElement("div",{className:"mt-3 flex items-center gap-x-1 rounded-lg border border-gray-200 bg-gray-200/80 px-4 py-3 text-left"},r.createElement("span",null,(0,l.__)("This correction will be sent anonymously to our server","advanced-database-cleaner")),r.createElement(j,{content:r.createElement("span",null,(0,l.__)("You have chosen to submit your manual corrections to the plugin server. To change this, please navigate to the plugin settings page","advanced-database-cleaner")),iconSize:"text-[.9rem]",iconColor:"text-gray-400 mt-1"})):r.createElement("div",{className:"items-top mt-3 flex gap-x-2 rounded-lg border border-purple-200 bg-purple-200/80 px-4 py-3 text-left"},r.createElement("span",null,r.createElement("input",{type:"checkbox",checked:M,onChange:function(e){var t=!!e.target.checked;D(t)}})),r.createElement("span",{className:"text-[.82rem]"},(0,l.__)("Send this correction anonymously to the plugin server?","advanced-database-cleaner")," ",r.createElement(I,{href:"https://docs.sigmaplugin.com/article/59-sending-manual-corrections-to-the-remote-server-in-advanced-database-cleaner-premium?utm_source=edit-categorization-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-send-manual-corrections",target:"_blank",className:"text-[.78rem] font-semibold"},(0,l.__)("Read more","advanced-database-cleaner")))):"")),r.createElement("div",{className:"mb-2 mt-5 flex justify-center gap-x-3 sm:mt-8"},r.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:H},(0,l.__)("Cancel","advanced-database-cleaner")),r.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full bg-primary px-3 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-90 sm:w-auto",disabled:t,onClick:K},(0,l.__)("Confirm","advanced-database-cleaner")))))))))},$l=function(e){var t=e.title,n=e.description,a=e.readMoreLink,o=e.bgColor,i=void 0===o?"bg-gray-100":o,c=e.textColor,s=void 0===c?"text-gray-800":c,u=e.padding,d=void 0===u?"p-6":u,m=e.content,f=e.anchorId;return r.createElement("div",{className:"pb-[45px]"},f&&r.createElement("div",{id:f}),r.createElement("h3",{className:"border-b pb-4 text-[1.15rem] font-semibold text-black"},t),r.createElement("div",{className:"mt-3 text-gray-500"},n," ",a&&r.createElement(I,{href:a,target:"_blank",className:""},(0,l.__)("Read more","advanced-database-cleaner"))),r.createElement("div",{className:"mt-6 rounded-md ".concat(i," ").concat(d," text-sm ").concat(s)},m))};function Vl(e){return Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(e)}function Ql(){Ql=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Vl(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Vl(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Jl(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Zl(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Jl(o,r,a,i,l,"next",e)}function l(e){Jl(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Xl(e){return ec.apply(this,arguments)}function ec(){return(ec=Zl(Ql().mark((function e(t){return Ql().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/update-settings",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e){return nc.apply(this,arguments)}function nc(){return(nc=Zl(Ql().mark((function e(t){return Ql().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-setting",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rc(e){return rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(e)}function ac(){ac=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==rc(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(rc(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function oc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ic(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){oc(o,r,a,i,l,"next",e)}function l(e){oc(o,r,a,i,l,"throw",e)}i(void 0)}))}}function lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const sc=function(){var e=lc((0,r.useState)(null),2),t=e[0],n=e[1],a=lc((0,r.useState)(".."),2),o=a[0],i=a[1],c=lc((0,r.useState)(".."),2),u=c[0],d=c[1],f=lc((0,r.useState)(!1),2),p=f[0],h=f[1],v=lc((0,r.useState)(0),2),y=v[0],g=v[1],b=(0,m.wA)();(0,r.useEffect)((function(){_()}),[]),(0,r.useEffect)((function(){if(t&&void 0!==t.usage&&t.quota){var e=Math.floor(t.usage/t.quota*100);g(e)}}),[t]);var x=t&&t.usage>=t.quota,_=function(){var e=ic(ac().mark((function e(){var t,r,a,o,l;return ac().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tc({key:"api_scan_balance"});case 3:t=e.sent,!0===(null===(r=t)||void 0===r?void 0:r.success)&&(n(null===(a=t)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.value),i(pt(null===(o=t)||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.value)||void 0===o?void 0:o.ttl)),d(ht(null===(l=t)||void 0===l||null===(l=l.data)||void 0===l||null===(l=l.value)||void 0===l?void 0:l.updated_at))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Ft(b,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=ic(ac().mark((function e(){var t,r,a,o,l;return ac().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:return h(!0),g(0),e.prev=4,e.next=7,ui({});case 7:t=e.sent,!0===(null===(r=t)||void 0===r?void 0:r.success)&&(n(null===(a=t)||void 0===a?void 0:a.data),i(pt(null===(o=t)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.ttl)),d(ht(null===(l=t)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.updated_at))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),Ft(b,e.t0.message);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return r.createElement("div",{className:"flex flex-col sm:flex-row"},r.createElement("div",{className:"m-auto max-w-[80px] sm:m-0"},r.createElement("div",{className:"relative size-[80px] rounded-full bg-white shadow-md"},r.createElement("svg",{className:"size-full -rotate-90",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg"},r.createElement("circle",{cx:"18",cy:"18",r:"16",fill:"none",className:"stroke-current text-gray-200",strokeWidth:"3"}),r.createElement("circle",{cx:"18",cy:"18",r:"16",fill:"none",className:"stroke-current ".concat(x?"text-red-600":"text-blue-500"),strokeWidth:"3",strokeDasharray:"100",strokeDashoffset:"".concat(100-y),style:{transition:"stroke-dashoffset 0.5s ease-out"},strokeLinecap:"round"})),r.createElement("div",{className:"absolute start-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform"},r.createElement("span",{className:"text-center text-[16px] font-bold ".concat(x?"text-red-600":"text-blue-500")},y,"%"))),r.createElement("div",{className:"mt-2 hidden text-center text-[12px] sm:!flex"},(0,l.__)("Today's usage","advanced-database-cleaner"))),r.createElement("div",{className:"mt-4 flex flex-col items-center justify-center sm:ml-[40px] sm:mt-0 sm:items-start"},r.createElement("div",{className:"flex flex-col items-center gap-1 sm:items-start"},r.createElement("div",null,(0,l.__)("Credits used today:","advanced-database-cleaner")," ",r.createElement("span",{className:" font-bold"},(null==t?void 0:t.usage)>=0?null==t?void 0:t.usage:".."),"/",r.createElement("span",{className:"font-bold"},(null==t?void 0:t.quota)||"..")),(null==t?void 0:t.ttl)>0?r.createElement("div",{className:"text-center sm:text-left"},(0,l.__)("Credits reset in:","advanced-database-cleaner")," ",r.createElement("div",{className:"flex sm:!hidden"}),r.createElement("span",{className:"text-[13px] font-semibold"},o)):null),r.createElement("div",{className:"mt-4 flex flex-col items-center gap-2 sm:flex-row"},r.createElement(w,{Icon:s.Vt$,text:p?(0,l.__)("Refreshing...","advanced-database-cleaner"):(0,l.__)("Refresh info","advanced-database-cleaner"),className:"h-[1.6rem]",shouldAnimate:p,onClick:function(){return E()}}),r.createElement("div",{className:"text-[12px] text-gray-700"},"[",(0,l.__)("Last refresh:","advanced-database-cleaner")," ",u,"]")),x?r.createElement("div",{className:"mt-4 text-center text-[12px] text-red-600 sm:text-left"},(0,l.__)("You have reached your daily limit for remote server requests. Please wait for your credits to reset or upgrade your license for a higher limit.","advanced-database-cleaner")," ",r.createElement(I,{href:"https://docs.sigmaplugin.com/article/102-upgrade-my-license?utm_source=scan-balance-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-upgrade-license",target:"_blank",className:"text-[.78rem] font-semibold"},(0,l.__)("Upgrade my license","advanced-database-cleaner"))):null))},uc=function(){var e=(0,m.d4)((function(e){return e.scan.isScanBalanceModalShown})),t=(0,m.wA)();if(!e)return null;var n=function(){t(go())};return r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:n},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-xl sm:p-6"},r.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:n},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"mx-auto mt-2"},r.createElement($l,{title:(0,l.__)("Remote scan credits","advanced-database-cleaner"),description:(0,l.__)("Daily credit balance for enhancing local scan accuracy via remote server analysis. Each credit enables one request to improve detection of tables, options, and other elements linked to specific plugins and themes.","advanced-database-cleaner"),readMoreLink:"https://docs.sigmaplugin.com/article/58-understanding-documentation-remote-scan-credits-in-advanced-database-cleaner-premium?utm_source=scan-balance-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-credits",content:r.createElement(sc,null)})))))))};function dc(e){return dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(e)}function mc(){mc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==dc(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(dc(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function fc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const vc=function(){var e=pc((0,r.useState)(""),2),t=e[0],n=e[1],a=pc((0,r.useState)(""),2),c=a[0],d=a[1],f=pc((0,r.useState)(""),2),p=f[0],h=f[1],v=pc((0,r.useState)(!1),2),y=v[0],g=v[1],b=pc((0,r.useState)(!1),2),x=b[0],_=b[1],w=(0,m.d4)((function(e){return e.shared})),E=w.name,N=w.siteId,k=w.rowId,S=w.currentTabId,L=w.currentSubTabId,j=w.transientFoundIn,O=w.isContentValueModalShown,T="general_cleanup"===S?L:S,P=(0,m.wA)();(0,r.useEffect)((function(){O&&C()}),[O]);var C=function(){var e,t=(e=mc().mark((function e(){var t;return mc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,oe({itemsType:T,siteId:N,rowId:k,transientFoundIn:j});case 4:t=e.sent,h(null==t?void 0:t.data.type),n(null==t?void 0:t.data.value),d((null==t?void 0:t.data.pretty_json)||""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Ft(P,e.t0.message);case 13:return e.prev=13,g(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){fc(o,r,a,i,l,"next",e)}function l(e){fc(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),A=function(){n(""),d(""),h(""),g(!1),_(!1),P(Wd())};return O?r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:A},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-xl sm:p-6"},y&&r.createElement("div",{className:"absolute inset-0 z-20 flex items-center justify-center rounded-lg bg-white/80"},r.createElement(Ho.kiM,{className:"h-8 w-8 animate-spin text-gray-500"})),r.createElement("div",{className:"absolute right-0 top-0 z-10 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:A},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"relative mt-6 flex flex-col gap-3 px-4 py-2"},r.createElement("h2",{className:"break-words text-lg font-semibold text-gray-800"},E),r.createElement("div",{className:"flex flex-row justify-between"},r.createElement("span",{className:"flex items-center rounded bg-gray-600 px-1 py-[1px] text-[.6rem] font-semibold uppercase tracking-wider text-white"},p.replace(/_/g," ")),r.createElement("div",{className:"flex items-center gap-2"},c&&r.createElement(I,{href:"#",className:"ml-auto px-2 py-[2px] text-[.7rem] font-medium text-gray-700",onClick:function(e){e.preventDefault(),_((function(e){return!e}))}},x?(0,l.__)("Show original value","advanced-database-cleaner"):(0,l.__)("Show formatted value","advanced-database-cleaner")),r.createElement(I,{href:"#",onClick:function(e){e.preventDefault(),C()},className:"text-gray-600 hover:text-gray-900"},r.createElement(u.JbZ,{className:"h-4 w-4 ".concat(y?"animate-spin":"")}))))),r.createElement("div",{className:"relative mx-auto mt-2 max-h-[70vh] overflow-y-auto px-4 py-2"},x?r.createElement("pre",{className:"overflow-x-auto whitespace-pre break-all rounded-xl border bg-gray-100 p-4 text-[13px]"},c):r.createElement("pre",{className:"whitespace-pre-wrap break-all rounded-xl border bg-gray-100 p-4 text-[13px]"},t))))))):null};var yc=function(e,t){var n=document.getElementById(e);n&&(n.style.display=t)},gc=function(e,t){var n=document.querySelector(e);n&&(n.style.display=t)},bc=function(e){var t=document.getElementById(e),n=t?t.innerText.replace(/\D/g,""):"";return n?parseInt(n):0};function xc(e){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(e)}function _c(){_c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==xc(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(xc(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function wc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kc=[{id:1,title:(0,l.__)("Local scan only","advanced-database-cleaner"),description:(0,l.__)("Less accurate","advanced-database-cleaner"),moreInfo:(0,l.__)("The plugin will only scan your items against your local files; no data will be sent to the remote database.","advanced-database-cleaner"),value:"local",readMoreLink:"",recommended:!1},{id:2,title:(0,l.__)("Local & remote scan","advanced-database-cleaner"),description:(0,l.__)("More accurate","advanced-database-cleaner"),moreInfo:(0,l.__)("The plugin will begin by scanning items against your local files, then it will anonymously send the scan results to a secure remote database for more accurate results.","advanced-database-cleaner"),value:"full",readMoreLink:"https://docs.sigmaplugin.com/article/57-the-remote-scan-in-advanced-database-cleaner-precision-meets-security?utm_source=start-scan-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-info",recommended:!0}];const Sc=function(){var e=(0,m.d4)((function(e){return e.scan.isScanModalShown})),t=(0,m.d4)((function(e){return e.scan.whoOpenedScanModal})),n=(0,m.d4)((function(e){return e.action.selectedItems.length})),a=(0,m.d4)((function(e){return e.shared.currentTabId})),c=(0,m.d4)(He),u=bc("adbc-categorization-all"),f=bc("adbc-categorization-not-scanned"),p=[{id:1,title:(0,l.__)("All items","advanced-database-cleaner"),value:"all",total:u,active:!0},{id:2,title:(0,l.__)("Not scanned","advanced-database-cleaner"),value:"uncategorized",total:f,active:f>0},{id:3,title:(0,l.__)("Selected","advanced-database-cleaner"),value:"selected",total:n,active:n>0}],h=Ec((0,r.useState)(!1),2),v=h[0],y=h[1],g=Ec((0,r.useState)(kc[0]),2),b=g[0],x=g[1],_=Ec((0,r.useState)(p[0]),2),w=_[0],E=_[1],N=Ec((0,r.useState)(!1),2),k=N[0],L=N[1],O=(0,m.wA)();if((0,r.useEffect)((function(){if(!1!==e)switch(t){case"dataTableColumn":E(p[1]);break;case"bulkAction":E(p[2]);break;default:E(p[0])}}),[e]),!e)return null;var T=function(){var e,t=(e=_c().mark((function e(){return _c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return y(!0),e.prev=3,e.next=6,mi({items_type:a});case 6:if(!e.sent.data){e.next=12;break}return Ft(O,(0,l.__)("A scan is already in progress. Please reload the page to see the current scan status.","advanced-database-cleaner")),P(),e.abrupt("return");case 12:O(vo({scanType:b.value,whatToScan:w.value,overrideManualCategorization:k})),P(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),Ft(O,e.t0.message);case 19:return e.prev=19,y(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wc(o,r,a,i,l,"next",e)}function l(e){wc(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),P=function(){x(kc[0]),E(p[0]),L(!1),O(ho())};return r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:P},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-xl sm:p-6"},r.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:P},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"mx-auto mb-4 mt-3"},r.createElement(d.h4T,{className:"mx-auto p-[5px] text-[2.5rem] text-blue-500"}),r.createElement(i.L3,{as:"h3",className:"text-center text-[1rem] font-semibold text-gray-900"},(0,l.__)("Select the scan configuration","advanced-database-cleaner")),r.createElement("div",{className:"text-center text-[.75rem] text-gray-900"},(0,l.__)("The scan will identify which plugins or themes your items are associated with","advanced-database-cleaner")),r.createElement("div",{className:"relative mt-6"},r.createElement("div",{"aria-hidden":"true",className:"absolute inset-0 flex items-center"},r.createElement("div",{className:"w-full border-t border-gray-300"})),r.createElement("div",{className:"relative flex items-center justify-start"},r.createElement("span",{className:"bg-white pr-1 text-[.8rem] text-gray-900"},(0,l.__)("Scan type","advanced-database-cleaner")))),r.createElement(Ml.z6,{value:b.id,onChange:function(e){return x(kc.find((function(t){return t.id===e})))},className:"mt-4 grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-2"},kc.map((function(e){return r.createElement(Ml.sx,{key:"scan_type_"+e.id,value:e.id,className:"group relative flex cursor-pointer rounded-lg border border-gray-300 bg-white p-4 shadow-md focus:outline-none data-[focus]:border-blue-600 data-[checked]:bg-blue-50 data-[focus]:ring-2 data-[focus]:ring-blue-600"},r.createElement("span",{className:"flex flex-1"},r.createElement("span",{className:"flex flex-col"},r.createElement("span",{className:"flex items-center text-[.95rem] font-semibold text-black underline decoration-gray-500/60 decoration-dashed decoration-1 underline-offset-4"},r.createElement(j,{content:r.createElement("span",null,e.moreInfo," ",e.readMoreLink&&r.createElement(I,{href:e.readMoreLink,target:"_blank",className:"text-[.78rem] font-semibold !text-blue-300 hover:!text-blue-500"},(0,l.__)("Read more","advanced-database-cleaner")))},e.title)),r.createElement("span",{className:"mt-1 flex items-center text-[.8rem] text-gray-700"},e.description,e.recommended&&r.createElement("span",{className:"pl-1 text-[.7rem] font-semibold text-green-700"},"[",(0,l.__)("Recommended","advanced-database-cleaner"),"]")))),r.createElement(F.OLr,{"aria-hidden":"true",className:"relative -right-2 -top-2 h-5 w-5 text-blue-600 [.group:not([data-checked])_&]:invisible"}),r.createElement("span",{"aria-hidden":"true",className:"pointer-events-none absolute -inset-px rounded-lg border-2 border-transparent group-data-[focus]:border group-data-[checked]:border-blue-600"}))}))),r.createElement("div",{className:"relative mt-6"},r.createElement("div",{"aria-hidden":"true",className:"absolute inset-0 flex items-center"},r.createElement("div",{className:"w-full border-t border-gray-300"})),r.createElement("div",{className:"relative flex items-center justify-start"},r.createElement("span",{className:"bg-white pr-1 text-[.8rem] text-gray-900"},(0,l.__)("Items to scan","advanced-database-cleaner")))),r.createElement(Ml.z6,{value:w.id,onChange:function(e){return E(p.find((function(t){return t.id===e})))},className:"mt-4 grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-3"},p.map((function(e){return r.createElement(Ml.sx,{key:"to_scan_"+e.id,value:e.id,disabled:!e.active,className:"group relative flex ".concat(e.active?"cursor-pointer":"cursor-not-allowed"," rounded-lg border border-gray-300 bg-white px-4 py-2 shadow-md focus:outline-none data-[focus]:border-blue-600 data-[checked]:bg-blue-50 data-[focus]:ring-2 data-[focus]:ring-blue-600")},r.createElement("span",{className:"flex w-full justify-between sm:flex-col sm:gap-y-[2px]"},r.createElement("span",{className:"text-sm font-medium text-gray-900"},e.title),(!c||"selected"===e.value)&&r.createElement("span",{className:"text-[.75rem] text-gray-700"},e.total)),r.createElement(F.OLr,{"aria-hidden":"true",className:"relative -right-[8px] -top-[1px] h-5 w-5 text-blue-600 [.group:not([data-checked])_&]:invisible"}),r.createElement("span",{"aria-hidden":"true",className:"pointer-events-none absolute -inset-px rounded-lg border-2 border-transparent group-data-[focus]:border group-data-[checked]:border-blue-600"}))}))),r.createElement("div",{className:"mt-6 flex items-center gap-x-1 rounded-xl border-gray-400 bg-gray-100 p-4 shadow-sm"},r.createElement(S,{text:(0,l.__)("Override manual corrections?","advanced-database-cleaner"),textStyle:"text-[.8rem]",toggleSize:"small",toggleChangeCallback:function(e){return L(e)},isActive:k}),r.createElement(j,{content:r.createElement("span",null,(0,l.__)("This will override any manual 'belongs to' corrections you have made. If you are unsure, leave this option disabled.","advanced-database-cleaner")),iconSize:"text-[1rem]"},r.createElement(qo.JFS,{className:"mt-[2px] h-[14px] w-[14px] text-gray-500"}))),r.createElement("button",{className:"mt-10 flex h-[40px] w-full min-w-[280px] items-center justify-center gap-x-2 rounded-lg bg-blue-600 px-4 text-sm font-semibold tracking-wide text-white hover:bg-blue-500",disabled:v,onClick:T},r.createElement("span",null,(0,l.__)("Start the scan","advanced-database-cleaner"))),"full"===b.value&&r.createElement("div",{className:"mt-6 text-[.8rem] text-gray-600"},(0,l.__)("By starting this scan, you agree to anonymously send the local scan results to our secure remote database to improve your scan accuracy. No personal data is collected.","advanced-database-cleaner")," ",r.createElement(I,{href:"https://docs.sigmaplugin.com/article/57-the-remote-scan-in-advanced-database-cleaner-precision-meets-security?utm_source=start-scan-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-user-consent",target:"_blank",className:"text-[.7rem] font-semibold"},(0,l.__)("Read more","advanced-database-cleaner")))))))))};function Lc(e){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(e)}function jc(){jc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Lc(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Lc(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Oc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}const Tc=function(e){var t=e.tabName,n=e.actions,o=e.columns,i=(0,m.d4)((function(e){return e.action})),c=jm(t),s=(0,m.wA)(),u=(0,a.jE)();(0,r.useEffect)((function(){d()}),[i]);var d=function(){var e,n=(e=jc().mark((function e(){var n;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==i.processAction||null===i.actionType){e.next=20;break}return e.prev=1,e.next=4,Ga(i.actionType,i);case 4:r=null==(n=e.sent)?void 0:n.data,void 0,void 0,a=(0,l.__)("Completed successfully!","advanced-database-cleaner"),o=(0,l.sprintf)((0,l._n)(" %d item could not be processed."," %d items could not be processed.",r,"advanced-database-cleaner"),r),Ct(s,r>0?o:a),c?u.removeQueries({queryKey:["custom_cleanup",t]}):u.removeQueries({queryKey:[t]}),s(Gm()),s(Ye()),s(em()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),Ft(s,e.t0.message);case 16:return e.prev=16,s(Mm()),s(da()),e.finish(16);case 20:case"end":return e.stop()}var r,a,o}),e,null,[[1,13,16,20]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Oc(o,r,a,i,l,"next",e)}function l(e){Oc(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return r.createElement(r.Fragment,null,c?r.createElement(qi,{tabName:t,actions:n,columns:o}):"tables"===t?r.createElement(gl,{actions:n,columns:o}):"options"===t?r.createElement(el,{actions:n,columns:o}):"transients"===t?r.createElement(jl,{actions:n,columns:o}):"posts_meta"===t?r.createElement(sl,{actions:n,columns:o}):"users_meta"===t?r.createElement(Fl,{actions:n,columns:o}):"cron_jobs"===t?r.createElement(Ci,{actions:n,columns:o}):r.createElement("div",null,(0,l.__)("Not supported!","advanced-database-cleaner")),r.createElement(Hl,null),r.createElement(Sc,null),r.createElement(uc,null),r.createElement(vc,null))},Pc=function(e){var t=e.subTab,n=[[{key:"bulk_actions",label:(0,l.__)("Bulk actions","advanced-database-cleaner")}],[{key:"delete_"+t,label:(0,l.__)("Delete","advanced-database-cleaner")}]],a=Sm(t);return r.createElement(Tc,{tabName:t,actions:n,columns:a})};var Ic=n(7876),Cc=n(7571);function Ac(e){return Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(e)}function Fc(){Fc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ac(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ac(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Mc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Dc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Mc(o,r,a,i,l,"next",e)}function l(e){Mc(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Gc(e,t){return zc.apply(this,arguments)}function zc(){return(zc=Dc(Fc().mark((function e(t,n){return Fc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/general-cleanup/get-general-data",{method:"POST",data:t,signal:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(e){return Bc.apply(this,arguments)}function Bc(){return(Bc=Dc(Fc().mark((function e(t){return Fc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/general-cleanup/purge-items",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uc(e){return Wc.apply(this,arguments)}function Wc(){return(Wc=Dc(Fc().mark((function e(t){return Fc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/general-cleanup/set-keep-last",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(){return qc.apply(this,arguments)}function qc(){return(qc=Dc(Fc().mark((function e(){return Fc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/general-cleanup/get-keep-last",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e){return Hc.apply(this,arguments)}function Hc(){return(Hc=Dc(Fc().mark((function e(t){return Fc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/general-cleanup/delete-keep-last",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(e){return $c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(e)}function Vc(){Vc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==$c(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError($c(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(n),!0).forEach((function(t){Zc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zc(e,t,n){return(t=function(e){var t=function(e){if("object"!=$c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function es(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Xc(o,r,a,i,l,"next",e)}function l(e){Xc(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ns(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ns(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rs=[[{key:"days",label:(0,l.__)("Days","advanced-database-cleaner"),tooltipText:(0,l.__)("Preserve items from the last X days from being cleaned.","advanced-database-cleaner")},{key:"items",label:"FREE"===R?r.createElement("span",{className:"flex items-center"},(0,l.__)("Items","advanced-database-cleaner"),r.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("(premium)","advanced-database-cleaner"))):(0,l.__)("Items","advanced-database-cleaner"),disabled:"FREE"===R,tooltipText:r.createElement("span",null,(0,l.__)("Keep the last X items for each parent (e.g., the last 5 revisions per post). If an item has no parent, keep the last X items globally.","advanced-database-cleaner"),"FREE"===R&&r.createElement("div",{className:"flex text-yellow-600"},(0,l.__)("Available in the premium version.","advanced-database-cleaner")))}]],as=["revisions","auto_drafts","unapproved_comments","spam_comments","trashed_comments","pingbacks","trackbacks"],os=["trashed_posts","actionscheduler_completed_actions","actionscheduler_failed_actions","actionscheduler_canceled_actions","actionscheduler_completed_logs","actionscheduler_failed_logs","actionscheduler_canceled_logs","actionscheduler_orphan_logs"];const is=function(e){var t,n=e.isOpen,a=e.itemKey,c=e.itemLabel,d=e.onClose,f=e.onSave,p=e.allItemKeys,h=void 0===p?[]:p,y=ts((0,r.useState)({currentType:"days",currentValue:0,loading:!0,applyToAll:!1}),2),g=y[0],b=y[1],x=ts((0,r.useState)(!1),2),_=x[0],w=x[1],E=(0,m.wA)();(0,r.useEffect)((function(){var e=function(){var e=es(Vc().mark((function e(){var t,r,o;return Vc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&a){e.next=2;break}return e.abrupt("return");case 2:return b((function(e){return Jc(Jc({},e),{},{loading:!0})})),e.prev=3,e.next=6,Yc();case 6:t=e.sent,(r=t.data)[a]?(o=r[a],b({currentType:o.type,currentValue:o.value,loading:!1,applyToAll:!1})):b({currentType:"days",currentValue:0,loading:!1,applyToAll:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),Ft(E,e.t0.message),b((function(e){return Jc(Jc({},e),{},{loading:!1})}));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,a,E]);var N=function(){var e=es(Vc().mark((function e(){var t,n,r,o,i;return Vc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),e.prev=1,0!==(t=parseInt(g.currentValue,10))){e.next=9;break}return n=g.applyToAll?h:[a],e.next=7,Kc({itemsTypes:n});case 7:e.next=12;break;case 9:return g.applyToAll?(o={},h.forEach((function(e){o[e]={type:g.currentType,value:t}})),r={keepLast:o}):r={keepLast:Zc({},a,{type:g.currentType,value:t})},e.next=12,Uc(r);case 12:Ct(E,(0,l.__)("Updated successfully!","advanced-database-cleaner")),i=g.applyToAll?h:[a],f&&f(i),d(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),Ft(E,e.t0.message);case 21:return e.prev=21,w(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})));return function(){return e.apply(this,arguments)}}(),k=function(){d(),b({currentType:"days",currentValue:0,loading:!0,applyToAll:!1}),w(!1)};return r.createElement(o.e,{appear:!0,show:n,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:k},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-md sm:p-6"},r.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:k},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"mx-auto mb-1 mt-2"},r.createElement("div",{className:"mt-3 text-left"},r.createElement(i.L3,{as:"h3",className:"mb-4 text-base font-bold leading-6 text-gray-900"},!g.loading&&c),g.loading?r.createElement("div",{className:"flex items-center justify-center py-8"},r.createElement(u.JbZ,{className:"animate-spin text-[1.5rem] text-blue-500"}),r.createElement("span",{className:"ml-2 text-gray-600"},(0,l.__)("Loading settings...","advanced-database-cleaner"))):r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-4 mt-8 flex items-center gap-2"},r.createElement("span",{className:"flex h-[2rem] items-center whitespace-nowrap rounded-lg bg-gray-100 px-2 text-[.8rem] font-semibold text-gray-900"},(0,l.__)("Keep last","advanced-database-cleaner")),r.createElement(v,{placeholder:(0,l.__)("Enter number","advanced-database-cleaner"),className:"!h-[2rem] !max-h-[2rem] !min-h-[2rem] w-[6rem] !border-gray-300",onChange:function(e){var t=e.target.value.replace(/[^0-9]/g,""),n=parseInt(t,10),r=isNaN(n)?0:Math.min(n,1e4);b((function(e){return Jc(Jc({},e),{},{currentValue:r})}))},value:g.currentValue,type:"number",min:"0",max:"10000"}),r.createElement(fm,{selectItems:rs,selectedItem:null!==(t=rs[0].find((function(e){return e.key===g.currentType})))&&void 0!==t?t:rs[0][0],onSelectionChange:function(e){b((function(t){return Jc(Jc({},t),{},{currentType:e})}))},minWidthButton:"min-w-[100px]",minWidthContent:"FREE"===R?"min-w-[180px]":"min-w-[120px]",borderColor:"border-gray-400"}),r.createElement("span",{className:"flex h-[2rem] items-center text-[.8rem] text-gray-900"},"days"===g.currentType&&(0,l.__)("of data","advanced-database-cleaner"),"items"===g.currentType&&(as.includes(a)?(0,l.__)("per post","advanced-database-cleaner"):os.includes(a)?(0,l.__)("in total","advanced-database-cleaner"):""))),r.createElement("div",{className:"mb-6"},0===parseInt(g.currentValue,10)&&r.createElement("div",{className:"mt-2 rounded-md bg-orange-100 px-3 py-1"},r.createElement("p",{className:"text-[.75rem] text-orange-800"},(0,l.__)("No items are kept with this configuration.","advanced-database-cleaner")))),r.createElement("div",{className:"mb-8 mt-8 flex items-center gap-1"},r.createElement("input",{type:"checkbox",checked:g.applyToAll,onChange:function(e){return b((function(t){return Jc(Jc({},t),{},{applyToAll:e.target.checked})}))},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.createElement("span",{className:"-mt-[4px] text-[.8rem] text-gray-700"},(0,l.__)("Apply this to all other items (if applicable)","advanced-database-cleaner"))))),!g.loading&&r.createElement("div",{className:"mb-2 mt-5 flex justify-center gap-x-3 sm:mt-6"},r.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:k},(0,l.__)("Cancel","advanced-database-cleaner")),r.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] items-center justify-center gap-2 rounded-full bg-primary px-3 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-90 disabled:opacity-50 sm:w-auto",onClick:N,disabled:g.loading||_||"FREE"===R&&"items"===g.currentType},_?r.createElement(r.Fragment,null,r.createElement(u.JbZ,{className:"animate-spin text-[1rem]"}),(0,l.__)("Saving...","advanced-database-cleaner")):(0,l.__)("Save","advanced-database-cleaner"))),"FREE"===R&&"items"===g.currentType&&r.createElement("div",{className:"mt-4 rounded-lg border border-yellow-500 bg-yellow-50 px-3 py-2"},r.createElement("p",{className:"text-[.75rem] text-yellow-800"},(0,l.__)("The retention by items is available in the premium version.","advanced-database-cleaner")))))))))};function ls(e){return ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(e)}function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function us(e,t,n){return(t=function(e){var t=function(e){if("object"!=ls(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ls(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ls(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ds(){ds=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==ls(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ls(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function ms(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function fs(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ms(o,r,a,i,l,"next",e)}function l(e){ms(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ps(e){return function(e){if(Array.isArray(e))return ys(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||vs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vs(e,t){if(e){if("string"==typeof e)return ys(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ys(e,t):void 0}}function ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gs=[{title:(0,l.__)("Posts","advanced-database-cleaner"),show:!0,items:[{key:"revisions",label:(0,l.__)("Revisions","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-revisions-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-revisions"),show:!0},{key:"auto_drafts",label:(0,l.__)("Auto drafts","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-auto-drafts-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-auto-drafts"),show:!0},{key:"trashed_posts",label:(0,l.__)("Trashed posts","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-trashed-posts-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-trashed-posts"),show:!0}]},{title:(0,l.__)("Comments","advanced-database-cleaner"),show:!0,items:[{key:"unapproved_comments",label:(0,l.__)("Unapproved comments","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-unapproved-comments-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-unapproved-comments"),show:!0},{key:"spam_comments",label:(0,l.__)("Spam comments","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-spam-comments-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-spam-comments"),show:!0},{key:"trashed_comments",label:(0,l.__)("Trashed comments","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-trashed-comments-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-trashed-comments"),show:!0},{key:"pingbacks",label:(0,l.__)("Pingbacks","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-pingbacks-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-pingbacks"),show:!0},{key:"trackbacks",label:(0,l.__)("Trackbacks","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/what-are-wordpress-trackbacks-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-trackbacks"),show:!0}]},{title:(0,l.__)("Meta / relations","advanced-database-cleaner"),show:!0,items:[{key:"unused_postmeta",label:(0,l.__)("Unused post meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-postmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-unused-postmeta"),show:!0},{key:"duplicated_postmeta",label:(0,l.__)("Duplicated post meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-duplicated-postmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-duplicated-postmeta"),show:!0},{key:"unused_commentmeta",label:(0,l.__)("Unused comment meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-commentmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-unused-commentmeta"),show:!0},{key:"duplicated_commentmeta",label:(0,l.__)("Duplicated comment meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-duplicated-commentmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-duplicated-commentmeta"),show:!0},{key:"unused_usermeta",label:(0,l.__)("Unused user meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-usermeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-unused-usermeta"),show:!0},{key:"duplicated_usermeta",label:(0,l.__)("Duplicated user meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-duplicated-usermeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-duplicated-usermeta"),show:!0},{key:"unused_termmeta",label:(0,l.__)("Unused term meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-termmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-unused-termmeta"),show:!0},{key:"duplicated_termmeta",label:(0,l.__)("Duplicated term meta","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-duplicated-termmeta-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-duplicated-termmeta"),show:!0},{key:"oembed_caches",label:(0,l.__)("oEmbed caches","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-oembed-caches-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-oembed-caches"),show:!0},{key:"unused_relationships",label:(0,l.__)("Unused relationships","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-unused-relationships-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-unused-relationships"),show:!0}]},{title:(0,l.__)("Transients","advanced-database-cleaner"),show:!0,items:[{key:"expired_transients",label:(0,l.__)("Expired transients","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-expired-transients-and-how-to-clean-them?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-expired-transients"),show:!0}]},{title:(0,l.__)("Action Scheduler","advanced-database-cleaner"),show:"PREMIUM"===R&&("1"===K||"1"===H),items:[{key:"actionscheduler_completed_actions",label:(0,l.__)("Completed actions","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-as-completed-actions"),show:"1"===K},{key:"actionscheduler_failed_actions",label:(0,l.__)("Failed actions","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-as-failed-actions"),show:"1"===K},{key:"actionscheduler_canceled_actions",label:(0,l.__)("Canceled actions","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-as-canceled-actions"),show:"1"===K},{key:"actionscheduler_completed_logs",label:(0,l.__)("Completed logs","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-as-completed-logs"),show:"1"===H},{key:"actionscheduler_failed_logs",label:(0,l.__)("Failed logs","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-as-failed-logs"),show:"1"===H},{key:"actionscheduler_canceled_logs",label:(0,l.__)("Canceled logs","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-as-canceled-logs"),show:"1"===H},{key:"actionscheduler_orphan_logs",label:(0,l.__)("Orphan logs","advanced-database-cleaner"),hasKeepLast:!0,url:"https://sigmaplugin.com/blog/how-to-clean-action-scheduler-data-actions-and-logs-in-advanced-database-cleaner-premium/?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-as-orphan-logs"),show:"1"===H}]},{title:(0,l.__)("Database","advanced-database-cleaner"),show:!0,items:[{key:"tables_to_optimize",label:(0,l.__)("Optimize tables","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-tables-to-optimize-and-how-to-clean-them/?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-tables-to-optimize"),show:!0},{key:"tables_to_repair",label:(0,l.__)("Repair tables","advanced-database-cleaner"),hasKeepLast:!1,url:"https://sigmaplugin.com/blog/what-are-tables-to-repair-and-how-to-clean-them/?utm_source=general-cleanup&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=blog-what-are-tables-to-repair"),show:!0}]}],bs=function(e){var t=e.actionData,n=e.checkedCount,a=(e.isLoading,e.isProcessingCleanup),o=e.onClick;return r.createElement("button",{className:"flex h-[40px] min-w-[280px] items-center justify-center gap-x-2 rounded-lg bg-blue-500 px-4 text-sm font-semibold tracking-wide text-white hover:bg-blue-600 ".concat(!n||a?"pointer-events-none opacity-80":""),disabled:!n||a,onClick:o},a&&"cleanSelectedItems"===t.actionType?r.createElement(u.JbZ,{className:"animate-spin text-[1.2rem]"}):r.createElement(Ko.yRo,{className:"text-[1.2rem]"}),(0,l.__)("Run selected cleanups","advanced-database-cleaner")," (",n,")")};function xs(){var e=hs((0,r.useState)({actionType:"",itemToCleanup:"",itemsToCleanup:new Set}),2),t=e[0],n=e[1],o=hs((0,r.useState)({isOpen:!1,itemKey:"",itemLabel:""}),2),i=o[0],c=o[1],s=hs((0,r.useState)(null),2),f=s[0],p=s[1],h=hs((0,r.useState)(new Set),2),v=h[0],y=h[1],g=hs((0,r.useState)(!1),2),b=g[0],x=g[1],_=hs((0,r.useState)(new Set),2),E=_[0],N=_[1],k=hs((0,r.useState)(!0),2),S=k[0],L=k[1],O=(0,m.d4)((function(e){return e.action.processAction})),T=(0,m.wA)(),P=(0,a.jE)(),C=(0,r.useMemo)((function(){return gs.filter((function(e){return e.show})).flatMap((function(e){return e.items.filter((function(e){return e.show})).map((function(e){return e.key}))}))}),[]),A=(0,r.useMemo)((function(){return gs.filter((function(e){return e.show})).flatMap((function(e){return e.items.filter((function(e){return e.show})).filter((function(e){return e.hasKeepLast})).map((function(e){return e.key}))}))}),[]),M=(0,r.useMemo)((function(){var e=new Map;gs.forEach((function(t){t.show&&t.items.forEach((function(t){e.set(t.key,t.show)}))}));var t=function(t){return t.filter((function(t){return!0===e.get(t)}))};return[t(["revisions","auto_drafts","trashed_posts"]),t(["unapproved_comments","spam_comments","trashed_comments","pingbacks","trackbacks"]),t(["unused_commentmeta","duplicated_commentmeta","unused_usermeta","duplicated_usermeta","unused_termmeta","duplicated_termmeta","unused_relationships","expired_transients"]),t(["actionscheduler_completed_actions","actionscheduler_failed_actions","actionscheduler_canceled_actions","actionscheduler_completed_logs","actionscheduler_failed_logs","actionscheduler_canceled_logs","actionscheduler_orphan_logs"]),t(["tables_to_optimize","tables_to_repair"]),t(["duplicated_postmeta"]),t(["unused_postmeta"]),t(["oembed_caches"])].filter((function(e){return e.length>0}))}),[]),D=(0,Cc.E)({queries:M.map((function(e,t){return{queryKey:["general_cleanup","group",t].concat(ps(e)),queryFn:(n=fs(ds().mark((function n(r){var a,o,i;return ds().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.signal,n.next=3,new Promise((function(e){return setTimeout(e,500*t)}));case 3:return n.next=5,Gc({itemsType:e},a);case 5:return o=n.sent,i=o.data,n.abrupt("return",(null==i?void 0:i.items)||{});case 8:case"end":return n.stop()}}),n)}))),function(e){return n.apply(this,arguments)}),enabled:!0};var n}))}),G=(0,r.useMemo)((function(){var e={};return M.forEach((function(t,n){var r=D[n];null!=r&&r.data&&t.forEach((function(t){r.data[t]&&(e[t]=r.data[t])}))})),e}),[M,D]),z=(0,r.useMemo)((function(){var e=new Set;return M.forEach((function(t,n){var r=D[n];null!=r&&r.isFetching&&t.forEach((function(t){e.add(t)}))})),e}),[M,D]),B=(0,r.useMemo)((function(){var e={};return M.forEach((function(t,n){var r=D[n],a=null==r?void 0:r.refetch;a&&t.forEach((function(t){e[t]=a}))})),e}),[M,D]),U=(0,r.useMemo)((function(){var e=0,t=0;return Object.values(G).forEach((function(n){n&&(e+=Number(n.size||0),t+=Number(n.count||0))})),{size:e,count:t}}),[G]),W=D.some((function(e){return e.isFetching}));(0,r.useEffect)((function(){D.length>0&&L(!1)}),[D.length]),(0,r.useEffect)((function(){q()}),[O]);var Y=function(){var e=fs(ds().mark((function e(t){var n,r,a,o,i,l,c,s,u;return ds().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N((function(e){return new Set([].concat(ps(e),[t]))})),e.prev=1,e.next=4,Gc({itemsType:t});case 4:r=e.sent,null!=(a=r.data)&&null!==(n=a.items)&&void 0!==n&&n[t]&&(o=M.findIndex((function(e){return e.includes(t)})),-1!==o&&(i=M[o],l=["general_cleanup","group",o].concat(ps(i)),c=P.getQueryData(l)||{},s=ss(ss({},c),{},us({},t,a.items[t])),P.setQueryData(l,s))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),(u=B[t])&&u();case 13:return e.prev=13,N((function(e){var n=new Set(e);return n.delete(t),n})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=fs(ds().mark((function e(){var r,a,o,i,c,s;return ds().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=2;break}return e.abrupt("return");case 2:if(x(!0),y(new Set),r=new Set,e.prev=5,"cleanOneItem"!==t.actionType){e.next=15;break}return a=t.itemToCleanup,p(a),e.next=11,Rc({itemsType:a});case 11:y((function(e){return new Set([].concat(ps(e),[a]))})),r.add(a),e.next=24;break;case 15:if("cleanSelectedItems"!==t.actionType){e.next=24;break}o=Array.from(t.itemsToCleanup),i=ds().mark((function e(){var t;return ds().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s[c],p(t),e.next=4,Rc({itemsType:t});case 4:y((function(e){return new Set([].concat(ps(e),[t]))})),r.add(t);case 6:case"end":return e.stop()}}),e)})),c=0,s=o;case 19:if(!(c<s.length)){e.next=24;break}return e.delegateYield(i(),"t0",21);case 21:c++,e.next=19;break;case 24:r.forEach((function(e){return Y(e)})),n({actionType:"",itemToCleanup:"",itemsToCleanup:new Set}),Ct(T,(0,l.__)("Cleanup completed successfully!","advanced-database-cleaner")),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(5),Ft(T,e.t1.message);case 32:return e.prev=32,T(Mm()),p(null),x(!1),y(new Set),e.finish(32);case 38:case"end":return e.stop()}}),e,null,[[5,29,32,38]])})));return function(){return e.apply(this,arguments)}}(),$=function(){if(0!==t.itemsToCleanup.size){n((function(e){return ss(ss({},e),{},{actionType:"cleanSelectedItems",itemToCleanup:""})})),T(Im({actionType:"run_general_cleanup",itemsType:null}));var e=["tables_to_optimize","tables_to_repair"];ps(t.itemsToCleanup).every((function(t){return e.includes(t)}))?T(Cm()):T(ua({type:"delete",title:(0,l.sprintf)((0,l.__)("Clean %d selected items?","advanced-database-cleaner"),t.itemsToCleanup.size),message:(0,l.__)("Once cleaned, this action cannot be undone!","advanced-database-cleaner"),confirmLabel:(0,l.__)("Clean up","advanced-database-cleaner"),dbBackupWarning:!0}))}},V=function(){c({isOpen:!1,itemKey:"",itemLabel:""})},Q=(0,r.useMemo)((function(){return gs.filter((function(e){return e.show})).map((function(e){return{title:e.title,rows:e.items.filter((function(e){return e.show})).map((function(e){var t,n=e.key;return ss(ss({key:n,label:e.label,hasKeepLast:e.hasKeepLast,url:e.url},null!==(t=G[n])&&void 0!==t?t:{}),{},{isLoading:z.has(n)||E.has(n)})}))}}))}),[G,z,E]),J=t.itemsToCleanup.size===C.length&&C.length>0,Z=t.itemsToCleanup.size,X=r.createElement(u.JbZ,{className:"shrink-0 animate-spin text-[1.2rem] text-black"}),ee=W||S,te="bg-orange-100";return te=ee||0!=U.size?te:"bg-green-100",r.createElement("div",null,r.createElement("div",{className:"flex w-full flex-col"},r.createElement("div",{className:"mb-8 flex flex-col justify-between gap-2 lg:flex-row"},r.createElement(bs,{actionData:t,checkedCount:Z,isLoading:W,isProcessingCleanup:b,onClick:$}),r.createElement("div",{className:"flex flex-row gap-6 2xl:min-w-[220px] 2xl:flex-col"},r.createElement("div",{className:"flex h-[40px] items-center rounded-xl px-3 py-1 ".concat(te)},U.size>0?r.createElement("div",{className:"flex flex-row items-center justify-center gap-[1px]"},r.createElement(be.q53,{className:"mr-2 h-[25px] w-[25px] text-orange-600"}),r.createElement("span",{className:"text-gray-600"},r.createElement("span",{className:"font-bold text-gray-600"},U.count)," ",(0,l.__)("items to clean up","advanced-database-cleaner")),".",r.createElement("span",{className:"ml-1 text-gray-600"},(0,l.__)("You can save:","advanced-database-cleaner")," ",r.createElement("span",{className:"font-bold text-gray-600"},ft(U.size))),W&&r.createElement("div",{className:"ml-3 flex items-center gap-1 border-l border-gray-300 pl-3 text-xs text-gray-500"},r.createElement(u.JbZ,{className:"animate-spin"}),(0,l.__)("Calculating...","advanced-database-cleaner"))):r.createElement("div",{className:"flex w-full items-center justify-center gap-2"},ee?r.createElement(r.Fragment,null,r.createElement(u.JbZ,{className:"animate-spin text-[1.2rem] text-gray-600"}),r.createElement("span",{className:"text-sm text-gray-600"},(0,l.__)("Calculating...","advanced-database-cleaner"))):r.createElement(r.Fragment,null,r.createElement(d.cpe,{className:"h-[30px] w-[30px] rounded-full bg-green-100 p-[5px] text-green-600"}),(0,l.__)("All items cleaned!","advanced-database-cleaner")))))),r.createElement("div",{className:"overflow-x-auto"},r.createElement("ul",{role:"list",className:"w-full min-w-[900px] overflow-hidden shadow-sm"},r.createElement("li",{className:"rounded-lg bg-gray-200 text-black"},r.createElement("div",{className:"flex items-center gap-x-2 rounded-lg px-4 py-3 text-[.83rem] font-semibold"},r.createElement("span",{className:"w-[30px]"},r.createElement("input",{type:"checkbox",checked:J,onChange:function(){n((function(e){return ss(ss({},e),{},{itemsToCleanup:e.itemsToCleanup.size===C.length?new Set:new Set(C)})}))},disabled:b})),r.createElement("span",{className:"w-[250px] border-r border-gray-300"},(0,l.__)("Items to clean","advanced-database-cleaner")),r.createElement("span",{className:"w-[90px] border-r border-gray-300 text-center"},(0,l.__)("Count","advanced-database-cleaner")),r.createElement("span",{className:"w-[100px] border-r border-gray-300 text-center"},(0,l.__)("Lost space","advanced-database-cleaner")),r.createElement("span",{className:"w-[90px] border-r border-gray-300 text-center"},(0,l.__)("View","advanced-database-cleaner")),r.createElement("span",{className:"w-[150px] border-r border-gray-300 text-center"},r.createElement("div",{className:"flex items-center justify-center gap-x-2"},(0,l.__)("Keep last","advanced-database-cleaner"),r.createElement(j,{content:(0,l.__)("Keep data from the last X days from being displayed or cleaned. The plugin will only show and clean data older than the number of days or items you specify.","advanced-database-cleaner"),position:"bottom"},r.createElement(we.Zel,{className:"mt-[3px] !h-[15px] !w-[15px] rounded-full border border-gray-300 bg-white p-[1px] text-gray-700"})))),r.createElement("span",{className:"ml-auto"},r.createElement(I,{href:"#",onClick:function(e){e.preventDefault(),D.forEach((function(e){null!=e&&e.refetch&&e.refetch()}))}},r.createElement(u.JbZ,{className:"text-[1.1rem] ".concat(W?"animate-spin":"")}))))),Q.map((function(e){var a=e.rows.map((function(e){return e.key})),o=a.length>0&&a.every((function(e){return t.itemsToCleanup.has(e)})),i=function(e){var t=e.target.checked;n((function(e){var n=new Set(e.itemsToCleanup);return t?a.forEach((function(e){return n.add(e)})):a.forEach((function(e){return n.delete(e)})),ss(ss({},e),{},{itemsToCleanup:n})}))};return r.createElement("li",{key:"group-"+e.title,className:"mt-3 first:mt-2"},r.createElement(Ic.EN,{defaultOpen:!0},(function(a){var s=a.open;return r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-2 flex w-full items-center justify-between gap-2 rounded-md border border-gray-200 bg-gray-100 py-[5px] pl-4 pr-2"},r.createElement("div",{className:"flex items-center gap-2 pt-1"},r.createElement("input",{type:"checkbox",checked:o,onChange:i,disabled:b}),r.createElement("span",{className:"-mt-1 pl-2.5 font-bold text-gray-800"},e.title)),r.createElement(Ic._q,{className:"rounded-md bg-gray-100 p-0.5 text-[16px] text-black transition-transform hover:bg-gray-200"},r.createElement(Ko.bv7,{className:"transition-transform ".concat(s?"rotate-180":"")}))),r.createElement(Ic.kS,{as:"ul",unmount:!1},e.rows.map((function(e,a){var o=t.itemsToCleanup.has(e.key),i=o?"bg-gray-200":a%2?"bg-gray-50":"bg-white",s=f===e.key,d=e.isLoading,m=E.has(e.key),p=d||s;return r.createElement("li",{key:"row-"+e.key,className:"flex items-center gap-x-2 rounded-xl border-x border-b border-gray-200/60 px-4 py-[4px] transition-all duration-200 ".concat(i," hover:bg-gray-200")},r.createElement("span",{className:"w-[30px] py-3"},r.createElement("input",{type:"checkbox",checked:o,onChange:function(){return t=e.key,void n((function(e){var n=new Set(e.itemsToCleanup);return n.has(t)?n.delete(t):n.add(t),ss(ss({},e),{},{itemsToCleanup:n})}));var t},disabled:d||b})),r.createElement("span",{className:"flex w-[250px] items-center gap-2 py-3"},r.createElement(I,{href:e.url,target:"_blank"},r.createElement(he.wfp,{className:"text-[1.1rem] text-blue-400 hover:text-black"})),r.createElement("p",{className:"text-[.85rem] font-semibold text-black"},e.label)),r.createElement("span",{className:"flex w-[90px] justify-end gap-2 py-[2px] pr-6 text-[1rem] font-bold"},p?X:r.createElement("div",{className:"flex items-center  gap-2"},r.createElement("div",{className:"flex flex-col items-end"},r.createElement("span",{className:"".concat(!v.has(e.key)&&e.count?"text-red-500":"text-gray-400")},v.has(e.key)?0:e.count||0)),r.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),Y(e.key)},className:"text-gray-400 transition-colors hover:text-blue-500",disabled:m,title:(0,l.__)("Refresh","advanced-database-cleaner")},r.createElement(u.JbZ,{className:"text-[0.9rem] ".concat(m?"animate-spin":"")})))),"tables_to_repair"===e.key?r.createElement("span",{className:"flex w-[100px] justify-end gap-2 py-3 pr-6 text-[.85rem]"},"-"):r.createElement("span",{className:"flex w-[100px] justify-end gap-2 py-3 pr-6 text-[.85rem]"},p?X:r.createElement("div",{className:"flex flex-col items-end"},r.createElement("span",{className:"text-[.84rem] text-gray-800"},!v.has(e.key)&&e.size?" ".concat(ft(e.size)):(0,l.__)("0 KB","advanced-database-cleaner")))),"tables_to_optimize"===e.key||"tables_to_repair"===e.key?r.createElement("span",{className:"flex w-[90px] justify-center"},"-"):r.createElement("span",{className:"flex w-[90px] justify-center"},r.createElement(I,{href:Dd(e.key),className:"".concat(d?"pointer-events-none opacity-50":""," ").concat(e.count<=0?"pointer-events-none opacity-40":""),onClick:function(t){return function(e,t){e.preventDefault(),T(Rd({subTabId:t})),T(Dm()),T(We())}(t,e.key)}},r.createElement(ge.GNz,{className:"text-[1.3rem]"}))),"tables_to_optimize"===e.key||"tables_to_repair"===e.key?r.createElement("span",{className:"flex w-[150px] items-center justify-end gap-1 py-3 pr-8"},"-"):r.createElement("span",{className:"flex w-[150px] items-center justify-end gap-2 py-3 pr-8 ".concat(d?"opacity-50":"")},e.hasKeepLast?r.createElement(r.Fragment,null,e.keep_last&&(e.keep_last.value||0===e.keep_last.value)?r.createElement("span",{className:"flex items-center gap-1"},r.createElement("span",{className:"text-[.85rem] font-semibold text-gray-800"},e.keep_last.value),r.createElement("span",{className:"text-[.85rem] text-gray-600"},e.keep_last.type)):r.createElement(r.Fragment,null,(0,l.__)("0 days","advanced-database-cleaner")),r.createElement("div",null,r.createElement(bt.mkM,{className:"h-[13px] w-[13px] text-[1rem] ".concat(d?"cursor-not-allowed text-gray-400 opacity-50":"cursor-pointer text-blue-600 hover:text-blue-700"),onClick:function(){var t,n;d||(t=e.key,n=e.label,c({isOpen:!0,itemKey:t,itemLabel:n}))}}))):r.createElement("span",{className:"text-gray-500"},(0,l.__)("N/A","advanced-database-cleaner"))),r.createElement("span",{className:"ml-auto"},r.createElement(w,{text:s?X:(0,l.__)("Run cleanup","advanced-database-cleaner"),className:"!h-[1.8rem] ".concat(!e.count||b||d?"pointer-events-none opacity-60":""),disabled:d||!e.count||b,onClick:function(){return r=e.key,a=e.label,n({actionType:"cleanOneItem",itemToCleanup:r,itemsToCleanup:t.itemsToCleanup}),T(Im({actionType:"run_general_cleanup",itemsType:null})),void T("tables_to_optimize"===r||"tables_to_repair"===r?Cm():ua({type:"delete",title:(0,l.sprintf)((0,l.__)("Clean all %s?","advanced-database-cleaner"),a.toLowerCase()),message:(0,l.__)("Once cleaned, this action cannot be undone!","advanced-database-cleaner"),confirmLabel:(0,l.__)("Clean up","advanced-database-cleaner"),dbBackupWarning:!0}));var r,a}})))}))))})))})),"FREE"===R&&("1"===K||"1"===H)&&r.createElement("li",{key:"group-action-scheduler-free",className:"mt-3 first:mt-2"},r.createElement(Ic.EN,{defaultOpen:!0},(function(e){var t=e.open;return r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-2 flex w-full items-center justify-between gap-2 rounded-md border-gray-300 bg-gray-100 py-[5px] pl-4 pr-2"},r.createElement("span",{className:"font-bold text-gray-800"},(0,l.__)("Action Scheduler","advanced-database-cleaner")),r.createElement(Ic._q,{className:"rounded-md bg-gray-100 p-0.5 text-[16px] text-black transition-transform hover:bg-gray-200"},r.createElement(Ko.bv7,{className:"transition-transform ".concat(t?"rotate-180":"")}))),r.createElement("div",{className:"relative"},r.createElement(Ic.kS,{as:"ul",unmount:!1,className:"pointer-events-none blur-[1px]"},function(){var e=[{id:"completed-actions",label:(0,l.__)("Completed actions","advanced-database-cleaner"),count:15,lost:"20",show:!0},{id:"failed-actions",label:(0,l.__)("Failed actions","advanced-database-cleaner"),count:8,lost:"10",show:!0},{id:"canceled-actions",label:(0,l.__)("Canceled actions","advanced-database-cleaner"),count:25,lost:"210",show:!0},{id:"completed-logs",label:(0,l.__)("Completed logs","advanced-database-cleaner"),count:12,lost:"28",show:!0},{id:"failed-logs",label:(0,l.__)("Failed logs","advanced-database-cleaner"),count:5,lost:"15",show:!0},{id:"canceled-logs",label:(0,l.__)("Canceled logs","advanced-database-cleaner"),count:18,lost:"120",show:!0},{id:"orphan-logs",label:(0,l.__)("Orphan logs","advanced-database-cleaner"),count:7,lost:"8",show:!0}];return r.createElement(r.Fragment,null,e.map((function(e){return e.show&&r.createElement("li",{key:"row-"+e.id,className:"flex items-center gap-x-2 rounded-xl border-x border-b border-gray-200/60 px-4 py-[4px] transition-all duration-200"},r.createElement("span",{className:"w-[30px] py-3"},r.createElement("input",{type:"checkbox"})),r.createElement("span",{className:"flex w-[250px] items-center gap-2 py-3"},r.createElement(he.wfp,{className:"text-[1.1rem] text-blue-400"}),r.createElement("p",{className:"text-[.85rem] font-semibold text-black"},e.label)),r.createElement("span",{className:"flex w-[90px] justify-end gap-2 py-[2px] pr-6 text-[1rem] font-bold"},r.createElement("div",{className:"flex flex-col items-end"},r.createElement("span",{className:"text-red-500"},e.count))),r.createElement("span",{className:"flex w-[100px] justify-end gap-2 py-3 pr-6 text-[.85rem]"},e.lost+" "+(0,l.__)("KB","advanced-database-cleaner")),r.createElement("span",{className:"flex w-[90px] justify-center"},r.createElement(ge.GNz,{className:"text-[1.3rem]"})),r.createElement("span",{className:"flex w-[150px] items-center justify-end gap-2 py-3 pr-8"},r.createElement(r.Fragment,null,(0,l.__)("0 days","advanced-database-cleaner")),r.createElement("div",null,r.createElement(bt.mkM,{className:"h-[13px] w-[13px] cursor-pointer text-[1rem] text-blue-600 hover:text-blue-700"}))),r.createElement("span",{className:"ml-auto"},r.createElement(w,{className:"pointer-events-none !h-[1.8rem] opacity-80",disabled:!0,text:(0,l.__)("Run cleanup","advanced-database-cleaner")})))})))}()),t&&r.createElement("div",{className:"absolute left-1/2 top-1/2 z-10 -translate-x-1/2 -translate-y-1/2 transform"},r.createElement("div",{className:"mx-4 max-h-[450px] min-w-[500px] border border-gray-200 bg-white p-8 shadow-2xl"},r.createElement("div",{className:"text-center"},r.createElement("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},r.createElement(u.xGQ,{className:"h-6 w-6 text-white"})),r.createElement("h3",{className:"mb-1 text-[.95rem] font-semibold text-gray-900"},(0,l.__)("Unlock the Action Scheduler Cleanup","advanced-database-cleaner")),r.createElement("p",{className:"mb-4 text-gray-600"},(0,l.__)("Upgrade to the Premium to clean up old or unused Action Scheduler data.","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=general-cleanup-action-scheduler&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[.9rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},r.createElement("span",{className:"flex items-center justify-center gap-2"},(0,l.__)("Upgrade","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))))))))}))))),r.createElement("div",{className:"mt-5 flex w-full items-center"},r.createElement(bs,{actionData:t,checkedCount:Z,isLoading:W,isProcessingCleanup:b,onClick:$}))),r.createElement(is,{isOpen:i.isOpen,itemKey:i.itemKey,itemLabel:i.itemLabel,onClose:V,onSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(e.length>0?e:A).forEach(Y),V()},allItemKeys:A}))}function _s(e){return _s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(e)}function ws(){ws=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==_s(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(_s(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Es(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ns(){return ks.apply(this,arguments)}function ks(){var e;return e=ws().mark((function e(){return ws().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-system-information",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})),ks=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Es(o,r,a,i,l,"next",e)}function l(e){Es(o,r,a,i,l,"throw",e)}i(void 0)}))},ks.apply(this,arguments)}function Ss(e){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(e)}function Ls(){Ls=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ss(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ss(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function js(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Os(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){js(o,r,a,i,l,"next",e)}function l(e){js(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ts(e){return Ps.apply(this,arguments)}function Ps(){return(Ps=Os(Ls().mark((function e(t){return Ls().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/get-logs-content",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(e){return Cs.apply(this,arguments)}function Cs(){return(Cs=Os(Ls().mark((function e(t){return Ls().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/clear-logs-content",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ms(e){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(e)}function Ds(e){return Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(e)}function Gs(){Gs=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ds(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ds(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function zs(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Rs(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zs(o,r,a,i,l,"next",e)}function l(e){zs(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Us(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Us(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Us(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ws=function(e){var t,n,a=e.contentType,o=Bs((0,r.useState)(""),2),i=o[0],s=o[1],d=Bs((0,r.useState)(!0),2),f=d[0],p=d[1],h=Bs((0,r.useState)(!1),2),v=h[0],y=h[1],g=(0,m.d4)((function(e){return e.action})),b=(0,m.wA)(),x="system-info"===a,_="wp-debug"===a;(0,r.useEffect)((function(){N()}),[g]),(0,r.useEffect)((function(){k()}),[]);var E,N=function(){var e=Rs(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clear_log"!==g.actionType||!g.processAction){e.next=15;break}return e.prev=1,e.next=4,Is();case 4:t=e.sent,s(""),Ct(b,null==t?void 0:t.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Ft(b,e.t0.message);case 12:return e.prev=12,b(Mm()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Rs(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),e.prev=1,!x){e.next=8;break}return e.next=5,Ns();case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Ts({log_type:a});case 10:t=e.sent;case 11:t&&s(t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),s({success:!1,message:e.t0.message});case 17:return e.prev=17,p(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return r.createElement(r.Fragment,null,r.createElement("div",{className:"flex flex-col gap-4 xl:flex-row"},r.createElement("div",{className:"adbc-custom-scrollbar relative flex h-[500px] min-h-[600px] flex-1 resize-y flex-col gap-2 overflow-x-auto overflow-y-auto whitespace-pre-line rounded-md bg-slate-700 px-5 py-6 pr-4 text-gray-200"},f?r.createElement("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-transparent bg-opacity-80"},r.createElement(A,{spinnerColor:"text-white"})):x?r.createElement("div",{id:"adbc-"+a,className:"flex-shrink-0 font-mono"},"object"===Ms(E=null==i?void 0:i.data)&&null!==E&&Object.keys(E).length?Object.entries(E).map((function(e,t){var n=As(e,2),a=n[0],o=n[1];return r.createElement("div",{key:a,className:"min-w-[500px]"},r.createElement("div",{className:"mb-4 flex justify-between border-b border-gray-500 pb-2"},0===t&&r.createElement("span",{className:"order-2 text-xs italic"},(0,l.__)("Generated on:","advanced-database-cleaner")," ",o.generated_on," ",(0,l.__)("[Server time]","advanced-database-cleaner")),r.createElement("span",{className:"order-1 text-[15px] font-semibold"},"# ",o.title)),o.data&&Object.keys(o.data).length>0?r.createElement("div",{className:"mb-4 ml-4 text-[.83rem]"},Object.entries(o.data).map((function(e,t){var n=As(e,2)[1];return r.createElement("div",{key:a+t},"string"==typeof n&&n.includes("adbc_hidden")?null:n)}))):r.createElement("div",{className:"mb-4 ml-4 text-[.83rem] italic"},"- ",(0,l.__)("No data available","advanced-database-cleaner")))})):r.createElement("div",null,(0,l.__)("Invalid or empty system information","advanced-database-cleaner"))):r.createElement("div",{className:"font-mono text-[.8rem]"},null!=i&&i.success?null!=i&&null!==(t=i.data)&&void 0!==t&&t.content?r.createElement("div",{className:"flex gap-3"},r.createElement("div",{className:"min-w-[35px] flex-shrink-0 select-none rounded-sm bg-slate-800/50 px-[5px] pr-2 text-right text-amber-500"},i.data.content.split("\n").map((function(e,t){return r.createElement("div",{key:"line-"+t},t+1)}))),r.createElement("div",{id:"adbc-"+a,className:"flex-shrink-0 pr-4"},i.data.content)):(0,l.__)("Empty!","advanced-database-cleaner"):null==i?void 0:i.message)),r.createElement("div",{className:"flex min-w-[140px] flex-row gap-3 xl:flex-col"},r.createElement(w,{Icon:u.JbZ,text:(0,l.__)("Refresh","advanced-database-cleaner"),className:"",onClick:k,disabled:f}),(x||(null==i?void 0:i.success)&&(null==i||null===(n=i.data)||void 0===n?void 0:n.content))&&r.createElement(r.Fragment,null,r.createElement(w,{Icon:Po.a4x,text:(0,l.__)("Download file","advanced-database-cleaner"),className:"",onClick:function(){!function(e){var t=document.getElementById(e);if(t){var n=document.createElement("a"),r=t.innerText,a=new Blob([r],{type:"text/plain"});n.href=URL.createObjectURL(a),n.download="".concat(e,".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}}("adbc-"+a)},disabled:f}),r.createElement(w,{Icon:v?c.ELp:ge.SD3,text:v?(0,l.__)("Copied","advanced-database-cleaner"):(0,l.__)("Copy","advanced-database-cleaner"),className:"",onClick:function(){gt("adbc-"+a)?(y(!0),setTimeout((function(){return y(!1)}),1e3)):Ft(b)},disabled:f||v}),!x&&!_&&r.createElement(w,{Icon:c.Qiw,text:(0,l.__)("Clear","advanced-database-cleaner"),className:"",onClick:function(){var e={type:"question",title:(0,l.__)("Clear the log?","advanced-database-cleaner"),message:(0,l.__)("Are you sure you want to clear the log?","advanced-database-cleaner"),confirmLabel:(0,l.__)("Clear","advanced-database-cleaner"),dbBackupWarning:!1};!function(e,t,n){e(Im({actionType:"clear_log",itemsType:null})),e(ua(n))}(b,0,e)},disabled:f})))),r.createElement("div",{className:"mt-4 flex text-[.75rem] text-gray-400"},(0,l.__)("(All dates/times in the logs are shown in your server's time zone)","advanced-database-cleaner")))};var Ys=[{id:"system-info",name:(0,l.__)("System info","advanced-database-cleaner"),component:r.createElement(Ws,{contentType:"system-info"}),Icon:F.ZLq},{id:"debug",name:(0,l.__)("Errors log","advanced-database-cleaner"),component:r.createElement(Ws,{contentType:"debug"}),Icon:_e.sAL},{id:"wp-debug",name:(0,l.__)("WP debug","advanced-database-cleaner"),component:r.createElement(Ws,{contentType:"wp-debug"}),Icon:ve.tYL}];var qs=[{key:"option_name",label:(0,l.__)("Option name","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"w-[260px] !pr-4",visibility:""},{key:"value",label:(0,l.__)("Value","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"w-[220px]",visibility:""},{key:"size",label:(0,l.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:""},{key:"autoload",label:(0,l.__)("Autoload","advanced-database-cleaner"),sortable:!0,contentType:"string",tooltipText:(0,l.__)("Indicates whether an option is autoloaded or not. Values to autoload are: yes, on, auto, auto-on. Values to not autoload are: no, off, auto-off","advanced-database-cleaner"),width:"w-[80px] max-w-[150px]",visibility:""},{key:"site_id",label:(0,l.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:"1"===W?"":"hidden"},{key:"belongs_to",label:(0,l.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,l.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"w-[280px]",visibility:""}],Ks=[[{key:"bulk_actions",label:(0,l.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_options",label:"FREE"===R?r.createElement("span",{className:"flex items-center"},(0,l.__)("Scan","advanced-database-cleaner"),r.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("(premium)","advanced-database-cleaner"))):(0,l.__)("Scan","advanced-database-cleaner"),tooltipText:r.createElement("span",null,(0,l.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===R&&r.createElement("div",{className:"flex text-yellow-600"},(0,l.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===R},{key:"edit_scan_results_options",label:(0,l.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,l.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===R}],[{key:"set_autoload_to_yes_options",label:(0,l.__)("Set autoload to Yes","advanced-database-cleaner"),tooltipText:(0,l.__)("Setting autoload to Yes can decrease the performance of your website if you have a lot of options set to autoload.","advanced-database-cleaner")},{key:"set_autoload_to_no_options",label:(0,l.__)("Set autoload to No","advanced-database-cleaner"),tooltipText:(0,l.__)("Setting autoload to No can improve the performance of your website by reducing the number of options loaded on each page.","advanced-database-cleaner")}],[{key:"delete_options",label:(0,l.__)("Delete","advanced-database-cleaner"),tooltipText:(0,l.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];var Hs=[{key:"meta_key",label:(0,l.__)("Meta key","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"w-[260px] !pr-4",visibility:""},{key:"value",label:(0,l.__)("Value","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"w-[220px]",visibility:""},{key:"size",label:(0,l.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:""},{key:"post_id",label:(0,l.__)("Post ID","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:""},{key:"site_id",label:(0,l.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:"1"===W?"":"hidden"},{key:"belongs_to",label:(0,l.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,l.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"w-[280px]",visibility:""}],$s=[[{key:"bulk_actions",label:(0,l.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_posts_meta",label:"FREE"===R?r.createElement("span",{className:"flex items-center"},(0,l.__)("Scan","advanced-database-cleaner"),r.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("(premium)","advanced-database-cleaner"))):(0,l.__)("Scan","advanced-database-cleaner"),tooltipText:r.createElement("span",null,(0,l.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===R&&r.createElement("div",{className:"flex text-yellow-600"},(0,l.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===R},{key:"edit_scan_results_posts_meta",label:(0,l.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,l.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===R}],[{key:"delete_posts_meta",label:(0,l.__)("Delete","advanced-database-cleaner"),tooltipText:(0,l.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];var Vs=n(6037);const Qs=wp.date;function Js(e){return Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(e)}function Zs(){Zs=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Js(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Js(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Xs(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function eu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Xs(o,r,a,i,l,"next",e)}function l(e){Xs(o,r,a,i,l,"throw",e)}i(void 0)}))}}function tu(e){return nu.apply(this,arguments)}function nu(){return(nu=eu(Zs().mark((function e(t){return Zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/activate-license",{method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(){return au.apply(this,arguments)}function au(){return(au=eu(Zs().mark((function e(){return Zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/deactivate-license",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(){return iu.apply(this,arguments)}function iu(){return(iu=eu(Zs().mark((function e(){return Zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(q+"/refresh-license",{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lu(e){return lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(e)}var cu=(0,f.Z0)({name:"setting",initialState:{leftMenu:"1"===M.left_menu,toolsMenu:"1"===M.tools_menu,networkMenu:"1"===M.network_menu,hiddenTabs:M&&"object"===lu(M.hidden_tabs)?Object.values(M.hidden_tabs):[],fileLinesBatches:M.file_lines_batch,fileContentChunks:M.file_content_chunks,maxExecutionTime:M.scan_max_execution_time,databaseRowsBatches:M.database_rows_batch,cleanupMethod:M.sql_or_native_cleanup_method||"sql",sendCorrectionsToServer:"1"===M.send_corrections_to_server,reduceCpuUsage:"1"===M.reduce_cpu_usage,cpuWorkTime:M.cpu_work_time_ms,cpuRestTime:M.cpu_rest_time_ms,analyticsEnabled:"1"===M.analytics_enabled,addonsActivityEnabled:"1"===M.addons_activity_enabled,showTablesWithInvalidPrefix:"1"===M.show_tables_with_invalid_prefix,sideBarIsExpanded:"1"===M.sidebar_is_expanded,licenseKey:(null==D?void 0:D.key)||"",licenseStatus:(null==D?void 0:D.status)||"",licenseExpires:(null==D?void 0:D.expires)||"",licensePriceId:(null==D?void 0:D.price_id)||""},reducers:{setLeftMenu:function(e,t){e.leftMenu=t.payload},setToolsMenu:function(e,t){e.toolsMenu=t.payload},setNetworkMenu:function(e,t){e.networkMenu=t.payload},hideTab:function(e,t){e.hiddenTabs.push(t.payload)},showTab:function(e,t){e.hiddenTabs=e.hiddenTabs.filter((function(e){return e!==t.payload}))},setScanSettings:function(e,t){e.fileLinesBatches=t.payload.fileLinesBatches,e.fileContentChunks=t.payload.fileContentChunks,e.maxExecutionTime=t.payload.maxExecutionTime},SetSendCorrectionsToServer:function(e,t){e.sendCorrectionsToServer=t.payload},setCpuSettings:function(e,t){e.cpuWorkTime=t.payload.cpuWorkTime,e.cpuRestTime=t.payload.cpuRestTime},SetReduceCpuUsage:function(e,t){e.reduceCpuUsage=t.payload},setPerformanceSettings:function(e,t){e.databaseRowsBatches=t.payload.databaseRowsBatches,e.cleanupMethod=t.payload.cleanupMethod},setAnalyticsEnabled:function(e,t){e.analyticsEnabled=t.payload},setAddonsActivityEnabled:function(e,t){e.addonsActivityEnabled=t.payload},setShowTablesWithInvalidPrefix:function(e,t){e.showTablesWithInvalidPrefix=t.payload},setSideBarIsExpanded:function(e,t){e.sideBarIsExpanded=t.payload},setLicenseData:function(e,t){e.licenseKey=t.payload.key||"",e.licenseStatus=t.payload.status||"",e.licenseExpires=t.payload.expires||"",e.licensePriceId=t.payload.price_id||""}}}),su=cu.actions,uu=su.setLeftMenu,du=su.setToolsMenu,mu=su.setNetworkMenu,fu=su.hideTab,pu=su.showTab,hu=su.setScanSettings,vu=(su.SetSendCorrectionsToServer,su.setCpuSettings),yu=su.SetReduceCpuUsage,gu=su.setPerformanceSettings,bu=su.setAnalyticsEnabled,xu=su.setAddonsActivityEnabled,_u=su.setShowTablesWithInvalidPrefix,wu=su.setSideBarIsExpanded,Eu=su.setLicenseData;const Nu=cu.reducer;function ku(e){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(e)}function Su(){Su=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==ku(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ku(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Lu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ju(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Lu(o,r,a,i,l,"next",e)}function l(e){Lu(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ou(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Pu=function(){var e=Ou((0,r.useState)(""),2),t=e[0],n=e[1],a=Ou((0,r.useState)(!1),2),o=a[0],i=a[1],c=Ou((0,r.useState)(!1),2),s=c[0],f=c[1],p=Ou((0,r.useState)(!1),2),h=p[0],y=p[1],g=(0,m.d4)((function(e){return e.setting.licenseKey})),x=(0,m.d4)((function(e){return e.setting.licenseStatus})),_=(0,m.d4)((function(e){return e.setting.licenseExpires})),E=(0,m.d4)((function(e){return e.setting.licensePriceId})),N=(0,m.wA)(),k=function(){var e=ju(Su().mark((function e(){var r,a,o,l,c,s;return Su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,tu({license_key:t});case 4:a=e.sent,"valid"===(null===(r=a.data)||void 0===r?void 0:r.status)&&(N(Eu({key:null===(o=a.data)||void 0===o?void 0:o.key,status:null===(l=a.data)||void 0===l?void 0:l.status,expires:null===(c=a.data)||void 0===c?void 0:c.expires,price_id:null===(s=a.data)||void 0===s?void 0:s.price_id})),n(""),Ct(N,a.message)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Ft(N,e.t0.message);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=ju(Su().mark((function e(){var t;return Su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,ru();case 4:!0===(t=e.sent).success&&N(Eu({key:"",status:"",expires:"",price_id:""})),Ct(N,t.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Ft(N,e.t0.message);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=ju(Su().mark((function e(){var t,n,r,a,o,i;return Su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,ou();case 4:(t=e.sent).data&&(N(Eu({key:null===(n=t.data)||void 0===n?void 0:n.key,status:null===(r=t.data)||void 0===r?void 0:r.status,expires:null===(a=t.data)||void 0===a?void 0:a.expires,price_id:null===(o=t.data)||void 0===o?void 0:o.price_id})),"valid"===(null===(i=t.data)||void 0===i?void 0:i.status)&&Ct(N,t.message)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Ft(N,e.t0.message);case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;if(!e||"lifetime"===e)return!1;var n=(("number"==typeof e?new Date(1e3*e):new Date(e.replace(" ","T")))-new Date)/864e5;return n>0&&n<=t};return r.createElement("div",{className:"flex flex-col gap-5"},r.createElement("div",{className:"sm:flex sm:items-center"},r.createElement("div",{className:"w-full"},g?r.createElement("div",{className:"w-full rounded-md border bg-gray-300 px-3 py-2 text-[.95rem]"},g):r.createElement(v,{Icon:xe.y9k,placeholder:(0,l.__)("License key","advanced-database-cleaner"),className:"w-full !text-[.95rem]",onChange:function(e){return n(e.target.value)}})),g?r.createElement(b,{Icon:s?u.JbZ:d.Fmo,text:(0,l.__)("Deactivate license","advanced-database-cleaner"),className:"mt-4 sm:ml-3 sm:mt-0",spinIcon:s,disabled:h||s,onClick:S,type:"button"}):r.createElement(b,{Icon:o?u.JbZ:d.Fmo,text:(0,l.__)("Activate license","advanced-database-cleaner"),className:"mt-4 sm:ml-3 sm:mt-0",spinIcon:o,disabled:h||o||!t,onClick:k,type:"button"})),g&&r.createElement(r.Fragment,null,r.createElement("div",{className:"flex flex-col gap-2 text-[.83rem]"},r.createElement("div",{className:"flex items-center gap-1"},r.createElement("span",{className:"flex min-w-[100px] items-center gap-x-1 font-bold"},(0,l.__)("License status","advanced-database-cleaner")),h?r.createElement(u.JbZ,{className:"animate-spin text-[.9rem] text-gray-900"}):r.createElement(r.Fragment,null,r.createElement(ge.G3G,{className:"mt-0.5 text-[1rem] ".concat("valid"===x?"text-emerald-500":"text-red-400")}),r.createElement("span",{className:"font-bold ".concat("valid"===x?"text-green-600":"text-red-500")},function(e){switch(e){case"valid":return(0,l.__)("Active","advanced-database-cleaner");case"expired":return(0,l.__)("Expired","advanced-database-cleaner");case"invalid":return(0,l.__)("Invalid","advanced-database-cleaner");case"disabled":return(0,l.__)("Disabled","advanced-database-cleaner");case"invalid_item_id":return(0,l.__)("Invalid item ID","advanced-database-cleaner");case"item_name_mismatch":return(0,l.__)("Item name mismatch","advanced-database-cleaner");case"inactive":return(0,l.__)("Inactive","advanced-database-cleaner");case"site_inactive":return(0,l.__)("Site inactive","advanced-database-cleaner");default:return e}}(x)))),"invalid"!==x&&"disabled"!==x&&r.createElement(r.Fragment,null,r.createElement("div",{className:"flex items-center gap-1"},r.createElement("span",{className:"flex min-w-[100px] items-center gap-x-1 font-bold"},(0,l.__)("Expiration date","advanced-database-cleaner")),h?r.createElement(u.JbZ,{className:"animate-spin text-[.9rem] text-gray-900"}):r.createElement(r.Fragment,null,r.createElement(ge.G3G,{className:"mt-0.5 text-[1rem] ".concat("lifetime"===_||"expired"!==x?"text-emerald-500":"text-red-400")}),r.createElement("span",{className:"font-bold ".concat("lifetime"===_||"expired"!==x?"text-green-600":"text-red-500")},function(e){if("lifetime"===e)return(0,l.__)("Lifetime","advanced-database-cleaner");var t,n,r,a=(0,l._x)("F j, Y","License expiration date format (e.g. December 10, 2025)","advanced-database-cleaner");return"number"==typeof e?t=1e3*e:(t=(0,Qs.getDate)(e),Number.isNaN(null===(n=t)||void 0===n||null===(r=n.getTime)||void 0===r?void 0:r.call(n))&&(t=new Date(e.replace(" ","T")))),(0,Qs.dateI18n)(a,t)}(_))))),"expired"===x?r.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},r.createElement("span",{className:"px-2"},(0,l.__)("Your license has expired. Please renew it to continue receiving updates and support. Click the 'My Account' link below to access your account and renew your license.","advanced-database-cleaner"))):j(_)?r.createElement("div",{className:"mt-1 rounded-sm bg-yellow-100 py-1 text-xs text-yellow-900"},r.createElement("span",{className:"px-2"},(0,l.__)("Your license is expiring soon. It should automatically renew if your payment method is valid.","advanced-database-cleaner"))):"invalid"===x?r.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},r.createElement("span",{className:"px-2"},(0,l.__)("Your license is invalid. Please deactivate and enter a valid license key.","advanced-database-cleaner"))):"disabled"===x?r.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},r.createElement("span",{className:"px-2"},(0,l.__)("Your license has been disabled. Please note that this license will no longer receive updates. (contact support if you think this is a mistake)","advanced-database-cleaner"))):"invalid_item_id"===x||"item_name_mismatch"===x?r.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},r.createElement("span",{className:"px-2"},(0,l.__)("Your license does not match this product. Please deactivate and enter a valid license key for Advanced Database Cleaner.","advanced-database-cleaner"))):"inactive"===x||"site_inactive"===x?r.createElement("div",{className:"mt-1 rounded-sm bg-red-100 py-1 text-xs text-red-900"},r.createElement("span",{className:"px-2"},(0,l.__)("Your license is inactive for this site. Please deactivate it and activate it again.","advanced-database-cleaner"))):void 0,"valid"===x&&!j(_)&&"4"!==E&&r.createElement("div",{className:"mt-2 flex items-center gap-1"},r.createElement("div",{className:"text-xs leading-5 text-gray-600"},(0,l.sprintf)((0,l.__)("You are on the %s.","advanced-database-cleaner"),function(e){switch(e){case"1":return(0,l.__)("Starter plan","advanced-database-cleaner");case"2":return(0,l.__)("Standard plan","advanced-database-cleaner");case"3":return(0,l.__)("Business plan","advanced-database-cleaner");case"4":return(0,l.__)("Agency plan","advanced-database-cleaner");default:return(0,l.__)("Unknown plan","advanced-database-cleaner")}}(E))," ",(0,l.__)("If you need more activations, you can upgrade by paying the difference between plans.","advanced-database-cleaner"))))),r.createElement("div",{className:"flex flex-row gap-4 border-t border-dashed border-gray-300 pt-4"},g&&r.createElement(w,{Icon:u.JbZ,text:h?(0,l.__)("Refreshing ..","advanced-database-cleaner"):(0,l.__)("Refresh info","advanced-database-cleaner"),className:"",onClick:L,shouldAnimate:h,disabled:h||o||s}),r.createElement(I,{href:"https://sigmaplugin.com/login?utm_source=license_tab&utm_medium=adbc_plugin&utm_campaign=plugins",target:"_blank",className:"flex justify-end whitespace-nowrap text-[.85rem] font-bold text-primary !no-underline hover:!underline"},r.createElement(be.Pay,{className:"text-[1.2rem] text-primary"}),(0,l.__)("My account","advanced-database-cleaner"))))},Iu=n.p+"images/left-menu.png",Cu=n.p+"images/menu-under-tools.png",Au=n.p+"images/network-menu.png";function Fu(e){return Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(e)}function Mu(){Mu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Fu(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Fu(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Du(e,t,n){return(t=function(e){var t=function(e){if("object"!=Fu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Fu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var zu="1"===W?" "+(0,l.__)("[In main site]","advanced-database-cleaner"):"";const Ru=function(){var e=(0,m.d4)((function(e){return e.setting.leftMenu})),t=(0,m.d4)((function(e){return e.setting.toolsMenu})),n=(0,m.d4)((function(e){return e.setting.networkMenu})),a=(0,m.wA)(),o=function(){var r,o=(r=Mu().mark((function r(o,i){var c,s,u;return Mu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=8;break}if(c=0,e&&c++,t&&c++,"1"===W&&n&&c++,1!==c){r.next=8;break}return Ft(a,(0,l.__)("At least one menu position must be enabled.","advanced-database-cleaner")),r.abrupt("return");case 8:return s=i?"block":"none","left_menu"===o?(yc("toplevel_page_advanced_db_cleaner",s),a(uu(i))):"tools_menu"===o?(gc("a[href='tools.php?page=advanced_db_cleaner']",s),a(du(i))):"network_menu"===o&&(yc("toplevel_page_advanced_db_cleaner_network",s),a(mu(i))),r.prev=10,u=i?"1":"0",r.next=14,Xl(Du({},o,u));case 14:At(a),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(10),Ft(a,r.t0.message);case 20:case"end":return r.stop()}}),r,null,[[10,17]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){Gu(o,n,a,i,l,"next",e)}function l(e){Gu(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(e,t){return o.apply(this,arguments)}}();return r.createElement("div",{className:"flex flex-col gap-5"},r.createElement("div",{className:"flex w-full flex-col gap-5"},"1"===W&&r.createElement("div",{className:"flex items-center gap-2"},r.createElement(S,{text:(0,l.__)("Network admin menu","advanced-database-cleaner"),toggleChangeCallback:function(e){return o("network_menu",e)},isActive:n,toggleSize:"small"}),r.createElement(j,{content:r.createElement("span",null,(0,l.__)("Places the plugin menu on the left side of your WP Network Admin.","advanced-database-cleaner"),r.createElement("img",{src:Au,className:"mt-4 w-[8.5rem] rounded-xl"}))})),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(S,{text:(0,l.__)("Left sidebar menu","advanced-database-cleaner")+zu,toggleChangeCallback:function(e){return o("left_menu",e)},isActive:e,toggleSize:"small"}),r.createElement(j,{content:r.createElement("span",null,(0,l.__)("Places the plugin menu on the left side of your WP Admin","advanced-database-cleaner")+zu,r.createElement("img",{src:Iu,className:"mt-4 w-[8.5rem] rounded-xl"}))})),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(S,{text:(0,l.__)("Submenu under tools","advanced-database-cleaner")+zu,toggleChangeCallback:function(e){return o("tools_menu",e)},isActive:t,toggleSize:"small"}),r.createElement(j,{content:r.createElement("span",null,(0,l.__)("Places the plugin menu under the WP Tools menu","advanced-database-cleaner")+zu,r.createElement("img",{src:Cu,className:"mt-4 w-[14rem]"}))}))))};function Bu(e){return Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(e)}function Uu(){Uu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Bu(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Bu(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Wu(e,t,n){return(t=function(e){var t=function(e){if("object"!=Bu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Bu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}const qu=function(){var e=(0,m.d4)((function(e){return e.setting.analyticsEnabled})),t=(0,m.d4)((function(e){return e.setting.addonsActivityEnabled})),n=(0,m.d4)((function(e){return e.setting.showTablesWithInvalidPrefix})),a=(0,m.wA)(),o=function(){var e,t=(e=Uu().mark((function e(t,n){var r;return Uu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"analytics_enabled"===t?a(bu(n)):"addons_activity_enabled"===t?a(xu(n)):"show_tables_with_invalid_prefix"===t&&a(_u(n)),e.prev=1,r=n?"1":"0",e.next=5,Xl(Wu({},t,r));case 5:At(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Ft(a,e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yu(o,r,a,i,l,"next",e)}function l(e){Yu(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return r.createElement("div",{className:"flex flex-col gap-5"},r.createElement("div",{className:"flex w-full flex-col gap-5"},"PREMIUM"===R&&r.createElement("div",{className:"flex items-center gap-2"},r.createElement(S,{text:(0,l.__)("Enable analytics","advanced-database-cleaner"),toggleChangeCallback:function(e){return o("analytics_enabled",e)},isActive:e,toggleSize:"small"}),r.createElement(j,{content:r.createElement("span",null,(0,l.__)("If enabled, the plugin will run a daily task to analyze your database and tables locally, so you can view relevant statistics in the plugin dashboard.","advanced-database-cleaner"))})),"PREMIUM"===R&&r.createElement("div",{className:"flex items-center gap-2"},r.createElement(S,{text:(0,l.__)("Enable addons activity","advanced-database-cleaner"),toggleChangeCallback:function(e){return o("addons_activity_enabled",e)},isActive:t,toggleSize:"small"}),r.createElement(j,{content:r.createElement("span",null,(0,l.__)("If enabled, the plugin will track the activity of your plugins/themes when they get activated, deactivated or uninstalled. Providing a complete history of your addons activity.","advanced-database-cleaner"))})),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(S,{text:(0,l.__)("Show tables with invalid prefix","advanced-database-cleaner"),toggleChangeCallback:function(e){return o("show_tables_with_invalid_prefix",e)},isActive:n,toggleSize:"small"}),r.createElement(j,{content:r.createElement("span",null,(0,l.__)("If enabled, the plugin will list every table in your database, including those with invalid prefix, typically belonging to other WordPress installations or unrelated projects. If you're unsure, keep this option disabled.","advanced-database-cleaner"))}))))};function Ku(e){return Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(e)}function Hu(){Hu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ku(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ku(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function $u(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vu(Object(n),!0).forEach((function(t){Ju(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ju(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ku(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ku(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ku(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ed=1e6,td=function(e){var t=e.title,n=e.tooltipMsg,a=e.value,o=e.onChange,i=e.error,l=e.min,c=e.max;return r.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},r.createElement("div",{className:"items-top mt-[4px] flex min-w-[220px] shrink-0 gap-1 md:gap-2"},r.createElement(j,{content:r.createElement(r.Fragment,null,n),iconSize:"text-[1rem]",className:"hidden lg:!flex"},r.createElement(qo.JFS,{className:"mt-[3px] h-[15px] w-[15px] text-gray-600"})),t),r.createElement("div",{className:"flex flex-col gap-2"},r.createElement(v,{type:"number",defaultValue:a,onChange:o,min:l,max:c,className:"!h-[1.9rem] w-[14rem] md:w-[12rem]"}),i&&r.createElement("span",{className:"text-[12px] font-semibold leading-[15px] text-red-500"},i)))};const nd=function(){var e=(0,m.d4)((function(e){return e.setting.databaseRowsBatches})),t=(0,m.d4)((function(e){return e.setting.cleanupMethod})),n=[[{key:"sql",label:(0,l.__)("Direct SQL queries","advanced-database-cleaner"),tooltipText:(0,l.__)("This method uses direct SQL queries for cleanup operations. This can be faster but may bypass some WordPress mechanisms. For example, when deleting trashed posts, this method will directly remove the posts from the database without triggering associated hooks and actions, which may leave related metadata, taxonomies, and other linked data intact and potentially lead to extra orphaned items.","advanced-database-cleaner")},{key:"native",label:(0,l.__)("Native WP functions","advanced-database-cleaner"),tooltipText:(0,l.__)("This method uses WordPress native functions for cleanup operations. This ensures compatibility with WordPress but may be slower. For example, when deleting trashed posts, this method will trigger all associated hooks and actions to delete related metadata, taxonomies, and other linked data, ensuring a thorough cleanup.","advanced-database-cleaner")}]],a=function(e){for(var t=0,r=n;t<r.length;t++){var a=r[t].find((function(t){return t.key===e}));if(a)return a}return n[0][0]},o=Zu((0,r.useState)({databaseRowsBatches:e,cleanupMethod:a(t)}),2),i=o[0],c=o[1],s=Zu((0,r.useState)({databaseRowsBatches:""}),2),u=s[0],d=s[1],f=Zu((0,r.useState)(!1),2),p=f[0],h=f[1],v=(0,m.wA)(),y=(0,r.useRef)({}),g=function(){var e,t=(e=Hu().mark((function e(){var t;return Hu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:if(t=parseInt(i.databaseRowsBatches,10),!isNaN(t)){e.next=6;break}return Ft(v,(0,l.__)("Please enter valid numbers for the performance settings","advanced-database-cleaner")),e.abrupt("return");case 6:return h(!0),e.prev=7,e.next=10,Xl({database_rows_batch:t,sql_or_native_cleanup_method:i.cleanupMethod.key});case 10:v(gu({databaseRowsBatches:t,cleanupMethod:i.cleanupMethod.key})),At(v),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),Ft(v,e.t0.message);case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[7,14,17,20]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$u(o,r,a,i,l,"next",e)}function l(e){$u(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return r.createElement("div",{className:"flex flex-col gap-6"},r.createElement("div",{className:"flex flex-col gap-[12px]"},r.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},r.createElement("div",{className:"items-top mt-[4px] flex min-w-[220px] shrink-0 gap-1 md:gap-2"},r.createElement(j,{content:r.createElement(r.Fragment,null,(0,l.__)("Choose the method used for database cleanup operations. SQL offers direct database manipulation, while Native uses WordPress functions.","advanced-database-cleaner")),iconSize:"text-[1rem]",className:"hidden lg:!flex"},r.createElement(qo.JFS,{className:"mt-[3px] h-[15px] w-[15px] text-gray-600"})),(0,l.__)("Cleanup method","advanced-database-cleaner")),r.createElement("div",{className:"flex flex-col gap-2"},r.createElement(fm,{selectItems:n,selectedItem:i.cleanupMethod,onSelectionChange:function(e){var t=a(e);c((function(e){return Qu(Qu({},e),{},{cleanupMethod:t})}))},extraBtnClasses:"w-[14rem] md:w-[12rem]"}))),r.createElement(td,{title:(0,l.__)("Database rows batches","advanced-database-cleaner"),tooltipMsg:(0,l.__)("Specifies the number of rows to process in each batch when reading database tables. Reducing this value can help optimize performance and memory usage when dealing with large tables.","advanced-database-cleaner"),value:i.databaseRowsBatches,onChange:function(e){!function(e,t,n){y.current[e]&&clearTimeout(y.current[e]),y.current[e]=setTimeout((function(){c((function(n){return Qu(Qu({},n),{},Ju({},e,t))}));var n=function(e,t){var n=parseInt(t,10);return isNaN(n)?(0,l.__)("Please enter a valid number","advanced-database-cleaner"):"databaseRowsBatches"!==e?"":n<100||n>ed?(0,l.sprintf)((0,l.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),100,ed):""}(e,t);d((function(t){return Qu(Qu({},t),{},Ju({},e,n))})),delete y.current[e]}),n)}("databaseRowsBatches",e.target.value,500)},error:u.databaseRowsBatches,min:100,max:ed})),r.createElement("div",null,r.createElement(w,{Icon:p?function(){return r.createElement(A,{text:"",size:"text-[1rem]",className:"animate-spin"})}:oa.kuV,text:p?(0,l.__)("Saving...","advanced-database-cleaner"):(0,l.__)("Save settings","advanced-database-cleaner"),className:"mt-2 px-4 ".concat(p?"pointer-events-none cursor-not-allowed opacity-80":""),onClick:g,disabled:p})))};function rd(e){return rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(e)}function ad(){ad=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==rd(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(rd(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function od(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function id(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){od(o,r,a,i,l,"next",e)}function l(e){od(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ld(Object(n),!0).forEach((function(t){sd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sd(e,t,n){return(t=function(e){var t=function(e){if("object"!=rd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ud(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var md=1e3,fd=1e6,pd=10240,hd=function(e){var t=e.title,n=e.tooltipMsg,a=e.value,o=e.onChange,i=e.error,l=e.min,c=e.max;return r.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},r.createElement("div",{className:"items-top mt-[4px] flex min-w-[220px] shrink-0 gap-1 md:gap-2"},r.createElement(j,{content:r.createElement(r.Fragment,null,n),iconSize:"text-[1rem]",className:"hidden lg:!flex"},r.createElement(qo.JFS,{className:"mt-[3px] h-[15px] w-[15px] text-gray-600"})),t),r.createElement("div",{className:"flex flex-col gap-2"},r.createElement(v,{type:"number",defaultValue:a,onChange:o,min:l,max:c,className:"!h-[1.9rem] w-[14rem] md:w-[12rem]"}),i&&r.createElement("span",{className:"text-[12px] font-semibold leading-[15px] text-red-500"},i)))};const vd=function(){var e=(0,m.d4)((function(e){return e.setting.reduceCpuUsage})),t=(0,m.d4)((function(e){return e.setting.cpuWorkTime})),n=(0,m.d4)((function(e){return e.setting.cpuRestTime})),a=(0,m.d4)((function(e){return e.setting.fileLinesBatches})),o=(0,m.d4)((function(e){return e.setting.fileContentChunks})),i=(0,m.d4)((function(e){return e.setting.maxExecutionTime})),c=ud((0,r.useState)({cpuWorkTime:t,cpuRestTime:n,fileLinesBatches:a,fileContentChunks:o,maxExecutionTime:i}),2),s=c[0],u=c[1],d=ud((0,r.useState)({cpuWorkTime:"",cpuRestTime:"",fileLinesBatches:"",fileContentChunks:"",maxExecutionTime:""}),2),f=d[0],p=d[1],h=ud((0,r.useState)(!1),2),v=h[0],y=h[1],g=(0,m.wA)(),b=(0,r.useRef)({}),x=function(e){return function(t){var n=t.target.value;!function(e,t,n){b.current[e]&&clearTimeout(b.current[e]),b.current[e]=setTimeout((function(){u((function(n){return cd(cd({},n),{},sd({},e,t))}));var n=function(e,t){var n=parseInt(t,10);if(isNaN(n))return(0,l.__)("Please enter a valid number","advanced-database-cleaner");switch(e){case"cpuWorkTime":if(n<100||n>md)return(0,l.sprintf)((0,l.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),100,md);break;case"cpuRestTime":if(n<1||n>100)return(0,l.sprintf)((0,l.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),1,100);break;case"fileLinesBatches":if(n<100||n>fd)return(0,l.sprintf)((0,l.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),100,fd);break;case"fileContentChunks":if(n<50||n>pd)return(0,l.sprintf)((0,l.__)("Value must be between %1$s and %2$s","advanced-database-cleaner"),50,pd);break;case"maxExecutionTime":if(0!==n&&(n<30||n>300))return(0,l.sprintf)((0,l.__)("Value must be between %1$s and %2$s, or 0 for the default value.","advanced-database-cleaner"),30,300);break;default:return""}return""}(e,t);p((function(t){return cd(cd({},t),{},sd({},e,n))})),delete b.current[e]}),n)}(e,n,500)}},_=function(){var e=id(ad().mark((function e(t){var n;return ad().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(yu(t)),e.prev=1,n=t?"1":"0",e.next=5,Xl({reduce_cpu_usage:n});case 5:At(g),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),g(yu(!t)),Ft(g,e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var t=id(ad().mark((function t(){var n,r,a,o,i;return ad().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=2;break}return t.abrupt("return");case 2:if(n=parseInt(s.cpuWorkTime,10),r=parseInt(s.cpuRestTime,10),a=parseInt(s.fileLinesBatches,10),o=parseInt(s.fileContentChunks,10),i=parseInt(s.maxExecutionTime,10),!(isNaN(n)||isNaN(r)||isNaN(a)||isNaN(o)||isNaN(i))){t.next=10;break}return Ft(g,(0,l.__)("Please enter valid numbers for the scan settings","advanced-database-cleaner")),t.abrupt("return");case 10:return y(!0),t.prev=11,t.next=14,Xl(cd({file_lines_batch:a,file_content_chunks:o,scan_max_execution_time:i},e&&{cpu_work_time_ms:n,cpu_rest_time_ms:r}));case 14:g(hu({fileLinesBatches:a,fileContentChunks:o,maxExecutionTime:i})),e&&g(vu({cpuWorkTime:n,cpuRestTime:r})),At(g),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(11),Ft(g,t.t0.message);case 22:return t.prev=22,y(!1),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[11,19,22,25]])})));return function(){return t.apply(this,arguments)}}();return r.createElement("div",{className:"flex flex-col gap-6"},r.createElement("div",{className:"flex w-full items-center gap-2"},r.createElement(S,{text:(0,l.__)("Use full CPU power","advanced-database-cleaner"),toggleChangeCallback:function(e){return _(!e)},isActive:!e}),r.createElement(j,{content:r.createElement(r.Fragment,null,(0,l.__)("When enabled, the plugin will utilize the full CPU power during scans, which may lead to faster scan times but could impact server performance. Disabling this option will make the plugin use less CPU, potentially reducing performance impact on your server during scans.","advanced-database-cleaner"))})),e&&r.createElement("div",{className:"flex flex-col gap-[12px] border-t-2 border-gray-200 pt-6"},r.createElement(hd,{title:(0,l.__)("CPU work time","advanced-database-cleaner"),tooltipMsg:(0,l.__)("Specifies the duration (in milliseconds) for which the plugin can utilize the CPU before pausing. Try decreasing this value if you notice performance issues during scans, especially on shared hosting environments.","advanced-database-cleaner"),value:s.cpuWorkTime,onChange:x("cpuWorkTime"),error:f.cpuWorkTime,min:100,max:md}),r.createElement(hd,{title:(0,l.__)("CPU pause time","advanced-database-cleaner"),tooltipMsg:(0,l.__)("Specifies the duration (in milliseconds) for which the plugin pauses to allow other processes to utilize the CPU. Try increasing this value if you notice performance issues during scans, especially on shared hosting environments.","advanced-database-cleaner"),value:s.cpuRestTime,onChange:x("cpuRestTime"),error:f.cpuRestTime,min:1,max:100})),r.createElement("div",{className:"flex flex-col gap-[12px] border-t-2 border-gray-200 pt-6"},r.createElement(hd,{title:(0,l.__)("File line batches","advanced-database-cleaner"),tooltipMsg:(0,l.__)("Specifies the number of lines to process in each batch when reading files. Adjusting this value can help optimize performance and memory usage.","advanced-database-cleaner"),value:s.fileLinesBatches,onChange:x("fileLinesBatches"),error:f.fileLinesBatches,min:100,max:fd}),r.createElement(hd,{title:(0,l.__)("File content chunks (in KB)","advanced-database-cleaner"),tooltipMsg:(0,l.__)("Specifies the size (in kilobytes) of the content chunk read from a file in each iteration. Reducing this value may help prevent memory issues when processing large files.","advanced-database-cleaner"),value:s.fileContentChunks,onChange:x("fileContentChunks"),error:f.fileContentChunks,min:50,max:pd}),r.createElement(hd,{title:(0,l.__)("Max execution time","advanced-database-cleaner"),tooltipMsg:(0,l.__)("Specifies the maximum execution time for scan operations in seconds. Adjusting this value can help prevent long-running scans from causing timeout issues. Default is 0, which means the plugin will decide the best value.","advanced-database-cleaner"),value:s.maxExecutionTime,onChange:x("maxExecutionTime"),error:f.maxExecutionTime,min:0,max:300}),r.createElement("div",null,r.createElement(w,{Icon:v?function(){return r.createElement(A,{text:"",size:"text-[1rem]",className:"animate-spin"})}:oa.kuV,text:v?(0,l.__)("Saving...","advanced-database-cleaner"):(0,l.__)("Save settings","advanced-database-cleaner"),className:"mt-4 px-4 ".concat(v?"pointer-events-none cursor-not-allowed opacity-80":""),onClick:E,disabled:v}))))};function yd(e){return yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(e)}function gd(){gd=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==yd(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(yd(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function bd(e){return function(e){if(Array.isArray(e))return xd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _d(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}const wd=function(){var e=(0,m.d4)((function(e){return e.setting.hiddenTabs})),t=(0,m.wA)(),n=function(){var n,r=(n=gd().mark((function n(r,a){var o;return gd().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a?(o=e.filter((function(e){return e!==r})),t(pu(r))):(o=[].concat(bd(e),[r]),t(fu(r))),n.prev=1,n.next=4,Xl({hidden_tabs:o});case 4:At(t),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),Ft(t,n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){_d(o,r,a,i,l,"next",e)}function l(e){_d(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),a=Pd.filter((function(e){return e.can_be_hidden})),o=Math.ceil(a.length/2),i=a.slice(0,o),l=a.slice(o);return r.createElement("div",{className:"flex flex-col gap-5 sm:flex-row sm:gap-[8rem]"},r.createElement("div",{className:"flex flex-col gap-5"},i.map((function(t){return r.createElement(S,{key:t.id+"_status",text:t.name,toggleChangeCallback:function(e){return n(t.id,e)},isActive:!e.includes(t.id),toggleSize:"small"})}))),r.createElement("div",{className:"flex flex-col gap-5"},l.map((function(t){return r.createElement(S,{key:t.id+"_status",text:t.name,toggleChangeCallback:function(e){return n(t.id,e)},isActive:!e.includes(t.id),toggleSize:"small"})}))))};var Ed=[{key:"table_name",label:(0,l.__)("Table name","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"w-[270px] !pr-4",visibility:""},{key:"rows",label:(0,l.__)("Rows","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:""},{key:"size",label:(0,l.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[90px] max-w-[150px]",visibility:""},{key:"type",label:(0,l.__)("Type","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"w-[90px] max-w-[150px]",visibility:""},{key:"site_id",label:(0,l.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:"1"===W?"":"hidden"},{key:"overhead",label:(0,l.__)("Overhead","advanced-database-cleaner"),sortable:!0,contentType:"int",tooltipText:(0,l.__)("Total disk space wasted by table overhead, which can be recovered by optimizing the table.","advanced-database-cleaner"),width:"w-[100px]",visibility:""},{key:"belongs_to",label:(0,l.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,l.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"w-[280px]",visibility:""}],Nd=[[{key:"bulk_actions",label:(0,l.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_tables",label:"FREE"===R?r.createElement("span",{className:"flex items-center"},(0,l.__)("Scan","advanced-database-cleaner"),r.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("(premium)","advanced-database-cleaner"))):(0,l.__)("Scan","advanced-database-cleaner"),tooltipText:r.createElement("span",null,(0,l.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===R&&r.createElement("div",{className:"flex text-yellow-600"},(0,l.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===R},{key:"edit_scan_results_tables",label:(0,l.__)("Edit -Belongs to-","advanced-database-cleaner"),tooltipText:(0,l.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===R}],[{key:"optimize_tables",label:(0,l.__)("Optimize","advanced-database-cleaner"),tooltipText:(0,l.__)("The optimization reorganizes the physical storage of table data to reduce storage space and improve efficiency when accessing the table","advanced-database-cleaner")},{key:"repair_tables",label:(0,l.__)("Repair","advanced-database-cleaner"),tooltipText:(0,l.__)("Repair a possibly corrupted table (for certain storage engines only).","advanced-database-cleaner")}],[{key:"empty_rows_tables",label:(0,l.__)("Empty rows","advanced-database-cleaner"),tooltipText:(0,l.__)("Delete all data from a table without deleting the table itself.","advanced-database-cleaner"),danger:!0},{key:"delete_tables",label:(0,l.__)("Delete","advanced-database-cleaner"),tooltipText:(0,l.__)("Delete the table with all its data.","advanced-database-cleaner"),danger:!0}]];var kd=[{key:"transient_name",label:(0,l.__)("Transient name","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"w-[250px] max-w-[260px] !pr-4",visibility:""},{key:"value",label:(0,l.__)("Value","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"w-[200px] max-w-[210px]",visibility:""},{key:"size",label:(0,l.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:""},{key:"autoload",label:(0,l.__)("Autoload","advanced-database-cleaner"),sortable:!0,contentType:"string",tooltipText:(0,l.__)("Indicates whether an transient is autoloaded or not. Values to autoload are: yes, on, auto, auto-on. Values to not autoload are: no, off, auto-off","advanced-database-cleaner"),width:"w-[80px] max-w-[150px]",visibility:""},{key:"expired",label:(0,l.__)("Expired","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"w-[80px] max-w-[150px]",visibility:""},{key:"site_id",label:(0,l.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:"1"===W?"":"hidden"},{key:"belongs_to",label:(0,l.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,l.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"w-[280px]",visibility:""}],Sd=[[{key:"bulk_actions",label:(0,l.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_transients",label:"FREE"===R?r.createElement("span",{className:"flex items-center"},(0,l.__)("Scan","advanced-database-cleaner"),r.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("(premium)","advanced-database-cleaner"))):(0,l.__)("Scan","advanced-database-cleaner"),tooltipText:r.createElement("span",null,(0,l.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===R&&r.createElement("div",{className:"flex text-yellow-600"},(0,l.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===R},{key:"edit_scan_results_transients",label:(0,l.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,l.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===R}],[{key:"set_autoload_to_yes_transients",label:(0,l.__)("Set autoload to Yes","advanced-database-cleaner"),tooltipText:(0,l.__)("Setting autoload to Yes can decrease the performance of your website if you have a lot of transients set to autoload.","advanced-database-cleaner")},{key:"set_autoload_to_no_transients",label:(0,l.__)("Set autoload to No","advanced-database-cleaner"),tooltipText:(0,l.__)("Setting autoload to No can improve the performance of your website by reducing the number of transients loaded on each page.","advanced-database-cleaner")}],[{key:"delete_transients",label:(0,l.__)("Delete","advanced-database-cleaner"),tooltipText:(0,l.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];var Ld=[{key:"meta_key",label:(0,l.__)("Meta key","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"w-[260px] !pr-4",visibility:""},{key:"value",label:(0,l.__)("Value","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"w-[220px]",visibility:""},{key:"size",label:(0,l.__)("Size","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:""},{key:"user_id",label:(0,l.__)("User ID","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:""},{key:"belongs_to",label:(0,l.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,l.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"w-[280px]",visibility:""}],jd=[[{key:"bulk_actions",label:(0,l.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_users_meta",label:"FREE"===R?r.createElement("span",{className:"flex items-center"},(0,l.__)("Scan","advanced-database-cleaner"),r.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("(premium)","advanced-database-cleaner"))):(0,l.__)("Scan","advanced-database-cleaner"),tooltipText:r.createElement("span",null,(0,l.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===R&&r.createElement("div",{className:"flex text-yellow-600"},(0,l.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===R},{key:"edit_scan_results_users_meta",label:(0,l.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,l.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===R}],[{key:"delete_users_meta",label:(0,l.__)("Delete","advanced-database-cleaner"),tooltipText:(0,l.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];var Od=new URL(window.location.href);Array.from(Od.searchParams.keys()).forEach((function(e){"page"!==e&&Od.searchParams.delete(e)}));var Td=[{group_id:"group_1",is_last_group:!1,items:[{id:"general_cleanup",name:(0,l.__)("General cleanup","advanced-database-cleaner"),href:Od.href+"&tab=general_cleanup",icon:we.RSe,icon_size:"h-[19px] w-[19px]",component:function(){var e=(0,m.d4)((function(e){return e.shared.currentSubTabId}));return r.createElement(r.Fragment,null,e?r.createElement(Pc,{subTab:e}):r.createElement(xs,null))},can_be_hidden:!1,show_in_menu:!0,is_premium:!1}]},{group_id:"group_2",is_last_group:!1,items:[{id:"tables",name:(0,l.__)("Tables","advanced-database-cleaner"),href:Od.href+"&tab=tables",icon:_e.rNF,icon_size:"h-[19px] w-[19px]",component:function(){return r.createElement(Tc,{tabName:"tables",actions:Nd,columns:Ed})},can_be_hidden:!0,show_in_menu:!0},{id:"options",name:(0,l.__)("Options","advanced-database-cleaner"),href:Od.href+"&tab=options",icon:_e.qu7,icon_size:"h-[19px] w-[19px]",component:function(){return r.createElement(Tc,{tabName:"options",actions:Ks,columns:qs})},can_be_hidden:!0,show_in_menu:!0},{id:"posts_meta",name:(0,l.__)("Post meta","advanced-database-cleaner"),href:Od.href+"&tab=posts_meta",icon:he.lV7,icon_size:"h-[19px] w-[19px]",component:function(){return r.createElement(Tc,{tabName:"posts_meta",actions:$s,columns:Hs})},can_be_hidden:!0,show_in_menu:!0},{id:"users_meta",name:(0,l.__)("User meta","advanced-database-cleaner"),href:Od.href+"&tab=users_meta",icon:ve.x$1,icon_size:"h-[19px] w-[19px]",component:function(){return r.createElement(Tc,{tabName:"users_meta",actions:jd,columns:Ld})},can_be_hidden:!0,show_in_menu:!0},{id:"transients",name:(0,l.__)("Transients","advanced-database-cleaner"),href:Od.href+"&tab=transients",icon:be.EA,icon_size:"h-[20px] w-[20px]",component:function(){return r.createElement(Tc,{tabName:"transients",actions:Sd,columns:kd})},can_be_hidden:!0,show_in_menu:!0},{id:"cron_jobs",name:(0,l.__)("Cron jobs","advanced-database-cleaner"),href:Od.href+"&tab=cron_jobs",icon:he.g0H,icon_size:"h-[19px] w-[19px]",component:function(){var e=[{key:"hook_name",label:(0,l.__)("Hook","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"w-[210px]",visibility:""},{key:"timestamp",label:(0,l.__)("Next run","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[150px]",visibility:"",tooltipText:(0,l.__)("All dates/times are in your local time zone","advanced-database-cleaner")},{key:"action",label:(0,l.__)("Action","advanced-database-cleaner"),sortable:!1,contentType:"string",width:"w-[200px]",visibility:""},{key:"frequency_display",label:(0,l.__)("Frequency","advanced-database-cleaner"),sortable:!0,contentType:"string",width:"w-[120px]",visibility:""},{key:"interval",label:(0,l.__)("Interval","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[100px]",visibility:""},{key:"site_id",label:(0,l.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",width:"w-[80px] max-w-[150px]",visibility:"1"===W?"":"hidden"},{key:"belongs_to",label:(0,l.__)("Belongs to","advanced-database-cleaner"),sortable:!1,contentType:"string",tooltipText:(0,l.__)("The plugin or theme the item belongs to, determined after running a scan. If uncertain, an estimated likelihood (%) is shown, the higher the percentage, the more likely the item belongs to that plugin/theme.","advanced-database-cleaner"),width:"w-[200px]",visibility:""}],t=[[{key:"bulk_actions",label:(0,l.__)("Bulk actions","advanced-database-cleaner")}],[{key:"scan_cron_jobs",label:"FREE"===R?r.createElement("span",{className:"flex items-center"},(0,l.__)("Scan","advanced-database-cleaner"),r.createElement("span",{className:"ml-1 flex items-center gap-1 !text-[.75rem] font-semibold text-yellow-600"},r.createElement(u.xGQ,{className:"text-[.9rem] text-yellow-500"}),(0,l.__)("(premium)","advanced-database-cleaner"))):(0,l.__)("Scan","advanced-database-cleaner"),tooltipText:r.createElement("span",null,(0,l.__)("The scan allows the identification of the plugins or themes to which the items belong.","advanced-database-cleaner"),"FREE"===R&&r.createElement("div",{className:"flex text-yellow-600"},(0,l.__)("Available in the premium version.","advanced-database-cleaner"))),disabled:"FREE"===R},{key:"edit_scan_results_cron_jobs",label:(0,l.__)("Edit scan result","advanced-database-cleaner"),tooltipText:(0,l.__)("You can edit the scan results to correctly associate items with their respective plugins or themes if you are certain of their belonging.","advanced-database-cleaner"),isVisible:"PREMIUM"===R}],[{key:"delete_cron_jobs",label:(0,l.__)("Delete","advanced-database-cleaner"),tooltipText:(0,l.__)("Delete the selected items.","advanced-database-cleaner"),danger:!0}]];return r.createElement(Tc,{tabName:"cron_jobs",actions:t,columns:e})},can_be_hidden:!0,show_in_menu:!0}]},{group_id:"group_3",is_last_group:!1,items:[{id:"automation",name:(0,l.__)("Automation","advanced-database-cleaner"),href:Od.href+"&tab=automation",icon:ge.qsz,icon_size:"h-[21px] w-[21px]",component:function(){var e=(0,m.d4)((function(e){return e.shared.currentSubTabId}));return r.createElement(r.Fragment,null,"add_edit_task"===e?r.createElement(aa,null):r.createElement(Pa,null))},can_be_hidden:!0,show_in_menu:!0},{id:"analytics",name:(0,l.__)("DB analytics","advanced-database-cleaner"),href:Od.href+"&tab=analytics",icon:c.YfN,icon_size:"h-[18px] w-[18px]",component:function(){var e=(0,m.d4)((function(e){return e.setting.analyticsEnabled})),t=function(){var e,t=null!==(e=M.analytics_execution)&&void 0!==e?e:{},n=t.success,r=void 0===n?0:n,a=t.fail,o=void 0===a?0:a;if(0===r&&0===o)return null;var i=r>=o;return{timeStamp:i?r:o,label:i?(0,l.__)("Last analytics execution was successful on:","advanced-database-cleaner"):(0,l.__)("Last analytics execution failed on:","advanced-database-cleaner"),status:i?"success":"fail"}}(),n=(0,m.wA)();return r.createElement(r.Fragment,null,!e&&r.createElement(im,{type:"warning"},r.createElement("p",{className:"flex items-center gap-2"},(0,l.__)("You disabled this module. Please enable it in the settings to track database changes.","advanced-database-cleaner"),r.createElement(I,{href:"",onClick:function(e){e.preventDefault(),n(Rd({tabId:"settings",anchorId:"other_settings"}))}},(0,l.__)("Go to settings","advanced-database-cleaner")))),r.createElement(pn,{tabsItems:hr}),t&&r.createElement(r.Fragment,null,r.createElement("div",{className:"my-4 flex flex-col items-end justify-end gap-x-1 text-end text-gray-600 ".concat("FREE"===R?"blur-[1px]":"")},r.createElement("div",{className:"flex flex-col gap-x-1 sm:flex-row"},r.createElement("span",{className:"".concat("success"===t.status?"text-green-600":"text-red-600")},t.label),r.createElement("span",null,yt(t.timeStamp),(0,l.__)(" (local time)","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center justify-end text-[.75rem] text-gray-400"},(0,l.__)("Note: Analytics data is refreshed every 24 hours.","advanced-database-cleaner")))))},can_be_hidden:!0,show_in_menu:!0,is_premium:!0},{id:"addons_activity",name:(0,l.__)("Addons activity","advanced-database-cleaner"),href:Od.href+"&tab=addons_activity",icon:F.WBu,icon_size:"h-[21px] w-[21px]",component:function(){var e,t=Bt((0,r.useState)(null),2),n=t[0],a=t[1],o=Bt((0,r.useState)(!0),2),i=o[0],c=o[1],d=Bt((0,r.useState)(""),2),f=d[0],p=d[1],h=Bt((0,r.useState)(""),2),y=h[0],g=h[1],b=Bt((0,r.useState)(""),2),x=b[0],_=b[1],E=Bt((0,r.useState)(""),2),N=E[0],k=E[1],S=(0,m.d4)((function(e){return e.filter.currentPage})),L=(0,m.d4)((function(e){return e.filter.itemsPerPage})),j=(0,m.d4)((function(e){return e.setting.addonsActivityEnabled})),O=(0,m.d4)((function(e){return e.shared.showAddonsActivityNotice})),T=(0,m.wA)(),P=null!==(e=Yt.find((function(e){return e.key===y})))&&void 0!==e?e:Yt[0],C=""!==x||""!==N;(0,r.useEffect)((function(){M(x,N)}),[S,L]);var M=function(){var e,t=(e=zt().mark((function e(t,n){var r,o,i=arguments;return zt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>2&&void 0!==i[2]?i[2]:null,c(!0),e.prev=2,"PREMIUM"!==R){e.next=9;break}return e.next=6,it({search:t,activity_type:n,offset:r?(r-1)*L:(S-1)*L,limit:L});case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,Nt();case 11:e.t0=e.sent;case 12:o=e.t0,a(o.data),r&&T(Be(r)),e.next=21;break;case 17:e.prev=17,e.t1=e.catch(2),Ft(T,e.t1.message),a(null);case 21:return e.prev=21,c(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,17,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Rt(o,r,a,i,l,"next",e)}function l(e){Rt(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),D=function(e){switch(e){case"activation":return"text-green-600 bg-green-100";case"deactivation":return"text-gray-600 bg-gray-200";default:return"text-red-600 bg-red-100"}};return r.createElement("div",{className:"relative min-h-[500px]"},r.createElement("div",{className:"".concat("FREE"===R?"pointer-events-none blur-[1px]":"")},j&&O&&r.createElement(im,{type:"info",notificationKey:"addons_activity_info"},(0,l.__)("This module tracks plugin and theme activity, including activation, deactivation, and uninstallation, and provides a complete history for debugging and site analysis.","advanced-database-cleaner")," ","1"===W&&(0,l.__)("(Only the current site will be monitored. Activities on child sites will not be tracked).","advanced-database-cleaner")),!j&&r.createElement(im,{type:"warning"},r.createElement("p",{className:"flex items-center gap-2"},(0,l.__)("You disabled this module. Please enable it in the settings to start recording addon activities.","advanced-database-cleaner"),r.createElement(I,{href:"",onClick:function(e){e.preventDefault(),T(Rd({tabId:"settings",anchorId:"other_settings"}))}},(0,l.__)("Go to settings","advanced-database-cleaner")))),r.createElement("div",{className:"flex w-full flex-col justify-between gap-y-4 rounded-xl border bg-gray-200/80 p-3 text-[.7rem] text-gray-900 shadow-sm xl:flex-row"},r.createElement("form",{className:"grid grid-cols-2 items-end gap-x-4 sm:grid-cols-3 xl:flex"},r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Search for","advanced-database-cleaner")),r.createElement(v,{placeholder:(0,l.__)("Addon name or slug","advanced-database-cleaner"),className:"mt-1 !h-[2rem] w-full !border-gray-300 xl:w-[15rem]",onChange:function(e){return p(e.target.value)},maxLength:200,value:f})),r.createElement("div",null,r.createElement("div",{className:"leading-6"},(0,l.__)("Activity type","advanced-database-cleaner")),r.createElement(fm,{selectItems:Wt,selectedItem:P,onSelectionChange:function(e){return g(e)},minWidthButton:"w-full xl:min-w-[9rem]",minWidthContent:"min-w-[150px]"})),r.createElement("div",null,r.createElement(w,{Icon:Xe.F3z,text:(0,l.__)("Filter","advanced-database-cleaner"),className:"mt-2 !h-[2rem] xl:mt-0",onClick:function(e){e.preventDefault(),_(f),k(y),M(f,y,1)}}))),r.createElement("div",{className:"flex items-end gap-x-4"},r.createElement("div",null,r.createElement("span",{className:"text-[.8rem] text-gray-800"},(0,l.__)("Total activities","advanced-database-cleaner"),":"," ",r.createElement("span",{className:"font-semibold"},null!=n&&n.total?null==n?void 0:n.total:0))),r.createElement("div",{className:"flex items-center gap-x-[4px] border-l border-gray-400 pl-4"},r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-black no-underline",onClick:function(e){e.preventDefault(),i||M(x,N)}},r.createElement(u.JbZ,{className:"".concat(i?"animate-spin":"")}),(0,l.__)("Refresh","advanced-database-cleaner"))),C&&r.createElement("div",{className:"flex items-center gap-x-[4px] border-l border-gray-400 pl-4"},r.createElement(I,{href:"#",className:"text-[.8rem] font-semibold text-red-600 no-underline",onClick:function(e){e.preventDefault(),p(""),g(""),_(""),k(""),M("","",1)}},r.createElement(u.k7K,null),(0,l.__)("Reset filters","advanced-database-cleaner"))))),r.createElement("div",{className:"mt-8 flex justify-end text-[.82rem] text-gray-800"},(null==n?void 0:n.total)>L&&r.createElement("div",null,r.createElement(Ze,{totalItems:null==n?void 0:n.total,top:!1,loading:i,filterApplied:C}))),i?r.createElement("div",{className:"flex min-h-[300px] items-center justify-center"},r.createElement(A,{spinnerColor:"text-blue-600"})):r.createElement("div",{className:"mt-6 rounded-xl border border-gray-200 bg-gray-50 px-4 py-2"},n&&n.activity_timeline&&0!==n.activity_timeline.length?r.createElement("div",{className:"relative py-2"},r.createElement("div",{className:"absolute bottom-0 left-6 top-0 w-px bg-gray-200"}),r.createElement("ul",{className:"space-y-1"},n.activity_timeline.map((function(e,t){return r.createElement("li",{key:"".concat(e.timestamp,"-").concat(t),className:"group"},r.createElement("div",{className:"relative -m-[11px] flex items-start space-x-6 rounded-lg px-4 py-4 transition-all duration-200 hover:bg-gray-300/40"},r.createElement("div",{className:"relative z-10 flex-shrink-0"},r.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-gray-200 bg-white transition-all duration-300 group-hover:border-gray-400"},function(e){switch(e){case"activation":return r.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-200"},r.createElement(ve.CMH,{className:"h-3 w-3 text-green-700"}));case"deactivation":return r.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-300"},r.createElement(be.hjN,{className:"h-4 w-4"}));default:return r.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-200"},r.createElement(ge.FyX,{className:"h-5 w-5 text-red-700"}))}}(e.activity_type)),t!==n.activity_timeline.length-1&&r.createElement("div",{className:"absolute left-1/2 top-12 h-8 w-px -translate-x-px transform bg-gray-200"})),r.createElement("div",{className:"min-w-0 flex-1 pt-1"},r.createElement("div",{className:"mb-1 flex items-center justify-between"},r.createElement("div",{className:"flex flex-col gap-y-2 md:flex-row md:items-center md:space-x-2"},r.createElement("span",{className:"rounded-md px-1 text-[.7rem] font-semibold uppercase tracking-wide ".concat(D(e.activity_type)," ")},e.activity_type),r.createElement("span",{className:"text-xs text-gray-800"},yt(e.timestamp)))),r.createElement("div",{className:"mb-1 flex flex-col xl:flex-row xl:items-center xl:justify-between"},r.createElement("h4",{className:"text-[.83rem] font-semibold text-gray-900"},e.addon_name),r.createElement("p",{className:"font-mono text-[.85rem] text-gray-500"},e.slug)))))})))):r.createElement("div",{className:"flex min-h-[300px] flex-col items-center justify-center rounded-xl px-6"},r.createElement("div",{className:"flex h-16 w-16 items-center justify-center rounded-full border border-gray-200 bg-gray-100"},r.createElement(u.t2D,{className:"h-7 w-7 text-gray-400"})),r.createElement("div",{className:"mt-6 text-center"},r.createElement("h3",{className:"mb-3 text-[1.3em] font-bold text-gray-800"},(0,l.__)("No activity found!","advanced-database-cleaner")),r.createElement("p",{className:"text-sm leading-relaxed text-gray-500"},C?(0,l.__)("No activity found for the applied filters. Try different filters.","advanced-database-cleaner"):(0,l.__)("Once you activate, deactivate or uninstall addons, they will appear here.","advanced-database-cleaner"))))),r.createElement("div",{className:"mt-2 flex justify-end gap-3 text-[.75rem] text-gray-400"},(0,l.__)("(All dates/times are in your local time zone)","advanced-database-cleaner")),r.createElement("div",{className:"mt-4 flex flex-col items-center justify-between gap-y-6 text-[.82rem] text-gray-800 sm:flex-row"},(null==n?void 0:n.total)>25&&r.createElement(Qe,null),(null==n?void 0:n.total)>L&&r.createElement("div",null,r.createElement(Ze,{totalItems:null==n?void 0:n.total,top:!1,loading:i,filterApplied:C})))),"FREE"===R&&r.createElement("div",{className:"absolute inset-0 top-[85px] z-20 flex justify-center rounded-lg bg-white/40 backdrop-blur-[1px]"},r.createElement("div",{className:"mx-4 max-h-[450px] min-h-[200px] min-w-[500px] border border-gray-200 bg-white p-8 shadow-2xl"},r.createElement("div",{className:"text-center"},r.createElement("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-yellow-400 to-orange-500"},r.createElement(u.xGQ,{className:"h-8 w-8 text-white"})),r.createElement("h3",{className:"mb-3 text-xl font-bold text-gray-900"},(0,l.__)("Unlock Addons Activity Timeline","advanced-database-cleaner")),r.createElement("p",{className:"mb-6 text-gray-600"},(0,l.__)("Upgrade to the Premium to access the addons activity timeline.","advanced-database-cleaner")),r.createElement("div",{className:"mb-6 space-y-2 text-left text-sm text-gray-700"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("Complete activity timeline","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("See when an addon was activated or removed","advanced-database-cleaner"))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(s.LGE,{className:"h-4 w-4 rounded-full bg-green-100 text-green-600"}),r.createElement("span",null,(0,l.__)("Search and filter activities","advanced-database-cleaner")))),r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=addons-activity&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},r.createElement("span",{className:"flex items-center justify-center gap-2"},(0,l.__)("Upgrade to Premium","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))),r.createElement("div",{className:"mt-4"},r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=addons-activity&utm_medium=adbc-free&utm_campaign=plugins&utm_content=learn-more-about-premium-features",target:"_blank",className:"!text-sm !font-normal !text-blue-600 !no-underline hover:!text-blue-800 hover:!underline"},(0,l.__)("Learn more about Premium features","advanced-database-cleaner")))))))},can_be_hidden:!0,show_in_menu:!0,is_premium:!0}]},{group_id:"group_4",is_last_group:!0,items:[{id:"info_and_logs",name:(0,l.__)("Info & logs","advanced-database-cleaner"),href:Od.href+"&tab=info_and_logs",icon:ye.xe2,icon_size:"h-[18px] w-[19px]",component:function(){return r.createElement(pn,{tabsItems:Ys})},can_be_hidden:!0,show_in_menu:!0},{id:"settings",name:(0,l.__)("Settings","advanced-database-cleaner"),href:Od.href+"&tab=settings",icon:s.hyW,icon_size:"h-[21px] w-[21px]",component:function(){var e=(0,m.d4)((function(e){return e.shared.anchorId}));return(0,r.useEffect)((function(){if(e){var t=document.getElementById(e);t&&setTimeout((function(){t.scrollIntoView({behavior:"smooth",block:"start"})}),300)}}),[e]),r.createElement("div",{className:"max-w-2xl"},"PREMIUM"===R&&r.createElement($l,{title:(0,l.__)("License","advanced-database-cleaner"),description:(0,l.__)("Manage your license from this section.","advanced-database-cleaner"),content:r.createElement(Pu,null)}),r.createElement($l,{title:(0,l.__)("Menu placement","advanced-database-cleaner"),description:(0,l.__)("Select where to display the plugin menu.","advanced-database-cleaner"),content:r.createElement(Ru,null)}),r.createElement($l,{title:(0,l.__)("Hide/show tabs","advanced-database-cleaner"),description:(0,l.__)("Select which tabs to hide or show in the plugin menu.","advanced-database-cleaner"),content:r.createElement(wd,null)}),r.createElement($l,{title:(0,l.__)("Performance settings","advanced-database-cleaner"),description:(0,l.__)("Configure performance-related settings for database cleanup operations and optimization.","advanced-database-cleaner"),content:r.createElement(nd,null)}),"PREMIUM"===R&&r.createElement($l,{title:(0,l.__)("Scan settings","advanced-database-cleaner"),description:(0,l.__)("The scan process identifies to which plugin/theme a table, option, or other element belongs. You can customize this process using the scan settings below.","advanced-database-cleaner"),content:r.createElement(vd,null)}),r.createElement($l,{title:(0,l.__)("Other settings","advanced-database-cleaner"),description:(0,l.__)("Other settings to configure the plugin behavior.","advanced-database-cleaner"),content:r.createElement(qu,null),anchorId:"other_settings"}),"PREMIUM"===R&&r.createElement($l,{title:(0,l.__)("Remote scan credits","advanced-database-cleaner"),description:(0,l.__)("Daily credit balance for enhancing local scan accuracy via remote server analysis. Each credit enables one request to improve detection of tables, options, and other elements linked to specific plugins and themes.","advanced-database-cleaner"),readMoreLink:"https://docs.sigmaplugin.com/article/58-understanding-documentation-remote-scan-credits-in-advanced-database-cleaner-premium?utm_source=settings&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=documentation-remote-scan-credits",content:r.createElement(sc,null)}))},can_be_hidden:!1,show_in_menu:!0},{id:"premium",name:(0,l.__)("Premium","advanced-database-cleaner"),href:Od.href+"&tab=premium",icon:xe.l7J,icon_size:"h-[19px] w-[19px]",component:function(){var e=[{name:(0,l.__)("19 standard cleanup tools","advanced-database-cleaner"),icon:r.createElement(be.DHF,{className:"h-6 w-6 text-indigo-400"}),description:(0,l.__)("Revisions, Auto drafts, unused postmeta, unused usermeta, expired transients, and more.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,l.__)("Preview before you clean","advanced-database-cleaner"),icon:r.createElement(Vs.xyf,{className:"h-6 w-6 text-emerald-400"}),description:(0,l.__)("Inspect revisions, unused post meta, and other items with full context prior to deletion.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,l.__)("Retention by date","advanced-database-cleaner"),icon:r.createElement(ia.Amo,{className:"h-6 w-6 text-purple-400"}),description:(0,l.__)("Keep the latest items per day and delete older ones.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,l.__)("6 data managers","advanced-database-cleaner"),icon:r.createElement(_e.wIx,{className:"h-6 w-6 text-cyan-400"}),description:(0,l.__)("Manage and deeply clean Tables, Options, Post Meta, User Meta, Transients, and Cron Jobs.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,l.__)("Autoload health check","advanced-database-cleaner"),icon:r.createElement(_e.uBf,{className:"h-6 w-6 text-orange-400"}),description:(0,l.__)("Check autoloaded options and spot heavy offenders. Then flip autoload on/off as needed.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,l.__)("Basic filters","advanced-database-cleaner"),icon:r.createElement(_e.XPy,{className:"h-6 w-6 text-pink-400"}),description:(0,l.__)("Quickly locate items to clean, optimize, or manage with preset filters.","advanced-database-cleaner"),free:!0,pro:!0},{name:(0,l.__)("Retention by count","advanced-database-cleaner"),icon:r.createElement(_e.Yd$,{className:"h-6 w-6 text-teal-400"}),description:(0,l.__)("Keep the last N items per post or entity and delete the rest.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Advanced filters","advanced-database-cleaner"),icon:r.createElement(_e.o5_,{className:"h-6 w-6 text-rose-400"}),description:(0,l.__)("Filter items by name patterns, metadata, and precise criteria.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Local scan","advanced-database-cleaner"),icon:r.createElement(_e.Mqc,{className:"h-6 w-6 text-amber-400"}),description:(0,l.__)("Scan options, tables, post meta, and more to identify their plugin/theme owners and detect orphans.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Remote SmartScan","advanced-database-cleaner"),icon:r.createElement(_e.c$4,{className:"h-6 w-6 text-sky-400"}),description:(0,l.__)("Cross-check your items with a curated cloud database for improved ownership accuracy.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Who uses this item?","advanced-database-cleaner"),icon:r.createElement(zl.qZP,{className:"h-6 w-6 text-lime-500"}),description:(0,l.__)("After a remote scan, see which plugins/themes rely on a given option, table, etc.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Manual corrections","advanced-database-cleaner"),icon:r.createElement(_e.mDV,{className:"h-6 w-6 text-fuchsia-400"}),description:(0,l.__)("Assign specific items to the correct plugin/theme when needed.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Contribute corrections","advanced-database-cleaner"),icon:r.createElement(_e.Ddm,{className:"h-6 w-6 text-blue-400"}),description:(0,l.__)("Submit your verified corrections to improve global scan accuracy.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Action Scheduler cleaners","advanced-database-cleaner"),icon:r.createElement(ia.lNg,{className:"h-6 w-6 text-green-400"}),description:(0,l.__)("7 dedicated tools for canceled, failed, and completed actions and logs.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Create scheduled tasks","advanced-database-cleaner"),icon:r.createElement(_e.W4C,{className:"h-6 w-6 text-red-400"}),description:(0,l.__)("Automate routine cleanups exactly when you want them.","advanced-database-cleaner"),free:(0,l.__)("Up to 5 tasks","advanced-database-cleaner"),pro:(0,l.__)("Unlimited","advanced-database-cleaner")},{name:(0,l.__)("Execution logs for scheduled tasks","advanced-database-cleaner"),icon:r.createElement(_e.NJW,{className:"h-6 w-6 text-indigo-400"}),description:(0,l.__)("View detailed logs for every scheduled task you create.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Database analytics overview","advanced-database-cleaner"),icon:r.createElement(_e.JKR,{className:"h-6 w-6 text-emerald-400"}),description:(0,l.__)("Track total DB size and table count over time; drill into daily or monthly changes.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Tables growth analytics","advanced-database-cleaner"),icon:r.createElement(ge.VCI,{className:"h-6 w-6 text-purple-400"}),description:(0,l.__)("Monitor per-table size and row count trends to spot issues early.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Add-ons activity monitor","advanced-database-cleaner"),icon:r.createElement(we.QWR,{className:"h-6 w-6 text-cyan-400"}),description:(0,l.__)("See when plugins are activated, deactivated, or uninstalled, then filter the timeline.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Multisite support","advanced-database-cleaner"),icon:r.createElement(_e.MFJ,{className:"h-6 w-6 text-pink-400"}),description:(0,l.__)("Designed for networks, manage cleanup across sites.","advanced-database-cleaner"),free:(0,l.__)("Limited","advanced-database-cleaner"),pro:(0,l.__)("Full","advanced-database-cleaner")},{name:(0,l.__)("Multisite: filter by site","advanced-database-cleaner"),icon:r.createElement(_e.XPy,{className:"h-6 w-6 text-teal-400"}),description:(0,l.__)("Target specific sub-sites when reviewing or cleaning data.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Advanced scan settings & CPU control","advanced-database-cleaner"),icon:r.createElement(ge.GD,{className:"h-6 w-6 text-violet-400"}),description:(0,l.__)("Tune scan depth and resource usage to fit your hosting limits.","advanced-database-cleaner"),free:!1,pro:!0},{name:(0,l.__)("Priority email support","advanced-database-cleaner"),icon:r.createElement(F.FlW,{className:"h-6 w-6 text-rose-400"}),description:(0,l.__)("Skip the queue and get help from the developers faster.","advanced-database-cleaner"),free:!1,pro:!0}],t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"md",n="sm"===t?"h-2 w-2":"h-4 w-4",a="sm"===t?"h-2 w-2":"h-4 w-4";return!0===e?r.createElement("span",{className:"inline-flex items-center justify-center"},r.createElement("div",{className:"rounded-full bg-gradient-to-r from-emerald-400 to-green-500 p-1"},r.createElement(ye.CMH,{className:"".concat(n," text-white")}))):!1===e?r.createElement("span",{className:"inline-flex items-center justify-center"},r.createElement("div",{className:"rounded-full bg-gradient-to-r from-red-400 to-rose-500 p-1"},r.createElement(ge.$8F,{className:"".concat(a," text-white")}))):r.createElement("span",{className:"text-sm font-medium"},e)};return r.createElement("div",{className:"min-h-screen"},r.createElement("div",{className:"mx-auto max-w-6xl px-0 pt-4 sm:pt-4"},r.createElement("div",{className:"mb-8 text-center sm:mb-12"},r.createElement("div",{className:"mb-6 inline-flex items-center gap-3 rounded-full border border-indigo-500/20 bg-gradient-to-r from-indigo-500/10 to-purple-500/10 px-6 py-3 text-sm font-medium text-indigo-600"},"FREE"===R?r.createElement(we.JX6,{className:"h-5 w-5 text-yellow-500"}):r.createElement(u.xGQ,{className:"h-5 w-5 text-blue-600"}),"FREE"===R?(0,l.__)("You're using the Free version","advanced-database-cleaner"):(0,l.__)("You're using the Premium version","advanced-database-cleaner")),"FREE"===R&&r.createElement(r.Fragment,null,r.createElement("h1",{className:"mx-auto mb-6 max-w-4xl bg-gradient-to-r from-gray-800 via-indigo-600 to-purple-600 bg-clip-text text-xl font-bold leading-tight text-transparent sm:text-2xl lg:text-2xl"},(0,l.__)("Upgrade to Premium for the most accurate, safe database cleanup","advanced-database-cleaner")),r.createElement("div",{className:"text-[.8rem]"},r.createElement(I,{href:"https://docs.sigmaplugin.com/category/70-faq?utm_source=premium-page&utm_medium=adbc-free&utm_campaign=plugins&utm_content=documentation-faq",target:"_blank",className:"!text-blue-700 !no-underline hover:!text-blue-800"},(0,l.__)("FAQ","advanced-database-cleaner")),r.createElement("span",{className:"mx-2"},"-"),r.createElement(I,{href:"https://sigmaplugin.com/contact?utm_source=premium-page&utm_medium=adbc-free&utm_campaign=plugins&utm_content=support",target:"_blank",className:"!text-blue-700 !no-underline hover:!text-blue-800"},(0,l.__)("Pre-sale Question","advanced-database-cleaner"))))),r.createElement("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-xl"},r.createElement("div",{className:"hidden grid-cols-6 border-b-0 border-gray-200 bg-gray-100 md:!grid"},r.createElement("div",{className:"col-span-4 border-b-0 bg-white px-4 sm:px-6"},r.createElement("div",{className:"pt-6 text-base font-semibold text-black sm:pt-8 sm:text-lg"},(0,l.__)("Features","advanced-database-cleaner"))),r.createElement("div",{className:"flex flex-col items-center border-x border-b border-gray-200 px-4 py-3 text-center sm:px-6"},r.createElement("div",{className:"mb-1 mt-2 flex items-center justify-center gap-2 sm:mb-2 sm:mt-4"},r.createElement(we.JX6,{className:"h-5 w-5 text-yellow-500"}),r.createElement("h3",{className:"text-base font-semibold text-gray-900 sm:text-lg"},(0,l.__)("Free","advanced-database-cleaner")))),r.createElement("div",{className:"flex flex-col items-center border-b border-gray-200 px-4 py-3 text-center sm:px-6"},r.createElement("div",{className:"mb-1 mt-2 flex items-center justify-center gap-2 sm:mb-2 sm:mt-4"},r.createElement(u.xGQ,{className:"h-5 w-5 text-blue-600"}),r.createElement("h3",{className:"text-base font-semibold text-gray-900 sm:text-lg"},(0,l.__)("Premium","advanced-database-cleaner"))))),"FREE"===R&&r.createElement("div",{className:"hidden grid-cols-6 border-b border-gray-200 bg-white md:!grid"},r.createElement("div",{className:"col-span-4"}),r.createElement("div",{className:"flex flex-col items-center border-x border-gray-200 px-4 py-3 text-center sm:px-6"},r.createElement("div",{className:"text-[.9rem] text-gray-900"},(0,l.__)("Installed","advanced-database-cleaner"))),r.createElement("div",{className:"relative px-4 py-3 text-center sm:px-6"},r.createElement("div",{className:"text-[.9rem]"},r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=premium-page&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"!text-blue-600 hover:!text-blue-800"},r.createElement("span",{className:"hidden xl:!flex"},(0,l.__)("Upgrade now","advanced-database-cleaner")),r.createElement("span",{className:"flex xl:!hidden"},(0,l.__)("Upgrade","advanced-database-cleaner")))))),e.map((function(e,n){return r.createElement("div",{key:n,className:"grid grid-cols-1 items-stretch border-t border-gray-100 transition-colors first:border-t-0 hover:bg-gray-50 md:grid-cols-6 md:items-center md:hover:bg-gray-100"},r.createElement("div",{className:"col-span-1 p-4 sm:p-5 md:col-span-4"},r.createElement("div",{className:"flex items-start gap-3"},r.createElement("div",{className:"mt-1 shrink-0 rounded-xl bg-gradient-to-r from-gray-100 to-gray-200 p-2 transition-all group-hover:from-gray-200 group-hover:to-gray-300"},e.icon),r.createElement("div",{className:"min-w-0"},r.createElement("div",{className:"text-[.95rem] font-medium leading-snug text-gray-900 sm:text-[1rem]"},e.name),e.description&&r.createElement("div",{className:"mt-1 text-[.85rem] leading-relaxed text-gray-600 sm:text-sm"},e.description),r.createElement("div",{className:"mt-3 flex items-center gap-3 text-[.9rem] md:!hidden"},r.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-gray-100 px-2.5 py-1 text-yellow-600"},r.createElement(we.JX6,{className:"h-4 w-4"}),(0,l.__)("Free","advanced-database-cleaner"),t(e.free,"sm")),r.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-2.5 py-1 text-blue-700"},r.createElement(u.xGQ,{className:"h-4 w-4"}),(0,l.__)("Premium","advanced-database-cleaner"),t(e.pro,"sm")))))),r.createElement("div",{className:"hidden h-full bg-gray-100 md:!block"},r.createElement("div",{className:"flex h-full items-center justify-center border-x border-gray-100 p-4 text-center"},t(e.free))),r.createElement("div",{className:"hidden h-full bg-gray-100 md:!flex"},r.createElement("div",{className:"flex h-full w-full items-center justify-center p-4 text-center"},t(e.pro))))})),"FREE"===R&&r.createElement("div",{className:"grid grid-cols-1 border-t border-gray-200 bg-gray-50 md:grid-cols-6"},r.createElement("div",{className:"hidden p-4 sm:p-6 md:col-span-4 md:!block"}),r.createElement("div",{className:"col-span-1 p-4 text-center sm:p-6 md:col-span-2"},r.createElement(I,{href:"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=premium-page&utm_medium=adbc-free&utm_campaign=plugins&utm_content=upgrade-to-premium",target:"_blank",className:"group block !w-full transform rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-3 text-center !text-[1rem] font-medium text-white !no-underline shadow-lg transition-all hover:from-blue-700 hover:to-purple-700 hover:!text-white focus:!text-white"},(0,l.__)("Upgrade now","advanced-database-cleaner"),r.createElement(F.L2n,{className:"mt-[4px] h-4 w-4 transition-transform duration-200 group-hover:translate-x-0.5"}))))),r.createElement("div",{className:"mt-8 px-4 text-center sm:mt-10"},r.createElement("p",{className:"mb-4 !text-[.9rem] text-gray-800 sm:text-base"},(0,l.__)("All premium plans include a 30-day money-back guarantee","advanced-database-cleaner")))))},can_be_hidden:!1,show_in_menu:"FREE"===R}]}],Pd=Td.flatMap((function(e){return e.items}));function Id(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Cd,Ad,Fd,Md=function(e,t){var n=new URL(window.location.href);n.searchParams.set(e,t),window.history.pushState({},"",n)},Dd=function(e){var t=new URL(window.location.href);return t.searchParams.set("sub_tab",e),t.pathname+t.search},Gd=(0,f.Z0)({name:"shared",initialState:{currentTabId:function(){var e,t=new URLSearchParams(window.location.search),n=null==t||null===(e=t.get("tab"))||void 0===e||null===(e=e.replace(/[^a-z_-]/g,""))||void 0===e?void 0:e.slice(0,64);if(!n)return Pd[0].id;var r=Pd.find((function(e){return e.id===n}));return r?r.id:Pd[0].id}(),currentSubTabId:(Ad=new URLSearchParams(window.location.search),Fd=null==Ad||null===(Cd=Ad.get("sub_tab"))||void 0===Cd||null===(Cd=Cd.replace(/[^a-z_-]/g,""))||void 0===Cd?void 0:Cd.slice(0,64),Fd||null),anchorId:null,hideFilters:!1,name:null,siteId:null,rowId:null,transientFoundIn:"",isContentValueModalShown:!1,taskId:function(){var e,t=new URLSearchParams(window.location.search);return(null==t||null===(e=t.get("task_id"))||void 0===e||null===(e=e.replace(/[^a-zA-Z0-9-]/g,""))||void 0===e?void 0:e.slice(0,64))||null}(),showAddonsActivityNotice:!!U.addons_activity_info,showMigrationNotice:!!U.migration_available,showImportedTasksDeactivatedNotice:!!U.imported_tasks_deactivated_notice,isSupportModalShown:!1,isMigrationModalShown:!1,refreshCountsInOrangeHealthCheck:1},reducers:{navigateTo:function(e,t){var n,r=t.payload,a=r.tabId,o=r.subTabId,i=r.anchorId;a&&(e.currentTabId=a,Md("tab",a)),o?(e.currentSubTabId=o,Md("sub_tab",o)):(e.currentSubTabId=null,(n=new URL(window.location.href)).searchParams.delete("sub_tab"),window.history.pushState({},"",n)),e.anchorId=i||null,function(e){var t=new URL(window.location.href);(function(e){return function(e){if(Array.isArray(e))return Id(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Id(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Id(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(t.searchParams.keys()).forEach((function(n){e.includes(n)||t.searchParams.delete(n)})),window.history.pushState({},"",t)}(["page","tab","sub_tab"])},setHideFilters:function(e,t){e.hideFilters=t.payload},showContentValueModal:function(e,t){e.name=t.payload.name,e.siteId=t.payload.siteId,e.rowId=t.payload.rowId,e.transientFoundIn=t.payload.transientFoundIn,e.isContentValueModalShown=!0},hideContentValueModal:function(e){e.name=null,e.siteId=null,e.rowId=null,e.transientFoundIn="",e.isContentValueModalShown=!1},showSupportModal:function(e){e.isSupportModalShown=!0},showMigrationModal:function(e){e.isMigrationModalShown=!0},showImportedTasksDeactivatedNotice:function(e){e.showImportedTasksDeactivatedNotice=!0},hideSupportModal:function(e){e.isSupportModalShown=!1},hideMigrationModal:function(e){e.isMigrationModalShown=!1},setTaskId:function(e,t){e.taskId=t.payload},resetTaskId:function(e){e.taskId=null},hideAddonsActivityNotice:function(e){e.showAddonsActivityNotice=!1},hideMigrationNotice:function(e){e.showMigrationNotice=!1},hideImportedTasksDeactivatedNotice:function(e){e.showImportedTasksDeactivatedNotice=!1},forceRefreshCountsInOrangeHealthCheck:function(e){e.refreshCountsInOrangeHealthCheck+=1}}}),zd=Gd.actions,Rd=zd.navigateTo,Bd=zd.setHideFilters,Ud=zd.showContentValueModal,Wd=zd.hideContentValueModal,Yd=zd.showSupportModal,qd=zd.showMigrationModal,Kd=zd.showImportedTasksDeactivatedNotice,Hd=zd.hideSupportModal,$d=zd.hideMigrationModal,Vd=zd.setTaskId,Qd=zd.resetTaskId,Jd=zd.hideAddonsActivityNotice,Zd=zd.hideMigrationNotice,Xd=zd.hideImportedTasksDeactivatedNotice,em=zd.forceRefreshCountsInOrangeHealthCheck;const tm=Gd.reducer;function nm(e){return nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(e)}function rm(){rm=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==nm(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(nm(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function am(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var om={success:{backgroundColor:"bg-emerald-50",textColor:"text-emerald-700",icon:r.createElement(F.OLr,{className:"h-6 w-6 text-emerald-500"})},info:{backgroundColor:"bg-blue-50",textColor:"text-gray-700",icon:r.createElement(F._AI,{className:"h-6 w-6 text-blue-500"})},warning:{backgroundColor:"bg-orange-100",textColor:"text-orange-800",icon:r.createElement(F.t5W,{className:"h-6 w-6 text-orange-500"})},error:{backgroundColor:"bg-red-50",textColor:"text-red-700",icon:r.createElement(F.ORb,{className:"h-6 w-6 text-red-500"})}};const im=function(e){var t=e.type,n=void 0===t?"warning":t,a=e.showIcon,o=void 0===a||a,i=e.notificationKey,c=void 0===i?"":i,u=e.children,d=om[n]||om.warning,f=d.backgroundColor,p=d.textColor,h=d.icon,v=(0,m.wA)(),y=function(){var e,t=(e=rm().mark((function e(){return rm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le({notificationKey:c});case 3:e.t0=c,e.next="addons_activity_info"===e.t0?6:"imported_tasks_deactivated_notice"===e.t0?8:10;break;case 6:return v(Jd()),e.abrupt("break",11);case 8:return v(Xd()),e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),Ft(v,e.t1.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){am(o,r,a,i,l,"next",e)}function l(e){am(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return r.createElement("div",{className:"rounded-md ".concat(f," relative mb-5 p-4 shadow-md shadow-gray-200")},r.createElement("div",{className:"flex items-start gap-2"},o&&r.createElement("div",{className:"h-full flex-shrink-0"},r.createElement("div",null,h)),r.createElement("div",{className:"".concat(p," flex-1 pl-1 text-[.82rem]")},u),c&&r.createElement(O,{content:(0,l.__)("Dismiss","advanced-database-cleaner")},r.createElement("button",{onClick:y,className:"flex-shrink-0 rounded-full","aria-label":"Dismiss"},r.createElement(s.cW1,{className:"text-[19px] text-gray-500 hover:text-gray-800"})))))};function lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var cm={success:{borderColor:"border-green-600",bgColor:"bg-green-100",textColor:"text-green-700",progressBgColor:"bg-green-600",Icon:oa.iBF},error:{borderColor:"border-red-600",bgColor:"bg-red-100",textColor:"text-red-700",progressBgColor:"bg-red-600",Icon:he.$IH},warning:{borderColor:"border-amber-600",bgColor:"bg-amber-100",textColor:"text-amber-700",progressBgColor:"bg-amber-600",Icon:Ko.lJS},info:{borderColor:"border-sky-600",bgColor:"bg-sky-100",textColor:"text-sky-700",progressBgColor:"bg-sky-600",Icon:he.nSS}};const sm=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(0),2),t=e[0],n=e[1],a=(0,m.d4)((function(e){return e.notification})),i=(0,m.wA)();if((0,r.useEffect)((function(){if(a.show&&(n((function(e){return e+1})),a.autoHide)){var e=setTimeout((function(){i(Pt())}),1e3*a.hideAfter);return function(){return clearTimeout(e)}}}),[a]),!a.show)return null;var l=a.type,c=a.title,s=a.message,u=a.autoHide,d=a.hideAfter,f=cm[l]||{borderColor:"border-gray-100",bgColor:"bg-white",textColor:"text-black",progressBgColor:"bg-black",Icon:oa.iBF},p=f.borderColor,h=f.bgColor,v=f.textColor,y=f.progressBgColor,g=f.Icon;return r.createElement(r.Fragment,null,r.createElement("div",{key:t,"aria-live":"assertive",className:"pointer-events-none fixed inset-0 z-50 mt-[1.8rem] flex items-end px-4 py-6 sm:items-start sm:p-6"},r.createElement("div",{className:"flex w-full flex-col items-center space-y-4 sm:!items-end"},r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment,enter:"transform ease-out duration-500 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-20 sm:translate-x-0",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100 ",leaveFrom:"opacity-100",leaveTo:"opacity-0"},r.createElement("div",{className:"pointer-events-auto w-full max-w-[320px] overflow-hidden border ".concat(p," rounded-xl ").concat(h," shadow-lg ring-1 ring-black ring-opacity-5")},r.createElement("div",{className:"p-3"},r.createElement("div",{className:"flex items-start"},r.createElement("div",{className:"flex-shrink-0"},r.createElement(g,{className:"h-5 w-5 ".concat(v),"aria-hidden":"true"})),r.createElement("div",{className:"ml-3 w-0 flex-1"},r.createElement("p",{className:"text-[.84rem] font-medium ".concat(v)},c),r.createElement("p",{className:"mt-1 text-[.82rem] text-gray-900"},s)),r.createElement("div",{className:"ml-4 flex flex-shrink-0"},r.createElement("button",{type:"button",className:"inline-flex rounded-md bg-transparent text-gray-500 hover:text-gray-700 focus:outline-none",onClick:function(){i(Pt())}},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(oa.zhF,{className:"h-4 w-4","aria-hidden":"true"}))))),u&&r.createElement("div",{className:"h-[.1rem] w-full ".concat(y),style:{animation:"adbc-progress-line ".concat(d,"s linear forwards")}}))))))};var um=n(9354);function dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const fm=function(e){var t=e.selectItems,n=e.selectedItem,a=void 0===n?"":n,i=e.onSelectionChange,l=e.minWidthButton,c=void 0===l?"":l,s=e.minWidthContent,u=void 0===s?"min-w-[200px]":s,m=e.maxHeight,f=void 0!==m&&m,p=e.buttonOnly,h=void 0!==p&&p,v=e.ButtonBgColor,y=void 0===v?"bg-white":v,g=e.borderColor,b=void 0===g?"border-gray-300":g,x=e.extraBtnClasses,_=void 0===x?"":x,w=e.labelClasses,E=void 0===w?"":w,N=e.truncateMaxWidth,S=void 0===N?"max-w-[130px]":N,L=e.openUpward,O=void 0!==L&&L,T=dm((0,r.useState)(a||t[0][0]),2),P=T[0],I=T[1],C=dm((0,r.useState)(!1),2),A=C[0],F=C[1];return(0,r.useEffect)((function(){I(a||t[0][0])}),[a,t]),r.createElement(um.WF,{value:P,onChange:function(e){e.disabled||(I(e),i&&i(e.key))},onToggle:function(){return F(!A)}},(function(e){var n=e.open;return r.createElement("div",{className:"relative"},h?r.createElement(um.go,{className:k("flex !h-[1.9rem] cursor-pointer items-center rounded-lg border px-1 text-[.83rem] text-gray-900",b,y,_,A||n?"!border-black":"")},r.createElement(be.gpS,{className:"h-5 w-5","aria-hidden":"true"})):r.createElement(um.go,{className:k("flex !h-[2rem] cursor-pointer items-center justify-between rounded-lg border text-left text-[.83rem] text-gray-900 hover:text-cyan-700",c,b,y,_,A||n?"!border-black":"")},r.createElement("span",{className:"block ".concat(S," truncate pl-2")},P.label),r.createElement(be.gpS,{className:"h-5 w-5 pr-1","aria-hidden":"true"})),r.createElement(o.e,{show:n,as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100"},r.createElement(um.wh,{className:"absolute right-0 z-50 w-full ".concat(O?"bottom-full mb-1":"mt-1"," ").concat(f?"max-h-[280px] overflow-auto":""," ").concat(u," rounded-lg border border-gray-400/80 bg-white p-2 text-gray-900 shadow-lg")},t.map((function(e,n){return r.createElement("div",{key:"action-group-"+n},e.map((function(e){return!1!==e.isVisible&&r.createElement(um.h7,{key:e.key,className:function(t){return k(t.focus&&!e.disabled?"bg-gray-200":"","relative flex select-none items-center justify-between gap-x-1 rounded-md px-[10px] py-[2px] text-[.83rem]",e.disabled?"cursor-not-allowed":"cursor-pointer")},value:e,disabled:e.disabled||!1},r.createElement("span",{className:"block text-left ".concat(e.danger?"text-red-600":""," ").concat(E," ").concat(e.disabled?"text-gray-900":"")},e.label),e.tooltipText&&r.createElement(j,{content:e.tooltipText},r.createElement(d.jDB,{className:"text-gray-400"})))})),n<t.length-1&&r.createElement("div",{className:"my-1 border-b border-gray-200"}))})))))}))};function pm(e){return pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(e)}function hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var vm=function(e){switch(e){case"tables":return{allItemsMsg:(0,l.__)("All tables","advanced-database-cleaner"),pluginsItemsMsg:(0,l.__)("Plugins tables","advanced-database-cleaner"),themesItemsMsg:(0,l.__)("Themes tables","advanced-database-cleaner"),wpItemsMsg:(0,l.__)("WP tables","advanced-database-cleaner")};case"options":return{allItemsMsg:(0,l.__)("All options","advanced-database-cleaner"),pluginsItemsMsg:(0,l.__)("Plugins options","advanced-database-cleaner"),themesItemsMsg:(0,l.__)("Themes options","advanced-database-cleaner"),wpItemsMsg:(0,l.__)("WP options","advanced-database-cleaner")};case"posts_meta":return{allItemsMsg:(0,l.__)("All post meta","advanced-database-cleaner"),pluginsItemsMsg:(0,l.__)("Plugins meta","advanced-database-cleaner"),themesItemsMsg:(0,l.__)("Themes meta","advanced-database-cleaner"),wpItemsMsg:(0,l.__)("WP meta","advanced-database-cleaner")};case"users_meta":return{allItemsMsg:(0,l.__)("All user meta","advanced-database-cleaner"),pluginsItemsMsg:(0,l.__)("Plugins meta","advanced-database-cleaner"),themesItemsMsg:(0,l.__)("Themes meta","advanced-database-cleaner"),wpItemsMsg:(0,l.__)("WP meta","advanced-database-cleaner")};case"transients":return{allItemsMsg:(0,l.__)("All transients","advanced-database-cleaner"),pluginsItemsMsg:(0,l.__)("Plugins transients","advanced-database-cleaner"),themesItemsMsg:(0,l.__)("Themes transients","advanced-database-cleaner"),wpItemsMsg:(0,l.__)("WP transients","advanced-database-cleaner")};case"cron_jobs":return{allItemsMsg:(0,l.__)("All cron jobs","advanced-database-cleaner"),pluginsItemsMsg:(0,l.__)("Plugins cron jobs","advanced-database-cleaner"),themesItemsMsg:(0,l.__)("Themes cron jobs","advanced-database-cleaner"),wpItemsMsg:(0,l.__)("WP cron jobs","advanced-database-cleaner")};default:return{allItemsMsg:(0,l.__)("All items","advanced-database-cleaner"),pluginsItemsMsg:(0,l.__)("Plugins items","advanced-database-cleaner"),themesItemsMsg:(0,l.__)("Themes items","advanced-database-cleaner"),wpItemsMsg:(0,l.__)("WP items","advanced-database-cleaner")}}},ym=function(e,t,n){return"loading"===e?r.createElement("div",{className:"animate-pulse"},r.createElement("div",{className:"my-[.22rem] flex h-3 items-center rounded-full bg-gray-200"},r.createElement(xe.WEG,{className:"animate-spin text-[1.2rem] text-gray-400"}))):r.createElement("div",{className:"flex items-start gap-x-2 text-[.7rem]"},r.createElement("div",{className:"w-5"},"ok"===e?r.createElement(xe.rK8,{className:"text-[1.2rem] text-green-600"}):r.createElement(be.q53,{className:"text-[1.2rem] text-orange-400"})),r.createElement("div",{className:"items-start gap-x-1"},gm(t)," ","ok"!==e&&r.createElement(I,{href:"#",onClick:n},(0,l.__)("[Filter]","advanced-database-cleaner"))))},gm=function(e){if("string"!=typeof e)return e;var t=e.match(/^\s*(\d+)\s*(.*)$/);if(!t)return e;var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,3),a=n[1],o=n[2];return r.createElement(r.Fragment,null,r.createElement("strong",null,a),o?" ".concat(o):"")},bm=function(e){return r.createElement("div",{className:"flex flex-col items-center justify-center gap-y-2 bg-gray-100 py-8"},r.createElement(be.F8y,{className:"text-[7rem] text-gray-300"}),r.createElement("span",{className:"text-[1rem] font-bold text-black"},(0,l.__)("No data found","advanced-database-cleaner")),e&&r.createElement("span",null,(0,l.__)("Try changing the filters or search term","advanced-database-cleaner")))},xm=function(){return r.createElement("div",{className:"mt-4 flex h-[210px] items-center justify-center rounded-lg border border-gray-200 bg-gray-100 opacity-90"},r.createElement(A,{size:"text-[4rem]",spinnerColor:"text-gray-900",text:(0,l.__)("Loading data...","advanced-database-cleaner")}))},_m=function(e,t){var n=function(e){return null!==e&&"object"===pm(e)&&!Array.isArray(e)},r=function(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!r(e[a],t[a]))return!1;return!0}if(n(e)&&n(t)){var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var l=0,c=o;l<c.length;l++){var s=c[l];if(!Object.prototype.hasOwnProperty.call(t,s))return!1;if(!r(e[s],t[s]))return!1}return!0}return!1},a=Object.keys(e),o=Object.keys(t);return a.length===o.length&&a.every((function(n){return!!Object.prototype.hasOwnProperty.call(t,n)&&("args"===n?r(e[n],t[n]):e[n]===t[n])}))},wm={key:"site_id",label:(0,l.__)("Site","advanced-database-cleaner"),sortable:!0,contentType:"int",tooltipText:"",width:"w-[60px] max-w-[150px]",visibility:"1"===W?"":"hidden"},Em=function(e,t,n,r,a,o){return{key:e,label:t,sortable:n,contentType:r,tooltipText:a,width:o,visibility:arguments.length>6&&void 0!==arguments[6]?arguments[6]:""}},Nm={posts:[Em("ID",(0,l.__)("ID","advanced-database-cleaner"),!0,"int","","w-[70px] max-w-[150px]"),Em("post_title",(0,l.__)("Title","advanced-database-cleaner"),!0,"string","","w-[220px] max-w-[200px]"),Em("post_content",(0,l.__)("Content","advanced-database-cleaner"),!1,"string","","w-[220px] max-w-[250px]"),Em("size",(0,l.__)("Size","advanced-database-cleaner"),!0,"int","","w-[60px] max-w-[150px]"),Em("post_date_gmt",(0,l.__)("Date (UTC)","advanced-database-cleaner"),!0,"int","","w-[60px] max-w-[150px]"),wm],comments:[Em("comment_ID",(0,l.__)("ID","advanced-database-cleaner"),!0,"int","","w-[70px] max-w-[150px]"),Em("comment_author",(0,l.__)("Author","advanced-database-cleaner"),!0,"string","","w-[120px] max-w-[150px]"),Em("comment_content",(0,l.__)("Content","advanced-database-cleaner"),!1,"string","","w-[220px] max-w-[300px]"),Em("size",(0,l.__)("Size","advanced-database-cleaner"),!0,"int","","w-[90px] max-w-[150px]"),Em("comment_post_ID",(0,l.__)("Post ID","advanced-database-cleaner"),!0,"int","","w-[80px] max-w-[120px]"),Em("comment_date_gmt",(0,l.__)("Date (UTC)","advanced-database-cleaner"),!0,"int","","w-[60px] max-w-[150px]"),wm],postMeta:[Em("meta_id",(0,l.__)("ID","advanced-database-cleaner"),!0,"int","","w-[100px] max-w-[150px]"),Em("meta_key",(0,l.__)("Meta key","advanced-database-cleaner"),!0,"string","","w-[220px] max-w-[150px]"),Em("meta_value",(0,l.__)("Meta value","advanced-database-cleaner"),!1,"string","","w-[250px] max-w-[300px]"),Em("size",(0,l.__)("Size","advanced-database-cleaner"),!0,"int","","w-[90px] max-w-[150px]"),wm],userMeta:[Em("umeta_id",(0,l.__)("ID","advanced-database-cleaner"),!0,"int","","w-[70px] max-w-[150px]"),Em("meta_key",(0,l.__)("Meta key","advanced-database-cleaner"),!0,"string","","w-[220px] max-w-[150px]"),Em("meta_value",(0,l.__)("Meta value","advanced-database-cleaner"),!1,"string","","w-[250px] max-w-[300px]"),Em("size",(0,l.__)("Size","advanced-database-cleaner"),!0,"int","","w-[90px] max-w-[150px]"),wm],relationships:[Em("object_id",(0,l.__)("Object ID","advanced-database-cleaner"),!0,"int","","w-[120px] max-w-[150px]"),Em("term_taxonomy_id",(0,l.__)("Term taxonomy ID","advanced-database-cleaner"),!0,"int","","w-[120px] max-w-[150px]"),Em("term_order",(0,l.__)("Term order","advanced-database-cleaner"),!0,"int","","w-[120px] max-w-[150px]"),Em("size",(0,l.__)("Size","advanced-database-cleaner"),!0,"int","","w-[120px] max-w-[150px]"),wm],transients:[Em("id",(0,l.__)("ID","advanced-database-cleaner"),!0,"int","","w-[50px] max-w-[150px]"),Em("name",(0,l.__)("Name","advanced-database-cleaner"),!0,"string","","w-[180px] max-w-[220px]"),Em("value",(0,l.__)("Value","advanced-database-cleaner"),!1,"string","","w-[120px] max-w-[220px]"),Em("autoload",(0,l.__)("Autoload","advanced-database-cleaner"),!0,"string",(0,l.__)("Indicates whether a transient is autoloaded or not. Values to autoload are: yes, on, auto, auto-on. Values to not autoload are: no, off, auto-off","advanced-database-cleaner"),"w-[80px] max-w-[120px]"),Em("size",(0,l.__)("Size","advanced-database-cleaner"),!0,"int","","w-[90px] max-w-[150px]"),Em("timeout",(0,l.__)("Expired at","advanced-database-cleaner"),!0,"int",(0,l.__)("All dates/times are in your local time zone","advanced-database-cleaner"),"w-[120px] max-w-[160px]"),Em("found_in",(0,l.__)("Found in","advanced-database-cleaner"),!0,"string","","w-[60px] max-w-[150px]","1"===W?"":"hidden"),wm],actions:[Em("action_id",(0,l.__)("ID","advanced-database-cleaner"),!0,"int","","w-[70px] max-w-[150px]"),Em("hook",(0,l.__)("Hook","advanced-database-cleaner"),!0,"string","","w-[220px] max-w-[200px]"),Em("args",(0,l.__)("Args","advanced-database-cleaner"),!0,"string","","w-[100px] max-w-[180px]"),Em("scheduled_date_gmt",(0,l.__)("Scheduled at (UTC)","advanced-database-cleaner"),!0,"int","","w-[90px] max-w-[150px]"),Em("size",(0,l.__)("Size","advanced-database-cleaner"),!0,"int","","w-[90px] max-w-[150px]"),Em("status",(0,l.__)("Status","advanced-database-cleaner"),!1,"string","","w-[90px] max-w-[150px]"),wm],logs:[Em("log_id",(0,l.__)("Log ID","advanced-database-cleaner"),!0,"int","","w-[50px] max-w-[150px]"),Em("action_id",(0,l.__)("Action ID","advanced-database-cleaner"),!0,"int","","w-[50px] max-w-[150px]"),Em("message",(0,l.__)("Message","advanced-database-cleaner"),!1,"string","","w-[250px] max-w-[300px]"),Em("log_date_gmt",(0,l.__)("Log date (UTC)","advanced-database-cleaner"),!0,"int","","w-[90px] max-w-[150px]"),Em("size",(0,l.__)("Size","advanced-database-cleaner"),!0,"int","","w-[90px] max-w-[150px]"),Em("status",(0,l.__)("Status","advanced-database-cleaner"),!1,"string","","w-[90px] max-w-[150px]"),wm]},km={revisions:"posts",auto_drafts:"posts",trashed_posts:"posts",unapproved_comments:"comments",spam_comments:"comments",trashed_comments:"comments",pingbacks:"comments",trackbacks:"comments",unused_postmeta:"postMeta",duplicated_postmeta:"postMeta",unused_commentmeta:"postMeta",duplicated_commentmeta:"postMeta",unused_termmeta:"postMeta",duplicated_termmeta:"postMeta",oembed_caches:"postMeta",unused_usermeta:"userMeta",duplicated_usermeta:"userMeta",unused_relationships:"relationships",expired_transients:"transients",actionscheduler_completed_actions:"actions",actionscheduler_failed_actions:"actions",actionscheduler_canceled_actions:"actions",actionscheduler_completed_logs:"logs",actionscheduler_failed_logs:"logs",actionscheduler_canceled_logs:"logs",actionscheduler_orphan_logs:"logs"},Sm=function(e){var t;return null!==(t=Nm[km[e]])&&void 0!==t?t:[]},Lm={revisions:(0,l.__)("Revisions","advanced-database-cleaner"),auto_drafts:(0,l.__)("Auto drafts","advanced-database-cleaner"),trashed_posts:(0,l.__)("Trashed posts","advanced-database-cleaner"),unapproved_comments:(0,l.__)("Unapproved comments","advanced-database-cleaner"),spam_comments:(0,l.__)("Spam comments","advanced-database-cleaner"),trashed_comments:(0,l.__)("Trashed comments","advanced-database-cleaner"),pingbacks:(0,l.__)("Pingbacks","advanced-database-cleaner"),trackbacks:(0,l.__)("Trackbacks","advanced-database-cleaner"),unused_postmeta:(0,l.__)("Unused postmeta","advanced-database-cleaner"),duplicated_postmeta:(0,l.__)("Duplicated postmeta","advanced-database-cleaner"),unused_commentmeta:(0,l.__)("Unused commentmeta","advanced-database-cleaner"),duplicated_commentmeta:(0,l.__)("Duplicated commentmeta","advanced-database-cleaner"),unused_usermeta:(0,l.__)("Unused usermeta","advanced-database-cleaner"),duplicated_usermeta:(0,l.__)("Duplicated usermeta","advanced-database-cleaner"),unused_termmeta:(0,l.__)("Unused termmeta","advanced-database-cleaner"),duplicated_termmeta:(0,l.__)("Duplicated termmeta","advanced-database-cleaner"),unused_relationships:(0,l.__)("Unused relationships","advanced-database-cleaner"),expired_transients:(0,l.__)("Expired transients","advanced-database-cleaner"),oembed_caches:(0,l.__)("oEmbed caches","advanced-database-cleaner"),actionscheduler_completed_actions:(0,l.__)("Actionscheduler completed actions","advanced-database-cleaner"),actionscheduler_failed_actions:(0,l.__)("Actionscheduler failed actions","advanced-database-cleaner"),actionscheduler_canceled_actions:(0,l.__)("Actionscheduler canceled actions","advanced-database-cleaner"),actionscheduler_completed_logs:(0,l.__)("Actionscheduler completed logs","advanced-database-cleaner"),actionscheduler_failed_logs:(0,l.__)("Actionscheduler failed logs","advanced-database-cleaner"),actionscheduler_canceled_logs:(0,l.__)("Actionscheduler canceled logs","advanced-database-cleaner"),actionscheduler_orphan_logs:(0,l.__)("Actionscheduler orphan logs","advanced-database-cleaner")},jm=function(e){return Object.keys(Lm).includes(e)},Om=function(e){switch(e){case"tables_to_repair":return(0,l.__)("Repair tables","advanced-database-cleaner");case"tables_to_optimize":return(0,l.__)("Optimize tables","advanced-database-cleaner");default:return Lm[e]||""}},Tm=(0,f.Z0)({name:"action",initialState:{actionType:null,itemsType:null,processAction:!1,selectedItems:[],manualCategorization:[]},reducers:{prepareAction:function(e,t){e.actionType=t.payload.actionType,e.itemsType=t.payload.itemsType},startProcessingAction:function(e,t){if(t.payload){var n=t.payload;for(var r in n)e[r]=n[r]}e.processAction=!0},selectItem:function(e,t){var n=t.payload,r=e.selectedItems.findIndex((function(e){return _m(e,n)}));r>=0?e.selectedItems.splice(r,1):e.selectedItems.push(n)},selectItems:function(e,t){e.selectedItems=t.payload},setManualCategorization:function(e,t){e.manualCategorization=t.payload},resetProcessAction:function(e){e.processAction=!1},resetSelectedItems:function(e){e.selectedItems=[]},resetManualCategorization:function(e){e.manualCategorization=[]},resetAllActionData:function(e){e.actionType=null,e.itemsType=null,e.processAction=!1,e.selectedItems=[],e.manualCategorization=[]}}}),Pm=Tm.actions,Im=Pm.prepareAction,Cm=Pm.startProcessingAction,Am=Pm.selectItem,Fm=Pm.selectItems,Mm=Pm.resetProcessAction,Dm=Pm.resetAllActionData,Gm=Pm.resetSelectedItems;const zm=Tm.reducer;function Rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Bm=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(!1),2),t=e[0],n=e[1],a=(0,m.d4)((function(e){return e.modal})),f=(0,m.d4)((function(e){return e.action.processAction})),p=(0,m.d4)((function(e){return null!==e.action.actionType})),h=(0,m.wA)();if(!a.show)return null;var v=a.type,y=a.title,g=a.message,b=a.dbBackupWarning,x=a.confirmLabel,_=function(){h(da())};return r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:_},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-md sm:p-6"},r.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:_},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"mx-auto mb-1 mt-2"},r.createElement("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg"},"warning"===v?r.createElement(d.e5t,{className:"h-10 w-10 text-red-600","aria-hidden":"true"}):"delete"===v?r.createElement(u.Mst,{className:"h-10 w-10 text-red-600","aria-hidden":"true"}):r.createElement(c.MGr,{className:"h-10 w-10 text-primary","aria-hidden":"true"})),r.createElement("div",{className:"mt-3 text-center"},r.createElement(i.L3,{as:"h3",className:"text-base font-bold leading-6 text-gray-900"},y),r.createElement("div",{className:"mt-2"},r.createElement("p",{className:"text-[.95rem] text-black"},g))),r.createElement("div",{className:"mb-2 mt-5 flex justify-center gap-x-3 sm:mt-6"},r.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:_},(0,l.__)("Cancel","advanced-database-cleaner")),r.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full ".concat("warning"===v||"delete"===v?"bg-red-600 hover:opacity-90":"bg-primary hover:opacity-90"," px-3 py-2 text-sm font-semibold text-white shadow-sm sm:w-auto"),onClick:function(){t||(n(!0),h(Cm()),h(da()),n(!1))},disabled:f||!p},x)),b&&r.createElement("div",{className:"mt-4 border-t border-gray-300 pt-4 text-center text-[.9rem] font-semibold text-red-600"},(0,l.__)("Don't forget to make a backup of your database first!","advanced-database-cleaner"))))))))},Um=function(){var e=(0,m.d4)((function(e){return e.action.actionType}));return(0,m.d4)((function(e){return e.action.processAction}))&&"run_general_cleanup"!==e?r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:function(){}},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative transform overflow-visible rounded-lg bg-gray-100 px-4 pb-4 pt-5 text-center shadow-xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:max-w-md sm:p-10"},r.createElement("div",{className:"mx-auto"},r.createElement("div",{className:"flex items-center justify-center rounded-lg"},r.createElement(Xe.k$1,{className:"h-16 w-16 animate-spin text-primary"})),r.createElement("div",null,r.createElement(i.L3,{as:"h3",className:"text-[.9rem] font-semibold leading-6 text-gray-900"},(0,l.__)("Processing, please wait...","advanced-database-cleaner"))))))))):null},Wm=function(){var e=(0,m.d4)((function(e){return e.shared.isSupportModalShown})),t=(0,m.wA)();if(!e)return null;var n=function(){t(Hd())};return r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:n},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative max-w-xl transform overflow-visible rounded-xl bg-white px-6 pb-6 pt-6 text-left shadow-2xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:p-8 xl:max-w-3xl"},r.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:n},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"mx-auto"},r.createElement("div",{className:"mb-6 mt-10 flex flex-col gap-6 xl:flex-row"},r.createElement("div",{className:"group flex-1"},r.createElement("div",{className:"relative transform rounded-2xl border-2 border-blue-100 bg-gradient-to-br from-blue-50 to-indigo-50 p-8 transition-all duration-300 hover:border-blue-200"},r.createElement("div",{className:"absolute right-4 top-4"},r.createElement(Ko.Lhl,{className:"text-[2rem] text-blue-800"})),r.createElement("h4",{className:"mb-4 text-[1.2rem] font-bold text-gray-900"},(0,l.__)("View documentation","advanced-database-cleaner")),r.createElement("div",{className:"mb-6 space-y-2"},r.createElement("p",{className:"flex items-center gap-1 text-gray-700"},r.createElement(ye.CMH,{className:"text-blue-500"}),(0,l.__)("Access comprehensive guides and tutorials","advanced-database-cleaner")),r.createElement("p",{className:"flex items-center gap-1 text-gray-700"},r.createElement(ye.CMH,{className:"text-blue-500"}),(0,l.__)("Find answers to common questions","advanced-database-cleaner"))),r.createElement(I,{href:"https://docs.sigmaplugin.com/collection/54-advanced-db-cleaner-4x?utm_source=support-modal&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=documentation"),target:"_blank",className:"flex !w-full items-center justify-center gap-2 rounded-xl bg-blue-500 px-6 py-3 text-sm font-semibold text-white !no-underline shadow-lg transition-all duration-300 hover:bg-blue-700/90 hover:!text-white focus:text-white"},(0,l.__)("View documentation","advanced-database-cleaner"),r.createElement(u.TdP,null)))),r.createElement("div",{className:"group flex-1"},r.createElement("div",{className:"relative transform rounded-2xl border-2 border-emerald-100 bg-gradient-to-br from-emerald-50 to-green-50 p-8 transition-all duration-300 hover:border-emerald-200"},r.createElement("div",{className:"absolute right-4 top-4"},r.createElement(bt.E4k,{className:"text-[1.8rem] text-green-800"})),r.createElement("h4",{className:"mb-4 text-[1.2rem] font-bold text-gray-900"},(0,l.__)("Contact us","advanced-database-cleaner")),r.createElement("div",{className:"mb-6 space-y-2"},r.createElement("p",{className:"flex items-center gap-1 text-gray-700"},r.createElement(ye.CMH,{className:"text-green-500"}),(0,l.__)("Contact us for personalized assistance","advanced-database-cleaner")),r.createElement("p",{className:"flex items-center gap-1 text-gray-700"},r.createElement(ye.CMH,{className:"text-green-500"}),(0,l.__)("Get help with technical issues, billing ...","advanced-database-cleaner"))),r.createElement(I,{href:"FREE"===R?"https://wordpress.org/support/plugin/advanced-database-cleaner/":"https://sigmaplugin.com/contact?utm_source=support-modal&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=support",target:"_blank",className:"flex !w-full items-center justify-center gap-2 rounded-xl bg-green-600 px-6 py-3 text-sm font-semibold text-white !no-underline shadow-lg transition-all duration-300 hover:bg-green-700 hover:!text-white focus:text-white"},(0,l.__)("Contact us","advanced-database-cleaner"),r.createElement(u.TdP,null))))),r.createElement("div",{className:"mt-4 flex gap-1 text-gray-600"},r.createElement("span",null,(0,l.__)("By","advanced-database-cleaner")),r.createElement(I,{href:"https://sigmaplugin.com?utm_source=support-modal&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=sigmaplugin-home-page"),target:"_blank"},"SigmaPlugin"))))))))};function Ym(e){return Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(e)}function qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qm(Object(n),!0).forEach((function(t){Hm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hm(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ym(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ym(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ym(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $m(){$m=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ym(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ym(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Vm(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Qm(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Vm(o,r,a,i,l,"next",e)}function l(e){Vm(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Jm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Xm=function(){var e=Jm((0,r.useState)(null),2),t=e[0],n=e[1],a=Jm((0,r.useState)(!1),2),c=a[0],u=a[1],d=Jm((0,r.useState)(!1),2),f=d[0],p=d[1],h=Jm((0,r.useState)(null),2),v=h[0],y=h[1],g=Jm((0,r.useState)({manual_corrections:!1,keep_last:!1,automation_tasks:!1,uninstall_old_versions:!1}),2),b=g[0],x=g[1],_=(0,m.d4)((function(e){return e.shared.isMigrationModalShown})),w=(0,m.wA)();if((0,r.useEffect)((function(){_&&E()}),[_]),!_)return null;var E=function(){var e=Qm($m().mark((function e(){var t,r,a;return $m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,de();case 4:t=e.sent,r=(null==t?void 0:t.data)||[],n(r),a={manual_corrections:r.includes("manual_corrections"),keep_last:r.includes("keep_last"),automation_tasks:r.includes("automation_tasks"),uninstall_old_versions:r.includes("old_free_exists")||r.includes("pro_exists")},x(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Ft(w,e.t0.message);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),N=function(e){x((function(t){return Km(Km({},t),{},Hm({},e,!t[e]))}))},k=function(){var e=Qm($m().mark((function e(){var t,n,r;return $m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),t=[],b.manual_corrections&&t.push("manual_corrections"),b.keep_last&&t.push("keep_last"),b.automation_tasks&&t.push("automation_tasks"),n={items_to_migrate:t,uninstall_old_versions:b.uninstall_old_versions},e.next=9,fe(n);case 9:r=e.sent,y((null==r?void 0:r.data)||{}),w(Zd()),null==r||!r.data||1!==r.data.automation_tasks_success&&2!==r.data.automation_tasks_success||w(Kd()),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Ft(w,e.t0.message);case 18:return e.prev=18,p(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),S=function(){w($d()),n(null),y(null),x({manual_corrections:!1,keep_last:!1,automation_tasks:!1,uninstall_old_versions:!1})};return r.createElement(o.e,{appear:!0,show:!0,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50",onClose:S},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto"},r.createElement("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},r.createElement(i.Lj,{transition:!0,className:"relative max-w-xl transform overflow-visible rounded-xl bg-white px-6 pb-6 pt-6 text-left shadow-2xl transition-all duration-200 ease-out data-[closed]:scale-95 data-[closed]:opacity-0 sm:my-8 sm:w-full sm:p-8 xl:max-w-xl"},r.createElement("div",{className:"absolute right-0 top-0 pr-4 pt-4"},r.createElement("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:S},r.createElement("span",{className:"sr-only"},"Close"),r.createElement(s.WQq,{className:"h-6 w-6","aria-hidden":"true"}))),r.createElement("div",{className:"mx-auto"},function(){if(c)return r.createElement("div",{className:"flex items-center justify-center py-12 text-center"},r.createElement(A,null));if(v){var e=[{key:"manual_corrections_success",label:(0,l.__)("Manual corrections","advanced-database-cleaner")},{key:"keep_last_success",label:(0,l.__)("Keep Last","advanced-database-cleaner")},{key:"automation_tasks_success",label:(0,l.__)("Automation tasks","advanced-database-cleaner")},{key:"uninstall_old_versions_success",label:(0,l.__)("Uninstall old versions","advanced-database-cleaner")}];return r.createElement("div",null,r.createElement("div",{className:"mb-8 text-center"},r.createElement("div",{className:"mb-4 inline-flex h-12 w-12 items-center justify-center rounded-full bg-blue-500"},r.createElement(Po.YrT,{className:"h-6 w-6 text-white"})),r.createElement("h3",{className:"mb-1 text-xl font-bold text-gray-900"},(0,l.__)("Import completed","advanced-database-cleaner")),r.createElement("p",{className:"text-gray-600"},(0,l.__)("Here are the results of your data import","advanced-database-cleaner"))),r.createElement("div",{className:"mb-8 border"},e.map((function(e){var t=e.key,n=e.label;if(void 0===v[t])return null;var a=function(e){return 1===e?{text:(0,l.__)("Successful","advanced-database-cleaner"),color:"text-green-700"}:0===e?{text:(0,l.__)("Failed","advanced-database-cleaner"),color:"text-red-700"}:2===e?{text:(0,l.__)("Partially successful","advanced-database-cleaner"),color:"text-yellow-700"}:{text:"",color:""}}(v[t]);return r.createElement("div",{key:t,className:"flex items-center justify-between border-b border-gray-200 bg-white p-4"},r.createElement("span",{className:"text-[.9rem] font-medium text-gray-900"},n),r.createElement("div",{className:"flex items-center gap-3"},function(e){return 1===e?r.createElement("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100"},r.createElement(Po.YrT,{className:"h-4 w-4 text-green-600"})):0===e?r.createElement("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-red-100"},r.createElement(Po.yGN,{className:"h-4 w-4 text-red-600"})):2===e?r.createElement("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-yellow-100"},r.createElement(Po.eHT,{className:"h-4 w-4 text-yellow-600"})):null}(v[t]),r.createElement("span",{className:"text-sm font-semibold ".concat(a.color)},a.text)))}))),r.createElement("div",{className:"flex items-center justify-center"},r.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:S},(0,l.__)("Close","advanced-database-cleaner"))))}return r.createElement("div",null,r.createElement("div",{className:"mb-8 text-center"},r.createElement("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center"},r.createElement(xe.Lcj,{className:"h-10 w-10 text-primary","aria-hidden":"true"})),(null==t?void 0:t.length)>0&&t.every((function(e){return"old_free_exists"===e||"pro_exists"===e}))?r.createElement(r.Fragment,null,r.createElement("h3",{className:"text-center text-[1.1rem] font-semibold text-gray-900"},(0,l.__)("No data to import. You can uninstall the previous version(s)","advanced-database-cleaner"))):r.createElement(r.Fragment,null,r.createElement("h3",{className:"text-center text-[1.1rem] font-semibold text-gray-900"},(0,l.__)("Import data from previous version","advanced-database-cleaner")),r.createElement("p",{className:"text-gray-600"},(0,l.__)("Select the items you want to import or actions to perform","advanced-database-cleaner")))),r.createElement("div",{className:"mb-8 rounded-xl border"},(null==t?void 0:t.includes("manual_corrections"))&&r.createElement("label",{className:"group flex cursor-pointer items-start gap-4 rounded-t-xl border-b border-gray-200 bg-white p-4 transition-all hover:bg-blue-50"},r.createElement("div",{className:"mt-0.5 flex h-6 items-center"},r.createElement("input",{type:"checkbox",checked:b.manual_corrections,onChange:function(){return N("manual_corrections")}})),r.createElement("div",{className:"flex-1"},r.createElement("span",{className:"text-[.9rem] font-semibold text-gray-800 transition-colors group-hover:text-blue-700"},(0,l.__)("Import manual corrections","advanced-database-cleaner")),r.createElement("p",{className:"mt-1 text-xs text-gray-600"},(0,l.__)("Import your custom manual corrections you made in the previous version","advanced-database-cleaner")))),(null==t?void 0:t.includes("keep_last"))&&r.createElement("label",{className:"group flex cursor-pointer items-start gap-4 border-b border-gray-200 bg-white p-4 transition-all hover:bg-blue-50"},r.createElement("div",{className:"mt-0.5 flex h-6 items-center"},r.createElement("input",{type:"checkbox",checked:b.keep_last,onChange:function(){return N("keep_last")}})),r.createElement("div",{className:"flex-1"},r.createElement("span",{className:"text-[.9rem] font-semibold text-gray-800 transition-colors group-hover:text-blue-700"},(0,l.__)("Import Keep Last","advanced-database-cleaner")),r.createElement("p",{className:"mt-1 text-xs text-gray-600"},(0,l.__)("Preserve your -Keep Last- settings and configurations","advanced-database-cleaner")))),(null==t?void 0:t.includes("automation_tasks"))&&r.createElement("label",{className:"group flex cursor-pointer items-start gap-4 border-b border-gray-200 bg-white p-4 transition-all hover:bg-blue-50"},r.createElement("div",{className:"mt-0.5 flex h-6 items-center"},r.createElement("input",{type:"checkbox",checked:b.automation_tasks,onChange:function(){return N("automation_tasks")}})),r.createElement("div",{className:"flex-1"},r.createElement("span",{className:"text-[.9rem] font-semibold text-gray-800 transition-colors group-hover:text-blue-700"},(0,l.__)("Import tasks","advanced-database-cleaner")),r.createElement("p",{className:"mt-1 text-xs text-gray-600"},(0,l.__)("Import all your automation tasks and schedules.","advanced-database-cleaner"),r.createElement("span",{className:"ml-1 text-orange-600"},(0,l.__)("(For technical reasons, tasks will be deactivated after import and you will need to activate them again)","advanced-database-cleaner"))))),((null==t?void 0:t.includes("old_free_exists"))||(null==t?void 0:t.includes("pro_exists")))&&r.createElement("label",{className:"group flex cursor-pointer items-start gap-4 rounded-b-xl bg-white p-4 transition-all hover:bg-blue-50"},r.createElement("div",{className:"mt-0.5 flex h-6 items-center"},r.createElement("input",{type:"checkbox",checked:b.uninstall_old_versions,onChange:function(){return N("uninstall_old_versions")}})),r.createElement("div",{className:"flex-1"},r.createElement("span",{className:"text-[.9rem] font-semibold text-gray-800 transition-colors group-hover:text-red-700"},(0,l.__)("Uninstall previous versions?","advanced-database-cleaner")),r.createElement("p",{className:"mt-1 text-xs text-gray-600"},function(){if(!t)return"";var e=t.includes("old_free_exists"),n=t.includes("pro_exists");return e&&n?(0,l.__)("The Free and old Pro versions can be uninstalled since you are using the newest Premium version","advanced-database-cleaner"):e?(0,l.__)("The Free version can be uninstalled since you are using the Premium version","advanced-database-cleaner"):n?(0,l.__)("The old Pro version can be uninstalled since you are using the newest Premium version","advanced-database-cleaner"):""}())))),r.createElement("div",{className:"flex justify-center gap-3"},r.createElement("button",{type:"button",className:"inline-flex w-full min-w-[100px] justify-center rounded-full border border-gray-400/70 bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm hover:border-gray-500 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:S},(0,l.__)("Cancel","advanced-database-cleaner")),r.createElement("button",{className:"inline-flex w-full min-w-[100px] justify-center rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto",disabled:f||!(b.manual_corrections||b.keep_last||b.automation_tasks||b.uninstall_old_versions),onClick:k},f?r.createElement(A,{text:(0,l.__)("Processing ...","advanced-database-cleaner"),spinnerColor:"text-white",size:"text-[1.2rem]"}):r.createElement("span",null,(0,l.__)("Proceed","advanced-database-cleaner")))))}()))))))};var ef,tf=n(5338),nf=(0,f.U1)({reducer:{setting:Nu,shared:tm,modal:ma,notification:It,action:zm,filter:qe,scan:_o}}),rf=n(3938),af=n(2471),of=n(4880),lf=function(e){ef=e},cf=function(e){ef&&ef(e)},sf=new rf.E({queryCache:new af.$({onError:function(e,t){var n;"AbortError"!==e.name&&"ERR_CANCELED"!==e.code&&(null!==(n=t.meta)&&void 0!==n&&n.silent||Ft(cf,e.message))}}),defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!0,placeholderData:of.rX}}});const uf=n.p+"images/logo.png";function df(e){return df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(e)}function mf(){mf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function y(){}function g(){}function b(){}var x={};s(x,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(P([])));w&&w!==n&&r.call(w,i)&&(x=w);var E=b.prototype=y.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==df(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(t,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=L(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(df(t)+" is not iterable")}return g.prototype=b,a(E,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(E),s(E,c,"Generator"),s(E,i,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function ff(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function pf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ff(o,r,a,i,l,"next",e)}function l(e){ff(o,r,a,i,l,"throw",e)}i(void 0)}))}}function hf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var vf=Object.values(B),yf=vf.some((function(e){return e.is_critical}));const gf=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(!1),2),t=e[0],n=e[1],c=(0,m.d4)((function(e){return e.setting.hiddenTabs})),s=(0,m.d4)((function(e){return e.shared.currentTabId})),d=(0,m.d4)((function(e){return e.shared.currentSubTabId})),f=(0,m.d4)((function(e){return e.setting.sideBarIsExpanded})),p=(0,m.d4)((function(e){return e.shared.showImportedTasksDeactivatedNotice})),h=(0,m.d4)((function(e){return e.shared.showMigrationNotice})),v=(0,m.d4)((function(e){return e.setting.licenseKey})),y=(0,m.d4)((function(e){return e.setting.licenseStatus})),g=Pd.find((function(e){return e.id===s}))||Pd[0],b=(0,m.wA)();lf(b);var x=(0,a.jE)(),_=function(e,t){e.preventDefault(),g.id!==t&&(x.cancelQueries(),n(!1),b(Rd({tabId:t})),b(Dm()),b(We()))},E=function(){var e=pf(mf().mark((function e(t){var n;return mf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(wu(t)),e.prev=1,n=t?"1":"0",e.next=5,Xl({sidebar_is_expanded:n});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Ft(b,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=pf(mf().mark((function e(){return mf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le({notificationKey:"migration_available"});case 3:b(Zd()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ft(b,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){window.scrollTo(0,0)}),[s,d]),r.createElement("div",{className:"clear-both mr-[10px] mt-[20px] max-w-[100rem] xl:flex"},r.createElement(o.e,{show:t,as:r.Fragment},r.createElement(i.lG,{as:"div",className:"relative z-50 xl:!hidden",onClose:n},r.createElement(i.Xi,{transition:!0,className:"fixed inset-0 bg-gray-900 bg-opacity-70 transition-opacity duration-100 ease-linear data-[closed]:opacity-0"}),r.createElement("div",{className:"fixed inset-0 flex"},r.createElement(i.Lj,{transition:!0,className:"absolute right-10 -mr-10 mt-4 flex w-full max-w-[250px] flex-1 transform transition duration-200 ease-in-out data-[closed]:translate-x-full"},r.createElement("div",{className:"flex !grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-2 pt-4"},r.createElement("nav",{className:"flex flex-1 flex-col pt-8"},r.createElement("ul",{role:"list",className:"flex flex-1 flex-col gap-y-2"},r.createElement("li",{className:"flex justify-end pb-4"},r.createElement("button",{type:"button",onClick:function(){return n(!1)}},r.createElement("span",{className:"sr-only"},"Close sidebar"),r.createElement(oa.zhF,{className:"h-6 w-6 text-black"}))),r.createElement("li",null,r.createElement("ul",{role:"list",className:"-mx-2 space-y-1"},Td.map((function(e){var t=e.items.filter((function(e){return!c.includes(e.id)&&e.show_in_menu}));return 0===t.length?null:r.createElement(r.Fragment,{key:"mobile-group-"+e.group_id},t.map((function(e){return r.createElement(r.Fragment,{key:"mobile-tab-"+e.id},r.createElement("li",null,r.createElement("a",{href:e.href,onClick:function(t){return _(t,e.id)},className:k(g.id===e.id?"bg-gray-200 text-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-blue-600","group flex items-center gap-x-3 rounded-md p-2 text-sm font-semibold leading-6")},r.createElement(e.icon,{className:k(g.id===e.id?"text-blue-600":"text-gray-600 group-hover:text-blue-600","".concat(e.icon_size," shrink-0"))}),e.name)))})),!e.is_last_group&&r.createElement("li",{className:"my-[10px]"},r.createElement("div",{className:"border-b-[1px] border-b-gray-300"})))}))))))))))),r.createElement("div",{className:k("relative hidden xl:!flex xl:!flex-col",f?"min-w-[200px]":"w-[52px]")},r.createElement("button",{onClick:function(){return E(!f)},className:"group absolute -right-[15px] top-[30px] z-20 flex h-6 w-4 -translate-y-1/2 items-center justify-center"},f?r.createElement(r.Fragment,null,r.createElement(O,{content:(0,l.__)("Collapse sidebar","advanced-database-cleaner"),align:"left"},r.createElement(xe.eCD,{className:"text-[1.2rem] text-gray-400 group-hover:text-black"}))):r.createElement(r.Fragment,null,r.createElement(O,{content:(0,l.__)("Expand sidebar","advanced-database-cleaner"),align:"left"},r.createElement(xe.xHA,{className:"text-[1.2rem] text-gray-400 group-hover:text-black"})))),r.createElement("div",{className:"mb-10 flex !grow flex-col bg-transparent"},r.createElement("div",{className:"relative flex h-[70px] items-center gap-x-4 bg-[#0B96CB] text-white ".concat(f?"pl-[20px]":"justify-center","\n            ")},r.createElement(I,{href:"FREE"===R?"https://wordpress.org/plugins/advanced-database-cleaner/":"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=logo&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=adbc-landing-page",target:"_blank",className:"!text-white !no-underline hover:!text-gray-200"},r.createElement("div",{className:"flex flex-col gap-y-0"},r.createElement("img",{src:uf,alt:"Logo",className:k("w-[34px]")})),f&&r.createElement(r.Fragment,null,r.createElement("div",{className:" flex flex-col gap-y-0"},r.createElement("span",{className:"py-0 text-[1.1rem] font-bold"},"Advanced DB"),r.createElement("span",{className:"-mt-1 flex items-center gap-x-2 py-0"},r.createElement("span",{className:"text-[1rem] font-bold"},"Cleaner"),r.createElement("span",{className:"mt-[3px] flex items-center border-l border-indigo-200 bg-transparent pl-[5px] text-[.6rem] font-semibold leading-none text-gray-200"},"FREE"===R?(0,l.__)("Free","advanced-database-cleaner"):(0,l.__)("Premium","advanced-database-cleaner"))))),r.createElement("div",{className:"absolute -top-2 left-0 rounded-r-md rounded-tl-md bg-[#0B96CB] px-2 py-0 text-center text-[10px] text-white ".concat(f?"":"w-full","\n                ")},z))),r.createElement("nav",{className:"mt-4 flex flex-1 flex-col"},r.createElement("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7"},r.createElement("li",null,r.createElement("ul",{role:"list",className:"px-2"},Td.map((function(e){var t=e.items.filter((function(e){return!c.includes(e.id)&&e.show_in_menu}));return 0===t.length?null:r.createElement(r.Fragment,{key:"desktop-group-"+e.group_id},t.map((function(e){return r.createElement(r.Fragment,{key:"desktop-tab-"+e.id},r.createElement("li",{className:"my-0"},r.createElement("a",{href:e.href,onClick:function(t){return _(t,e.id)},className:k(g.id===e.id?"rounded-lg bg-white !text-blue-600":"text-gray-700 hover:rounded-lg hover:bg-gray-200 hover:text-blue-600","group my-[3px] flex flex-col px-2 py-[4px] font-bold leading-6 focus:ring-0")},r.createElement("div",{className:"flex h-full min-h-[24px] items-center gap-x-3"},f?r.createElement(e.icon,{className:k(g.id===e.id?"text-blue-600":"text-gray-600 group-hover:text-blue-600","".concat(e.icon_size," shrink-0"))}):r.createElement(O,{content:e.name,align:"left"},r.createElement(e.icon,{className:k(g.id===e.id?"text-blue-600":"text-gray-600 group-hover:text-blue-600","".concat(e.icon_size," shrink-0"))})),r.createElement("div",{className:"flex w-full flex-col"},f&&r.createElement("span",{className:"text-[.83rem] font-normal text-black"},e.name)),"FREE"===R&&e.is_premium&&f&&r.createElement("div",{className:""},r.createElement(u.xGQ,{className:"h-[12px] w-[12px] text-yellow-600"}))))))})),!e.is_last_group&&r.createElement("li",{className:"my-[10px]"},r.createElement("div",{className:"border-b-[1px] border-b-gray-300"})))})))))),r.createElement("div",{className:"border-t border-gray-200 px-2 py-3"},f&&r.createElement("div",{className:"flex flex-col items-center"},r.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},(0,l.__)("By","advanced-database-cleaner"),r.createElement(I,{href:"https://sigmaplugin.com?utm_source=sidebar-bottom&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=sigmaplugin-home-page"),target:"_blank",className:"font-semibold !text-gray-500 no-underline hover:!text-gray-600"},"SigmaPlugin"),"",r.createElement("span",{className:"text-gray-500"},z)),r.createElement("div",{className:"mt-1 flex gap-1 text-center text-[11px]"},r.createElement(I,{href:"FREE"===R?"https://wordpress.org/support/plugin/advanced-database-cleaner/":"https://sigmaplugin.com/contact?utm_source=sidebar-bottom&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=support",target:"_blank",className:"font-semibold !text-blue-500 no-underline hover:!text-blue-600"},(0,l.__)("Support","advanced-database-cleaner")),"/",r.createElement(I,{href:"https://docs.sigmaplugin.com/collection/54-advanced-db-cleaner-4x?utm_source=sidebar-bottom&utm_medium=".concat(V,"&utm_campaign=plugins&utm_content=documentation"),target:"_blank",className:"font-semibold !text-blue-500 no-underline hover:!text-blue-600"},(0,l.__)("Docs","advanced-database-cleaner"))))))),r.createElement("div",{className:"top-10 z-40 flex items-center justify-between gap-x-6 border-b border-b-gray-300 bg-[#0B96CB] px-4 py-2 shadow-sm sm:px-6 xl:!hidden"},r.createElement(I,{href:"FREE"===R?"https://wordpress.org/plugins/advanced-database-cleaner/":"https://sigmaplugin.com/downloads/wordpress-advanced-database-cleaner?utm_source=logo&utm_medium=adbc-premium&utm_campaign=plugins&utm_content=adbc-landing-page",target:"_blank",className:"!text-white !no-underline hover:!text-gray-200"},r.createElement("div",{className:"flex h-[80px] items-center gap-x-4"},r.createElement("img",{src:uf,alt:"Logo",className:"w-[35px] sm:w-[35px]"}),r.createElement("div",{className:"flex flex-col gap-[2px]"},r.createElement("span",{className:"text-[1.1rem] font-bold"},"Advanced DB Cleaner"),r.createElement("span",{className:"flex items-center"},r.createElement("span",{className:"text-[.8rem] font-thin"},z),r.createElement("span",{className:"ml-2 mt-[2px] flex h-[15px] items-center rounded-md bg-sky-700 px-2 py-0.5 text-[9px] font-semibold uppercase leading-none text-white opacity-70"},"FREE"===R?(0,l.__)("Free","advanced-database-cleaner"):(0,l.__)("Premium","advanced-database-cleaner")))))),r.createElement("button",{type:"button",className:"-m-2.5 rounded-md p-2 text-gray-700",onClick:function(){return n(!0)}},r.createElement("span",{className:"sr-only"},"Open sidebar"),r.createElement(Po.ND1,{className:"h-8 w-8 text-white"}))),r.createElement("main",{className:"min-w-0 flex-1 bg-white pb-20 xl:min-h-[800px]"},r.createElement("div",{className:"h-[60px] px-4 sm:px-6"},r.createElement("div",{className:"flex h-full w-full justify-between border border-l-0 border-r-0 border-t-0 border-b-gray-300/80"},r.createElement("div",{className:"flex items-center gap-x-4"},r.createElement(g.icon,{className:"h-[38px] w-[38px] rounded-md border border-b-[.2rem] border-blue-300 bg-blue-50 p-2 text-blue-500"}),d&&jm(d)?r.createElement("span",{className:"text-xl font-bold text-gray-900 lg:text-[1.3rem]"},Lm[d]||""):r.createElement("span",{className:"text-xl font-bold text-gray-900 lg:text-[1.3rem]"},g.name)),r.createElement(fn,null))),r.createElement("div",{className:"min-h-[20rem] px-4 pt-8 sm:px-6"},vf.map((function(e,t){return r.createElement(im,{key:"warning-"+t,type:"warning"},e.message)})),"PREMIUM"===R&&!v&&r.createElement(im,{type:"warning"},(0,l.__)("Please activate your license key to receive plugin updates.","advanced-database-cleaner"),r.createElement(I,{href:"#",className:"ml-1",onClick:function(e){e.preventDefault(),b(Rd({tabId:"settings"}))}},(0,l.__)("Activate now","advanced-database-cleaner"))),"PREMIUM"===R&&v&&"valid"!==y&&r.createElement(im,{type:"warning"},(0,l.__)("There is an issue with your license. Please check your license status in the settings.","advanced-database-cleaner"),r.createElement(I,{href:"#",className:"ml-1",onClick:function(e){e.preventDefault(),b(Rd({tabId:"settings"}))}},(0,l.__)("Check license status","advanced-database-cleaner"))),h&&r.createElement("div",{className:"mb-10"},r.createElement(im,{type:"info"},r.createElement("div",{className:"flex flex-col gap-3"},(0,l.__)("You are now using the newest premium version of the plugin, would you like to import your data from the previous version?","advanced-database-cleaner"),r.createElement("div",{className:"flex gap-x-4"},r.createElement(w,{text:"Yes, import data",className:"!h-[2rem] !w-fit !px-4",onClick:function(){b(qd())}}),r.createElement(w,{text:"No, don't import",className:"!h-[2rem] !w-fit !px-4",onClick:N}))))),p&&r.createElement("div",{className:"mb-10"},r.createElement(im,{type:"warning",notificationKey:"imported_tasks_deactivated_notice"},(0,l.__)("For technical reasons, all automation tasks imported from the previous version have been paused. Please review your tasks and reactivate those you wish to continue using.","advanced-database-cleaner"),r.createElement(I,{href:"",className:"ml-1",onClick:function(e){e.preventDefault(),b(Rd({tabId:"automation"}))}},(0,l.__)("Go to automation","advanced-database-cleaner")))),!yf&&r.createElement(g.component,null))),r.createElement("div",{className:"fixed bottom-6 right-1 z-50"},r.createElement(O,{content:(0,l.__)("Help","advanced-database-cleaner"),align:"right"},r.createElement(I,{href:"#",onClick:function(e){e.preventDefault(),b(Yd())},className:"group flex h-6 w-6 items-center justify-center bg-transparent !text-blue-500 transition-all duration-200 hover:!text-blue-600 md:h-10 md:w-8"},r.createElement(be.f1Z,{className:"h-full w-full"})))))};var bf=document.getElementById("adbc-plugin-root");tf.createRoot(bf).render(r.createElement(m.Kq,{store:nf},r.createElement(a.Ht,{client:sf},r.createElement(gf,null),r.createElement(sm,null),r.createElement(Bm,null),r.createElement(Um,null),r.createElement(Wm,null),r.createElement(Xm,null))))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,r,a]=e[u],l=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var s=r();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var i={};t=t||[null,n({}),n([]),n(n)];for(var l=2&r&&e;"object"==typeof l&&!~t.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,o.d(a,i),a},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../"})(),(()=>{var e={524:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,l,c]=n,s=0;if(i.some((t=>0!==e[t]))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(c)var u=c(o)}for(t&&t(n);s<i.length;s++)a=i[s],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self.webpackChunkadbc_plugin=self.webpackChunkadbc_plugin||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[96],(()=>o(6177)));i=o.O(i)})();